function atvImg(){function a(t,e,n,i,o,a){var r=C.scrollTop||S.scrollTop,s=C.scrollLeft,l=e?t.touches[0].pageX:t.pageX,c=e?t.touches[0].pageY:t.pageY,u=n.getBoundingClientRect(),d=n.clientWidth||n.offsetWidth||n.scrollWidth,p=n.clientHeight||n.offsetHeight||n.scrollHeight,h=320/d,f=.52-(l-u.left-s)/d,m=.52-(c-u.top-r)/p,g=c-u.top-r-p/2,v=l-u.left-s-d/2,y="rotateX("+.05*h*(g-m)+"deg) rotateY("+.035*h*(f-v)+"deg)",b=180*Math.atan2(g,v)/Math.PI-90;b<0&&(b+=360),-1!=n.firstChild.className.indexOf(" over")&&(y+=" scale3d(1.035,1.035,1.035)"),n.firstChild.style.transform=y,a.style.background="linear-gradient("+b+"deg, rgba(255,255,255,"+(c-u.top-r)/p*.2+") 0%,rgba(255,255,255,0) 80%)",a.style.transform="translateX("+f*o-.05+"px) translateY("+m*o-.05+"px)";for(var w=o,x=0;x<o;x++)i[x].style.transform="translateX("+f*w*(2.5*x/h)+"px) translateY("+m*o*(2.5*x/h)+"px)",w--}function r(t,e){e.firstChild.className+=" over"}function s(t,e,n,i,o){var a=e.firstChild;a.className=a.className.replace(" over",""),a.style.transform="",o.style.cssText="";for(var r=0;r<i;r++)n[r].style.transform=""}var t=document,C=(t.documentElement,t.getElementsByTagName("body")[0]),S=t.getElementsByTagName("html")[0],l=window,e=t.querySelectorAll(".atvImg"),n=e.length,i="ontouchstart"in l||navigator.msMaxTouchPoints;if(!(n<=0))for(var o=0;o<n;o++){var c=e[o],u=c.querySelectorAll(".atvImg-layer"),d=u.length;if(!(d<=0)){for(;c.firstChild;)c.removeChild(c.firstChild);var p=t.createElement("div"),h=t.createElement("div"),f=t.createElement("div"),m=t.createElement("div"),g=[];c.id="atvImg__"+o,p.className="atvImg-container",h.className="atvImg-shine",f.className="atvImg-shadow",m.className="atvImg-layers";for(var v=0;v<d;v++){var y=t.createElement("div"),b=u[v].getAttribute("data-img");y.className="atvImg-rendered-layer",y.setAttribute("data-layer",v),y.style.backgroundImage="url("+b+")",m.appendChild(y),g.push(y)}p.appendChild(f),p.appendChild(m),p.appendChild(h),c.appendChild(p);var w=c.clientWidth||c.offsetWidth||c.scrollWidth;c.style.transform="perspective("+3*w+"px)",i?(l.preventScroll=!1,function(e,n,i,o){c.addEventListener("touchmove",function(t){l.preventScroll&&t.preventDefault(),a(t,!0,e,n,i,o)}),c.addEventListener("touchstart",function(t){l.preventScroll=!0,r(t,e)}),c.addEventListener("touchend",function(t){l.preventScroll=!1,s(t,e,n,i,o)})}(c,g,d,h)):function(e,n,i,o){c.addEventListener("mousemove",function(t){a(t,!1,e,n,i,o)}),c.addEventListener("mouseenter",function(t){r(t,e)}),c.addEventListener("mouseleave",function(t){s(t,e,n,i,o)})}(c,g,d,h)}}}function addScript(t){var e=document.createElement("script");e.setAttribute("src",t.src),t.async&&e.setAttribute("async",t.async),e.setAttribute("id",t.id),e.onload=t.callback,document.body.appendChild(e)}function trackLogoEvent(t,e){$.ajax({type:"post",url:"/logos/"+t+"/track_event",data:"data="+JSON.stringify(e)})}function setJivoSiteUserParams(t,e){_.isUndefined(window.jivo_api)||(console.log("set jivosite params: "+t+", id: "+e),jivo_api.setContactInfo({email:t}),jivo_api.setCustomData([{title:"user_id",content:e.toString(),link:"https://turbologo.ru/admin/users/"+e}]))}function setJivoSiteGuestUserId(t){_.isUndefined(window.jivo_api)||jivo_api.setCustomData([{title:"guest_user_id",content:t.toString()}])}function reachYandexGoal(t,e){_.isUndefined(window.yaCounter44776492)||window.yaCounter44776492.reachGoal(t,e)}function initPostAffiliate(){PostAffTracker.setAccountId("default1");try{PostAffTracker.track()}catch(e){}if(window.post_affilate_track){var t=PostAffTracker.createSale();t.setTotalCost(window.post_affilate_track.amount),t.setOrderID(window.post_affilate_track.order_id),t.setProductID(window.post_affilate_track.product_id),PostAffTracker.register()}}if(function(t,e){var n=e(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(i,h){"use strict";if(h.getElementsByClassName){var f,m,g=h.documentElement,s=i.Date,o=i.HTMLPictureElement,a="addEventListener",v="getAttribute",e=i[a],d=i.setTimeout,n=i.requestAnimationFrame||d,l=i.requestIdleCallback,p=/^picture$/i,r=["load","error","lazyincluded","_lazyloaded"],c={},y=Array.prototype.forEach,u=function(t,e){return c[e]||(c[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),c[e].test(t[v]("class")||"")&&c[e]},b=function(t,e){u(t,e)||t.setAttribute("class",(t[v]("class")||"").trim()+" "+e)},w=function(t,e){var n;(n=u(t,e))&&t.setAttribute("class",(t[v]("class")||"").replace(n," "))},x=function(e,n,t){var i=t?a:"removeEventListener";t&&x(e,n),r.forEach(function(t){e[i](t,n)})},C=function(t,e,n,i,o){var a=h.createEvent("Event");return n||(n={}),n.instance=f,a.initEvent(e,!i,!o),a.detail=n,t.dispatchEvent(a),a},S=function(t,e){var n;!o&&(n=i.picturefill||m.pf)?(e&&e.src&&!t[v]("srcset")&&t.setAttribute("srcset",e.src),n({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},_=function(t,e){return(getComputedStyle(t,null)||{})[e]},$=function(t,e,n){for(n=n||t.offsetWidth;n<m.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},T=(mt=[],gt=ft=[],vt=function(){var t=gt;for(gt=ft.length?mt:ft,ht=!(pt=!0);t.length;)t.shift()();pt=!1},(yt=function(t,e){pt&&!e?t.apply(this,arguments):(gt.push(t),ht||(ht=!0,(h.hidden?d:n)(vt)))})._lsFlush=vt,yt),k=function(n,t){return t?function(){T(n)}:function(){var t=this,e=arguments;T(function(){n.apply(t,e)})}},t=function(t){var n,i=0,o=m.throttleDelay,a=m.ricTimeout,e=function(){n=!1,i=s.now(),t()},r=l&&49<a?function(){l(e,{timeout:a}),a!==m.ricTimeout&&(a=m.ricTimeout)}:k(function(){d(e)},!0);return function(t){var e;(t=!0===t)&&(a=33),n||(n=!0,(e=o-(s.now()-i))<0&&(e=0),t||e<9?r():d(r,e))}},I=function(t){var e,n,i=99,o=function(){e=null,t()},a=function(){var t=s.now()-n;t<i?d(a,i-t):(l||o)(o)};return function(){n=s.now(),e||(e=d(a,i))}};!function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in m=i.lazySizesConfig||i.lazysizesConfig||{},e)t in m||(m[t]=e[t]);i.lazySizesConfig=m,d(function(){m.init&&A()})}();var E=(V=/^img$/i,G=/^iframe$/i,U="onscroll"in i&&!/(gle|ing)bot/.test(navigator.userAgent),Z=K=Q=0,J=-1,tt=function(t){Z--,t&&t.target&&x(t.target,tt),(!t||Z<0||!t.target)&&(Z=0)},et=function(t,e){var n,i=t,o="hidden"==_(h.body,"visibility")||"hidden"!=_(t.parentNode,"visibility")&&"hidden"!=_(t,"visibility");for(q-=e,Y+=e,W-=e,X+=e;o&&(i=i.offsetParent)&&i!=h.body&&i!=g;)(o=0<(_(i,"opacity")||1))&&"visible"!=_(i,"overflow")&&(n=i.getBoundingClientRect(),o=X>n.left&&W<n.right&&Y>n.top-1&&q<n.bottom+1);return o},it=t(nt=function(){var t,e,n,i,o,a,r,s,l,c,u,d,p=f.elements;if((F=m.loadMode)&&Z<8&&(t=p.length)){for(e=0,J++,u=(c=!m.expand||m.expand<1?500<g.clientHeight&&500<g.clientWidth?500:370:m.expand)*m.expFactor,d=m.hFac,K<u&&Z<1&&2<J&&2<F&&!h.hidden?(K=u,J=0):K=1<F&&1<J&&Z<6?c:Q;e<t;e++)if(p[e]&&!p[e]._lazyRace)if(U)if((s=p[e][v]("data-expand"))&&(a=1*s)||(a=K),l!==a&&(R=innerWidth+a*d,B=innerHeight+a,r=-1*a,l=a),n=p[e].getBoundingClientRect(),(Y=n.bottom)>=r&&(q=n.top)<=B&&(X=n.right)>=r*d&&(W=n.left)<=R&&(Y||X||W||q)&&(m.loadHidden||"hidden"!=_(p[e],"visibility"))&&(N&&Z<3&&!s&&(F<3||J<4)||et(p[e],a))){if(ut(p[e]),o=!0,9<Z)break}else!o&&N&&!i&&Z<4&&J<4&&2<F&&(j[0]||m.preloadAfterLoad)&&(j[0]||!s&&(Y||X||W||q||"auto"!=p[e][v](m.sizesAttr)))&&(i=j[0]||p[e]);else ut(p[e]);i&&!o&&ut(i)}}),at=k(ot=function(t){b(t.target,m.loadedClass),w(t.target,m.loadingClass),x(t.target,rt),C(t.target,"lazyloaded")}),rt=function(t){at({target:t.target})},st=function(t,e){try{t.contentWindow.location.replace(e)}catch(f){t.src=e}},lt=function(t){var e,n=t[v](m.srcsetAttr);(e=m.customMedia[t[v]("data-media")||t[v]("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},ct=k(function(t,e,n,i,o){var a,r,s,l,c,u;(c=C(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(n?b(t,m.autosizesClass):t.setAttribute("sizes",i)),r=t[v](m.srcsetAttr),a=t[v](m.srcAttr),o&&(l=(s=t.parentNode)&&p.test(s.nodeName||"")),u=e.firesLoad||"src"in t&&(r||a||l),c={target:t},u&&(x(t,tt,!0),clearTimeout(L),L=d(tt,2500),b(t,m.loadingClass),x(t,rt,!0)),l&&y.call(s.getElementsByTagName("source"),lt),r?t.setAttribute("srcset",r):a&&!l&&(G.test(t.nodeName)?st(t,a):t.src=a),o&&(r||l)&&S(t,{src:a})),t._lazyRace&&delete t._lazyRace,w(t,m.lazyClass),T(function(){(!u||t.complete&&1<t.naturalWidth)&&(u?tt(c):Z--,ot(c))},!0)}),dt=function(){if(!N){if(s.now()-H<999)return void d(dt,999);var t=I(function(){m.loadMode=3,it()});N=!0,m.loadMode=3,it(),e("scroll",function(){3==m.loadMode&&(m.loadMode=2),t()},!0)}},{_:function(){H=s.now(),f.elements=h.getElementsByClassName(m.lazyClass),j=h.getElementsByClassName(m.lazyClass+" "+m.preloadClass),e("scroll",it,!0),e("resize",it,!0),i.MutationObserver?new MutationObserver(it).observe(g,{childList:!0,subtree:!0,attributes:!0}):(g[a]("DOMNodeInserted",it,!0),g[a]("DOMAttrModified",it,!0),setInterval(it,999)),e("hashchange",it,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){h[a](t,it,!0)}),/d$|^c/.test(h.readyState)?dt():(e("load",dt),h[a]("DOMContentLoaded",it),d(dt,2e4)),f.elements.length?(nt(),T._lsFlush()):it()},checkElems:it,unveil:ut=function(t){var e,n=V.test(t.nodeName),i=n&&(t[v](m.sizesAttr)||t[v]("sizes")),o="auto"==i;(!o&&N||!n||!t[v]("src")&&!t.srcset||t.complete||u(t,m.errorClass)||!u(t,m.lazyClass))&&(e=C(t,"lazyunveilread").detail,o&&P.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,Z++,ct(t,e,o,i,n))}}),P=(O=k(function(t,e,n,i){var o,a,r;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),p.test(e.nodeName||""))for(a=0,r=(o=e.getElementsByTagName("source")).length;a<r;a++)o[a].setAttribute("sizes",i);n.detail.dataAttr||S(t,n.detail)}),z=function(t,e,n){var i,o=t.parentNode;o&&(n=$(t,o,n),(i=C(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&O(t,o,i,n))},{_:function(){M=h.getElementsByClassName(m.autosizesClass),e("resize",D)},checkElems:D=I(function(){var t,e=M.length;if(e)for(t=0;t<e;t++)z(M[t])}),updateElem:z}),A=function(){A.i||(A.i=!0,P._(),E._())};return f={cfg:m,autoSizer:P,loader:E,init:A,uP:S,aC:b,rC:w,hC:u,fire:C,gW:$,rAF:T}}var M,O,z,D,j,N,L,F,H,R,B,q,W,X,Y,V,G,U,Q,K,Z,J,tt,et,nt,it,ot,at,rt,st,lt,ct,ut,dt,pt,ht,ft,mt,gt,vt,yt}),function(t,e){"function"==typeof define&&define.amd?define("i18n",function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.I18n=e(t)}(this,function(t){"use strict";var v=t&&t.I18n||{},o=Array.prototype.slice,y=function(t){return("0"+t.toString()).substr(-2)},c=function(t,e){return i("round",t,-e).toFixed(e)},l=function(t){var e=typeof t;return"function"===e||"object"===e},n=function(t){return"function"===typeof t},u=function(t){return null!=t},r=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},a=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},s=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},d=function(t){return!0===t||!1===t},p=function(t){return null===t},i=function(t,e,n){return void 0===n||0==+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+n:n))))},h=function(t,e){return n(t)?t(e):t},f=function(t,e){var n,i;for(n in e)e.hasOwnProperty(n)&&(i=e[n],a(i)||s(i)||d(i)||r(i)||p(i)?t[n]=i:(null==t[n]&&(t[n]={}),f(t[n],i)));return t},b={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},m={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},g={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},w={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},x=[null,"kb","mb","gb","tb"],e={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return v.reset=function(){var t;for(t in e)this[t]=e[t]},v.initializeOptions=function(){var t;for(t in e)u(this[t])||(this[t]=e[t])},v.initializeOptions(),v.locales={},v.locales.get=function(t){var e=this[t]||this[v.locale]||this["default"];return n(e)&&(e=e(t)),!1===r(e)&&(e=[e]),e},v.locales["default"]=function(t){var e=[],o=[];return t&&e.push(t),!t&&v.locale&&e.push(v.locale),v.fallbacks&&v.defaultLocale&&e.push(v.defaultLocale),e.forEach(function(e){var t=e.split("-"),n=null,i=null;3===t.length?(n=[t[0],t[1]].join("-"),i=t[0]):2===t.length&&(n=t[0]),-1===o.indexOf(e)&&o.push(e),v.fallbacks&&[n,i].forEach(function(t){null!=t&&t!==e&&-1===o.indexOf(t)&&o.push(t)})}),e.length||e.push("en"),o},v.pluralization={},v.pluralization.get=function(t){return this[t]||this[v.locale]||this["default"]},v.pluralization["default"]=function(t){switch(t){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},v.currentLocale=function(){return this.locale||this.defaultLocale},v.isSet=u,v.lookup=function(t,e){e=e||{};var n,i,o,a,r=this.locales.get(e.locale).slice();for(o=this.getFullScope(t,e);r.length;)if(n=r.shift(),i=o.split(this.defaultSeparator),a=this.translations[n]){for(;i.length&&(a=a[i.shift()])!==undefined&&null!==a;);if(a!==undefined&&null!==a)return a}if(u(e.defaultValue))return h(e.defaultValue,t)},v.pluralizationLookupWithoutFallback=function(t,e,n){var i,o,a=this.pluralization.get(e)(t);if(l(n))for(;a.length;)if(i=a.shift(),u(n[i])){o=n[i];break}return o},v.pluralizationLookup=function(t,e,n){n=n||{};var i,o,a,r,s=this.locales.get(n.locale).slice();for(e=this.getFullScope(e,n);s.length;)if(i=s.shift(),o=e.split(this.defaultSeparator),a=this.translations[i]){for(;o.length&&(a=a[o.shift()],l(a));)0===o.length&&(r=this.pluralizationLookupWithoutFallback(t,i,a));if(null!=r)break}return null==r&&u(n.defaultValue)&&(r=l(n.defaultValue)?this.pluralizationLookupWithoutFallback(t,n.locale,n.defaultValue):n.defaultValue,a=n.defaultValue),{message:r,translations:a}},v.meridian=function(){var t=this.lookup("time"),e=this.lookup("date");return t&&t.am&&t.pm?[t.am,t.pm]:e&&e.meridian?e.meridian:b.meridian},v.prepareOptions=function(){for(var t,e=o.call(arguments),n={};e.length;)if("object"==typeof(t=e.shift()))for(var i in t)t.hasOwnProperty(i)&&(u(n[i])||(n[i]=t[i]));return n},v.createTranslationOptions=function(t,e){var n=[{scope:t}];return u(e.defaults)&&(n=n.concat(e.defaults)),u(e.defaultValue)&&n.push({message:e.defaultValue}),n},v.translate=function(e,n){n=n||{};var i,t=this.createTranslationOptions(e,n),o=e,a=this.prepareOptions(n);return delete a.defaultValue,t.some(function(t){if(u(t.scope)?(o=t.scope,i=this.lookup(o,a)):u(t.message)&&(i=h(t.message,e)),i!==undefined&&null!==i)return!0},this)?("string"==typeof i?i=this.interpolate(i,n):r(i)?i=i.map(function(t){return"string"==typeof t?this.interpolate(t,n):t},this):l(i)&&u(n.count)&&(i=this.pluralize(n.count,o,n)),i):this.missingTranslation(e,n)},v.interpolate=function(t,e){if(null===t)return t;e=e||{};var n,i,o,a,r=t.match(this.placeholder);if(!r)return t;for(;r.length;)o=(n=r.shift()).replace(this.placeholder,"$1"),i=u(e[o])?e[o].toString().replace(/\$/gm,"_#$#_"):o in e?this.nullPlaceholder(n,t,e):this.missingPlaceholder(n,t,e),a=new RegExp(n.replace(/{/gm,"\\{").replace(/}/gm,"\\}")),t=t.replace(a,i);return t.replace(/_#\$#_/g,"$")},v.pluralize=function(t,e,n){var i,o;return n=this.prepareOptions({count:String(t)},n),"undefined"==typeof(o=this.pluralizationLookup(t,e,n)).translations||null==o.translations?this.missingTranslation(e,n):"undefined"!=typeof o.message&&null!=o.message?this.interpolate(o.message,n):(i=this.pluralization.get(n.locale),this.missingTranslation(e+"."+i(t)[0],n))},v.missingTranslation=function(t,e){if("guess"!==this.missingBehaviour)return'[missing "'+[null!=e&&null!=e.locale?e.locale:this.currentLocale(),this.getFullScope(t,e)].join(this.defaultSeparator)+'" translation]';var n=t.split(".").slice(-1)[0];return(0<this.missingTranslationPrefix.length?this.missingTranslationPrefix:"")+n.replace("_"," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n.toLowerCase()})},v.missingPlaceholder=function(t){return"[missing "+t+" value]"},v.nullPlaceholder=function(){return v.missingPlaceholder.apply(v,arguments)},v.toNumber=function(t,e){e=this.prepareOptions(e,this.lookup("number.format"),m);var n,i,o=t<0,a=c(Math.abs(t),e.precision).toString().split("."),r=[],s=e.format||"%n",l=o?"-":"";for(t=a[0],n=a[1];0<t.length;)r.unshift(t.substr(Math.max(0,t.length-3),3)),t=t.substr(0,t.length-3);return i=r.join(e.delimiter),e.strip_insignificant_zeros&&n&&(n=n.replace(/0+$/,"")),0<e.precision&&n&&(i+=e.separator+n),i=(s=e.sign_first?"%s"+s:s.replace("%n","%s%n")).replace("%u",e.unit).replace("%n",i).replace("%s",l)},v.toCurrency=function(t,e){return e=this.prepareOptions(e,this.lookup("number.currency.format"),this.lookup("number.format"),g),this.toNumber(t,e)},v.localize=function(t,e,n){switch(n||(n={}),t){case"currency":return this.toCurrency(e);case"number":return t=this.lookup("number.format"),this.toNumber(e,t);case"percentage":return this.toPercentage(e);default:var i;return i=t.match(/^(date|time)/)?this.toTime(t,e):e.toString(),this.interpolate(i,n)}},v.parseDate=function(t){var e,n,i;if("object"==typeof t)return t;if(e=t.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var o=1;o<=6;o++)e[o]=parseInt(e[o],10)||0;e[2]-=1,i=e[7]?1e3*("0"+e[7]):null,n=e[8]?new Date(Date.UTC(e[1],e[2],e[3],e[4],e[5],e[6],i)):new Date(e[1],e[2],e[3],e[4],e[5],e[6],i)}else"number"==typeof t?(n=new Date).setTime(t):t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(n=new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" "))):(t.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(n=new Date).setTime(Date.parse(t)));return n},v.strftime=function(t,e){var n=this.lookup("date"),i=v.meridian();if(n||(n={}),n=this.prepareOptions(n,b),isNaN(t.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var o=t.getDay(),a=t.getDate(),r=t.getFullYear(),s=t.getMonth()+1,l=t.getHours(),c=l,u=11<l?1:0,d=t.getSeconds(),p=t.getMinutes(),h=t.getTimezoneOffset(),f=Math.floor(Math.abs(h/60)),m=Math.abs(h)-60*f,g=(0<h?"-":"+")+(f.toString().length<2?"0"+f:f)+(m.toString().length<2?"0"+m:m);return 12<c?c-=12:0===c&&(c=12),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("%a",n.abbr_day_names[o])).replace("%A",n.day_names[o])).replace("%b",n.abbr_month_names[s])).replace("%B",n.month_names[s])).replace("%d",y(a))).replace("%e",a)).replace("%-d",a)).replace("%H",y(l))).replace("%-H",l)).replace("%I",y(c))).replace("%-I",c)).replace("%m",y(s))).replace("%-m",s)).replace("%M",y(p))).replace("%-M",p)).replace("%p",i[u])).replace("%S",y(d))).replace("%-S",d)).replace("%w",o)).replace("%y",y(r))).replace("%-y",y(r).replace(/^0+/,""))).replace("%Y",r)).replace("%z",g)},v.toTime=function(t,e){var n=this.parseDate(e),i=this.lookup(t);return n.toString().match(/invalid/i)?n.toString():i?this.strftime(n,i):n.toString()},v.toPercentage=function(t,e){return e=this.prepareOptions(e,this.lookup("number.percentage.format"),this.lookup("number.format"),w),this.toNumber(t,e)},v.toHumanSize=function(t,e){for(var n,i,o=1024,a=t,r=0;o<=a&&r<4;)a/=o,r+=1;return 0===r?(n=this.t("number.human.storage_units.units.byte",{count:a}),i=0):(n=this.t("number.human.storage_units.units."+x[r]),i=a-Math.floor(a)==0?0:1),e=this.prepareOptions(e,{unit:n,precision:i,format:"%n%u",delimiter:""}),this.toNumber(a,e)},v.getFullScope=function(t,e){return e=e||{},r(t)&&(t=t.join(this.defaultSeparator)),e.scope&&(t=[e.scope,t].join(this.defaultSeparator)),t},v.extend=function(t,e){return void 0===t&&void 0===e?{}:f(t,e)},v.t=v.translate,v.l=v.localize,v.p=v.pluralize,v}),I18n.translations||(I18n.translations={}),I18n.translations.en=I18n.extend(I18n.translations.en||{},{js:{checkout:{pay:"Pay"},close_modal:{button:"Close",title:"Are you sure you want to close this?"},cloudpayments:{language:"en-US",logo_template:"Logo #<%= logo_id %>. Amount <%= amount %> <%= currency %> (converted to <%= rub_amount %> RUB, by rate 1 <%= currency %> = <%= conversion_rate %> RUB)",logo_template_rub:"Logo #<%= logo_id %>. Amount <%= amount %> rub.",payment_template:"Payment #<%= payment_id %>. Amount <%= amount %> <%= currency %> (converted to <%= rub_amount %> RUB, by rate 1 <%= currency %> = <%= conversion_rate %> RUB)",payment_template_rub:"Payment #<%= payment_id %>. Amount <%= amount %> rub.",pk_id:"pk_c218588fe7c584d90b746311a83ce"},color_picker:{cancel:"Cancel",choose:"Choose"},coupon:{not_found:"Coupon not found",with_coupon:"with your coupon"},generator:{color:{"continue":"Continue",skip:"Skip that step"},company_name:{shorter_name_advice:"Tip: logos with shorter names usually looks better. Maybe it is better to move part of name to slogan",shorter_slogan_advice:"Tip: logo with shorter slogan usually looks better"},icons:{delete_icon_alert:"Remove icon to add new",see_logos_btn:"See logos",skip_btn:"Skip",suggested:"suggested"}},inline_loader:{color_variants:"Generating color options",generating:"Generating",loading:"Loading",monogram_variants:"Generating",slogan_variants:"Generating slogan options"},jivo:{plan_help:"Hello! Please note that now we have excellent discounts for Standard and Business tariffs!"},logos:{purchased_notification:"You purchased <%= package %> package"},master_generator:{alert_text:"Current changes will be loosed",alert_title:"Are you sure you want to return back?",alert_yes:"Yes"},packages:{basic:"Lite",business:"Business",optima:"Standard"},paypal:{error:{header:"Some error happened",text:"We have some issue happened with PayPal payment. Please contact us to resolve it or try another payment option."}},purchased_tag:"Purchased",share:{twitter_text:"Take a look on my logo"},snackbar:{logo_duplicated:"Logo duplicated",logo_updated:"Logo updated"},stripe:{error:{cardholder_empty:"Please enter cardholder name",header:"Payment failed!",text:'Your payment was not made for some reason:\n<ul>\n  <li>Wrong CVC or expiration date (MM/YY)</li>\n  <li>Not enough balance on account</li>\n  <li>Wrong ZIP code</li>\n  <li>Bank doesn\'t support international payments. Contact your bank to enable it</li>\n  <li>Network issue</li>\n</ul>\n<p>Please double check entered data or contact us <a href="mailto:support@turbologo.com">support@turbologo.com</a></p>\n'}},unsaved_changes_confirm:"Do you really want to quit? You'll loose all unsaved changes"}}),I18n.translations.ru=I18n.extend(I18n.translations.ru||{},{js:{checkout:{pay:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"},close_modal:{button:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e \u043e\u043a\u043d\u043e?"},cloudpayments:{language:"ru-RU",logo_template:"\u041b\u043e\u0433\u043e \u2116<%= logo_id %>. \u0421\u0443\u043c\u043c\u0430 <%= amount %> <%= currency %> (\u0441\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043a <%= rub_amount %> \u0440\u0443\u0431., \u043f\u043e \u043a\u0443\u0440\u0441\u0443 1 <%= currency %> = <%= conversion_rate %> \u0440\u0443\u0431.)",logo_template_rub:"\u041b\u043e\u0433\u043e \u2116<%= logo_id %>. \u0421\u0443\u043c\u043c\u0430 <%= amount %> \u0440\u0443\u0431.",payment_template:"\u041f\u043b\u0430\u0442\u0435\u0436 \u2116<%= payment_id %>. \u0421\u0443\u043c\u043c\u0430 <%= amount %> <%= currency %> (\u0441\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043a <%= rub_amount %> \u0440\u0443\u0431., \u043f\u043e \u043a\u0443\u0440\u0441\u0443 1 <%= currency %> = <%= conversion_rate %> \u0440\u0443\u0431.)",payment_template_rub:"\u041f\u043b\u0430\u0442\u0435\u0436 \u2116<%= payment_id %>. \u0421\u0443\u043c\u043c\u0430 <%= amount %> \u0440\u0443\u0431.",pk_id:"pk_d7f5373123b4ebc8626d03dbf1694"},color_picker:{cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"},coupon:{not_found:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043a\u0443\u043f\u043e\u043d \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",with_coupon:"\u0441 \u0432\u0430\u0448\u0438\u043c \u043a\u0443\u043f\u043e\u043d\u043e\u043c"},generator:{color:{"continue":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",skip:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0448\u0430\u0433"},company_name:{shorter_name_advice:"\u0421\u043e\u0432\u0435\u0442: \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u044b \u0441 \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u043c\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u043b\u0443\u0447\u0448\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0441\u043b\u043e\u0432\u043e \u0432 \u0441\u043b\u043e\u0433\u0430\u043d.",shorter_slogan_advice:"\u0421\u043e\u0432\u0435\u0442: \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u044b \u0441 \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u043c\u0438 \u0441\u043b\u043e\u0433\u0430\u043d\u0430\u043c\u0438 \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u043b\u0443\u0447\u0448\u0435"},icons:{delete_icon_alert:"\u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u0438\u043a\u043e\u043d\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e",see_logos_btn:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u044b",skip_btn:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",suggested:"\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435"}},inline_loader:{color_variants:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0446\u0432\u0435\u0442\u0430",generating:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",monogram_variants:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u043c\u043e\u043d\u043e\u0433\u0440\u0430\u043c\u043c\u044b",slogan_variants:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0441\u043b\u043e\u0433\u0430\u043d\u0430"},jivo:{plan_help:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0442 \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043a\u0438\u0434\u043a\u0438 \u043d\u0430 \u0442\u0430\u0440\u0438\u0444\u044b \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u0438 \u0411\u0438\u0437\u043d\u0435\u0441."},logos:{purchased_notification:"\u0412\u044b \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u043b\u0438 \u043f\u0430\u043a\u0435\u0442 <%= package %>"},master_generator:{alert_text:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b",alert_title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e?",alert_yes:"\u0414\u0430"},packages:{basic:"\u041b\u0430\u0439\u0442",business:"\u0411\u0438\u0437\u043d\u0435\u0441",optima:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442"},paypal:{error:{header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0430",text:"\u041f\u043b\u0430\u0442\u0435\u0436 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437 \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b. \u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c \u044d\u0442\u0443 \u043e\u0448\u0438\u0431\u043a\u0443."}},purchased_tag:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d",share:{twitter_text:"\u0412\u0437\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u043d\u0430 \u043c\u043e\u0439 \u043b\u043e\u0433\u043e\u0442\u0438\u043f"},snackbar:{logo_duplicated:"\u041b\u043e\u0433\u043e \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d",logo_updated:"\u041b\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"},stripe:{error:{cardholder_empty:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0430 \u043a\u0430\u0440\u0442\u044b",header:"\u041f\u043b\u0430\u0442\u0435\u0436 \u043d\u0435 \u0431\u044b\u043b \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d!",text:'\u0412\u0430\u0448 \u043f\u043b\u0430\u0442\u0435\u0436 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b:\n<ul>\n  <li>\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d CVC \u0438\u043b\u0438 \u0441\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043a\u0430\u0440\u0442\u044b (\u041c\u041c/\u0413\u0413)</li>\n  <li>\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0435\u043d\u0435\u0433 \u043d\u0430 \u0441\u0447\u0435\u0442\u0435</li>\n  <li>\u0411\u0430\u043d\u043a \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439</li>\n  <li>\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438</li>\n</ul>\n<p>\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430. \u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438 <a href="mailto:support@turbologo.com">support@turbologo.com</a>, \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c.</p>\n'}},unsaved_changes_confirm:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0439\u0442\u0438? \u0412\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442\u0435 \u0432\u0441\u0435 \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f."}}),function(){function t(s){function l(t,e,n,i,o,a){for(;0<=o&&o<a;o+=s){var r=i?i[o]:o;n=e(n,t[r],r,t)}return n}return function(t,e,n,i){e=b(e,i,4);var o=!T(t)&&y.keys(t),a=(o||t).length,r=0<s?0:a-1;return arguments.length<3&&(n=t[o?o[r]:r],r+=s),l(t,e,n,o,r,a)}}function e(a){return function(t,e,n){e=w(e,n);for(var i=$(t),
o=0<a?0:i-1;0<=o&&o<i;o+=a)if(e(t[o],o,t))return o;return-1}}function n(a,r,s){return function(t,e,n){var i=0,o=$(t);if("number"==typeof n)0<a?i=0<=n?n:Math.max(n+o,i):o=0<=n?Math.min(n+1,o):n+o+1;else if(s&&n&&o)return t[n=s(t,e)]===e?n:-1;if(e!=e)return 0<=(n=r(u.call(t,i,o),y.isNaN))?n+i:-1;for(n=0<a?i:o-1;0<=n&&n<o;n+=a)if(t[n]===e)return n;return-1}}function i(t,e){var n=A.length,i=t.constructor,o=y.isFunction(i)&&i.prototype||s,a="constructor";for(y.has(t,a)&&!y.contains(e,a)&&e.push(a);n--;)(a=A[n])in t&&t[a]!==o[a]&&!y.contains(e,a)&&e.push(a)}var o=this,a=o._,r=Array.prototype,s=Object.prototype,l=Function.prototype,c=r.push,u=r.slice,d=s.toString,p=s.hasOwnProperty,h=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):o._=y,y.VERSION="1.8.3";var b=function(o,a,t){if(void 0===a)return o;switch(null==t?3:t){case 1:return function(t){return o.call(a,t)};case 2:return function(t,e){return o.call(a,t,e)};case 3:return function(t,e,n){return o.call(a,t,e,n)};case 4:return function(t,e,n,i){return o.call(a,t,e,n,i)}}return function(){return o.apply(a,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,Infinity)};var x=function(l,c){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],o=l(i),a=o.length,r=0;r<a;r++){var s=o[r];c&&void 0!==t[s]||(t[s]=i[s])}return t}},C=function(t){if(!y.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,$=S("length"),T=function(t){var e=$(t);return"number"==typeof e&&0<=e&&e<=_};y.each=y.forEach=function(t,e,n){var i,o;if(e=b(e,n),T(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var a=y.keys(t);for(i=0,o=a.length;i<o;i++)e(t[a[i]],a[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!T(t)&&y.keys(t),o=(i||t).length,a=Array(o),r=0;r<o;r++){var s=i?i[r]:r;a[r]=e(t[s],s,t)}return a},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=T(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,i,e){var o=[];return i=w(i,e),y.each(t,function(t,e,n){i(t,e,n)&&o.push(t)}),o},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!T(t)&&y.keys(t),o=(i||t).length,a=0;a<o;a++){var r=i?i[a]:a;if(!e(t[r],r,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!T(t)&&y.keys(t),o=(i||t).length,a=0;a<o;a++){var r=i?i[a]:a;if(e(t[r],r,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return T(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),0<=y.indexOf(t,e,n)},y.invoke=function(t,n){var i=u.call(arguments,2),o=y.isFunction(n);return y.map(t,function(t){var e=o?n:t[n];return null==e?e:e.apply(t,i)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,i,e){var n,o,a=-Infinity,r=-Infinity;if(null==i&&null!=t)for(var s=0,l=(t=T(t)?t:y.values(t)).length;s<l;s++)n=t[s],a<n&&(a=n);else i=w(i,e),y.each(t,function(t,e,n){o=i(t,e,n),(r<o||o===-Infinity&&a===-Infinity)&&(a=t,r=o)});return a},y.min=function(t,i,e){var n,o,a=Infinity,r=Infinity;if(null==i&&null!=t)for(var s=0,l=(t=T(t)?t:y.values(t)).length;s<l;s++)(n=t[s])<a&&(a=n);else i=w(i,e),y.each(t,function(t,e,n){((o=i(t,e,n))<r||o===Infinity&&a===Infinity)&&(a=t,r=o)});return a},y.shuffle=function(t){for(var e,n=T(t)?t:y.values(t),i=n.length,o=Array(i),a=0;a<i;a++)(e=y.random(0,a))!==a&&(o[a]=o[e]),o[e]=n[a];return o},y.sample=function(t,e,n){return null==e||n?(T(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,i,e){return i=w(i,e),y.pluck(y.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(r){return function(i,o,t){var a={};return o=w(o,t),y.each(i,function(t,e){var n=o(t,e,i);r(a,t,n)}),a}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?u.call(t):T(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:T(t)?t.length:y.keys(t).length},y.partition=function(t,i,e){i=w(i,e);var o=[],a=[];return y.each(t,function(t,e,n){(i(t,e,n)?o:a).push(t)}),[o,a]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var I=function(t,e,n,i){for(var o=[],a=0,r=i||0,s=$(t);r<s;r++){var l=t[r];if(T(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=I(l,e,n));var c=0,u=l.length;for(o.length+=u;c<u;)o[a++]=l[c++]}else n||(o[a++]=l)}return o};y.flatten=function(t,e){return I(t,e,!1)},y.without=function(t){return y.difference(t,u.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var o=[],a=[],r=0,s=$(t);r<s;r++){var l=t[r],c=n?n(l,r,t):l;e?(r&&a===c||o.push(l),a=c):n?y.contains(a,c)||(a.push(c),o.push(l)):y.contains(o,l)||o.push(l)}return o},y.union=function(){return y.uniq(I(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=$(t);i<o;i++){var a=t[i];if(!y.contains(e,a)){for(var r=1;r<n&&y.contains(arguments[r],a);r++);r===n&&e.push(a)}}return e},y.difference=function(t){var e=I(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,$).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,o=$(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){for(var o=(n=w(n,i,1))(e),a=0,r=$(t);a<r;){var s=Math.floor((a+r)/2);n(t[s])<o?a=s+1:r=s}return a},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),a=0;a<i;a++,t+=n)o[a]=t;return o};var E=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var a=C(t.prototype),r=t.apply(a,o);return y.isObject(r)?r:a};y.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,u.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return E(t,i,e,this,n.concat(u.call(arguments)))};return i},y.partial=function(o){var a=u.call(arguments,1),r=function(){for(var t=0,e=a.length,n=Array(e),i=0;i<e;i++)n[i]=a[i]===y?arguments[t++]:a[i];for(;t<arguments.length;)n.push(arguments[t++]);return E(o,r,this,this,n)};return r},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(i,o){var a=function(t){var e=a.cache,n=""+(o?o.apply(this,arguments):t);return y.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return a.cache={},a},y.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,i,o){var a,r,s,l=null,c=0;o||(o={});var u=function(){c=!1===o.leading?0:y.now(),l=null,s=n.apply(a,r),l||(a=r=null)};return function(){var t=y.now();c||!1!==o.leading||(c=t);var e=i-(t-c);return a=this,r=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),c=t,s=n.apply(a,r),l||(a=r=null)):l||!1===o.trailing||(l=setTimeout(u,e)),s}},y.debounce=function(e,n,i){var o,a,r,s,l,c=function(){var t=y.now()-s;t<n&&0<=t?o=setTimeout(c,n-t):(o=null,i||(l=e.apply(r,a),o||(r=a=null)))};return function(){r=this,a=arguments,s=y.now();var t=i&&!o;return o||(o=setTimeout(c,n)),t&&(l=e.apply(r,a),r=a=null),l}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return P&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return P&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,o=y.keys(t),a=o.length,r={},s=0;s<a;s++)r[i=o[s]]=e(t[i],i,t);return r},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,o=y.keys(t),a=0,r=o.length;a<r;a++)if(e(t[i=o[a]],i,t))return i},y.pick=function(t,e,n){var i,o,a={},r=t;if(null==r)return a;y.isFunction(e)?(o=y.allKeys(r),i=b(e,n)):(o=I(arguments,!1,!1,1),i=function(t,e,n){return e in n},r=Object(r));for(var s=0,l=o.length;s<l;s++){var c=o[s],u=r[c];i(u,c,r)&&(a[c]=u)}return a},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(I(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=C(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),a=0;a<i;a++){var r=n[a];if(e[r]!==o[r]||!(r in o))return!1}return!0};var M=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var o=d.call(t);if(o!==d.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var a="[object Array]"===o;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var r=t.constructor,s=e.constructor;if(r!==s&&!(y.isFunction(r)&&r instanceof r&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),a){if((l=t.length)!==e.length)return!1;for(;l--;)if(!M(t[l],e[l],n,i))return!1}else{var c,u=y.keys(t);if(l=u.length,y.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(e,c)||!M(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return M(t,e)},y.isEmpty=function(t){return null==t||(T(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=h||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&p.call(t,e)},y.noConflict=function(){return o._=a,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=y.invert(O),D=function(e){var n=function(t){return e[t]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),o=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,n):t}};y.escape=D(O),y.unescape=D(z),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var j=0;y.uniqueId=function(t){var e=++j+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+L[t]};y.template=function(a,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||N).source,(t.interpolate||N).source,(t.evaluate||N).source].join("|")+"|$","g"),r=0,s="__p+='";a.replace(n,function(t,e,n,i,o){return s+=a.slice(r,o).replace(F,H),r=o+t.length,e?s+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var i=new Function(t.variable||"obj","_",s)}catch(c){throw c.source=s,c}var o=function(t){return i.call(this,t,y)},l=t.variable||"obj";return o.source="function("+l+"){\n"+s+"}",o},y.chain=function(t){var e=y(t);return e._chain=!0,e};var R=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var t=[this._wrapped];return c.apply(t,arguments),R(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],R(this,t)}}),y.each(["concat","join","slice"],function(t){var e=r[t];y.prototype[t]=function(){return R(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(_,t){"use strict";function m(t,e,n){var i,o=(e=e||rt).createElement("script");if(o.text=t,n)for(i in wt)n[i]&&(o[i]=n[i]);e.head.appendChild(o).parentNode.removeChild(o)}function g(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?pt[ht.call(t)]||"object":typeof t}function s(t){var e=!!t&&"length"in t&&t.length,n=g(t);return!yt(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function c(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function e(t,n,i){return yt(n)?Ct.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?Ct.grep(t,function(t){return t===n!==i}):"string"!=typeof n?Ct.grep(t,function(t){return-1<dt.call(n,t)!==i}):Ct.filter(n,t,i)}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var n={};return Ct.each(t.match(Ot)||[],function(t,e){n[e]=!0}),n}function d(t){return t}function p(t){throw t}function l(t,e,n,i){var o;try{t&&yt(o=t.promise)?o.call(t).done(e).fail(n):t&&yt(o=t.then)?o.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function i(){rt.removeEventListener("DOMContentLoaded",i),_.removeEventListener("load",i),Ct.ready()}function o(t,e){return e.toUpperCase()}function h(t){return t.replace(Nt,"ms-").replace(Lt,o)}function a(){this.expando=Ct.expando+a.uid++}function r(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Bt.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(qt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=r(n)}catch(o){}Rt.set(t,e,n)}else n=undefined;return n}function v(t,e,n,i){var o,a,r=20,s=i?function(){return i.cur()}:function(){return Ct.css(t,e,"")},l=s(),c=n&&n[3]||(Ct.cssNumber[e]?"":"px"),u=(Ct.cssNumber[e]||"px"!==c&&+l)&&Xt.exec(Ct.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)Ct.style(t,e,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(r=0),u/=a;u*=2,Ct.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function y(t){var e,n=t.ownerDocument,i=t.nodeName,o=Ut[i];return o||(e=n.body.appendChild(n.createElement(i)),o=Ct.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),Ut[i]=o)}function b(t,e){for(var n,i,o=[],a=0,r=t.length;a<r;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(o[a]=Ht.get(i,"display")||null,o[a]||(i.style.display="")),""===i.style.display&&Vt(i)&&(o[a]=y(i))):"none"!==n&&(o[a]="none",Ht.set(i,"display",n)));for(a=0;a<r;a++)null!=o[a]&&(t[a].style.display=o[a]);return t}function w(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&c(t,e)?Ct.merge([t],n):n}function x(t,e){for(var n=0,i=t.length;n<i;n++)Ht.set(t[n],"globalEval",!e||Ht.get(e[n],"globalEval"))}function C(t,e,n,i,o){for(var a,r,s,l,c,u,d=e.createDocumentFragment(),p=[],h=0,f=t.length;h<f;h++)if((a=t[h])||0===a)if("object"===g(a))Ct.merge(p,a.nodeType?[a]:a);else if(ne.test(a)){for(r=r||d.appendChild(e.createElement("div")),s=(Kt.exec(a)||["",""])[1].toLowerCase(),l=Jt[s]||Jt._default,r.innerHTML=l[1]+Ct.htmlPrefilter(a)+l[2],u=l[0];u--;)r=r.lastChild;Ct.merge(p,r.childNodes),(r=d.firstChild).textContent=""}else p.push(e.createTextNode(a));for(d.textContent="",h=0;a=p[h++];)if(i&&-1<Ct.inArray(a,i))o&&o.push(a);else if(c=Ct.contains(a.ownerDocument,a),r=w(d.appendChild(a),"script"),c&&x(r),n)for(u=0;a=r[u++];)Zt.test(a.type||"")&&n.push(a);return d}function S(){return!0}function $(){return!1}function T(){try{return rt.activeElement}catch(t){}}function k(t,e,n,i,o,a){var r,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)k(t,s,n,i,e[s],a);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=$;else if(!o)return t;return 1===a&&(r=o,(o=function(t){return Ct().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=Ct.guid++)),t.each(function(){Ct.event.add(this,e,o,i,n)})}function I(t,e){return c(t,"table")&&c(11!==e.nodeType?e:e.firstChild,"tr")&&Ct(t).children("tbody")[0]||t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function P(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function A(t,e){var n,i,o,a,r,s,l,c;if(1===e.nodeType){if(Ht.hasData(t)&&(a=Ht.access(t),r=Ht.set(e,a),c=a.events))for(o in delete r.handle,r.events={},c)for(n=0,i=c[o].length;n<i;n++)Ct.event.add(e,o,c[o][n]);Rt.hasData(t)&&(s=Rt.access(t),l=Ct.extend({},s),Rt.set(e,l))}}function M(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Qt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function O(n,i,o,a){i=ct.apply([],i);var t,e,r,s,l,c,u=0,d=n.length,p=d-1,h=i[0],f=yt(h);if(f||1<d&&"string"==typeof h&&!vt.checkClone&&ce.test(h))return n.each(function(t){var e=n.eq(t);f&&(i[0]=h.call(this,t,e.html())),O(e,i,o,a)});if(d&&(e=(t=C(i,n[0].ownerDocument,!1,n,a)).firstChild,1===t.childNodes.length&&(t=e),e||a)){for(s=(r=Ct.map(w(t,"script"),E)).length;u<d;u++)l=t,u!==p&&(l=Ct.clone(l,!0,!0),s&&Ct.merge(r,w(l,"script"))),o.call(n[u],l,u);if(s)for(c=r[r.length-1].ownerDocument,Ct.map(r,P),u=0;u<s;u++)l=r[u],Zt.test(l.type||"")&&!Ht.access(l,"globalEval")&&Ct.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Ct._evalUrl&&Ct._evalUrl(l.src):m(l.textContent.replace(ue,""),c,l))}return n}function z(t,e,n){for(var i,o=e?Ct.filter(e,t):t,a=0;null!=(i=o[a]);a++)n||1!==i.nodeType||Ct.cleanData(w(i)),i.parentNode&&(n&&Ct.contains(i.ownerDocument,i)&&x(w(i,"script")),i.parentNode.removeChild(i));return t}function D(t,e,n){var i,o,a,r,s=t.style;return(n=n||pe(t))&&(""!==(r=n.getPropertyValue(e)||n[e])||Ct.contains(t.ownerDocument,t)||(r=Ct.style(t,e)),!vt.pixelBoxStyles()&&de.test(r)&&he.test(e)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a)),r!==undefined?r+"":r}function j(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function N(t){if(t in be)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ye.length;n--;)if((t=ye[n]+e)in be)return t}function L(t){var e=Ct.cssProps[t];return e||(e=Ct.cssProps[t]=N(t)||t),e}function F(t,e,n){var i=Xt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function H(t,e,n,i,o,a){var r="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=Ct.css(t,n+Yt[r],!0,o)),i?("content"===n&&(l-=Ct.css(t,"padding"+Yt[r],!0,o)),"margin"!==n&&(l-=Ct.css(t,"border"+Yt[r]+"Width",!0,o))):(l+=Ct.css(t,"padding"+Yt[r],!0,o),"padding"!==n?l+=Ct.css(t,"border"+Yt[r]+"Width",!0,o):s+=Ct.css(t,"border"+Yt[r]+"Width",!0,o));return!i&&0<=a&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))),l}function R(t,e,n){var i=pe(t),o=D(t,e,i),a="border-box"===Ct.css(t,"boxSizing",!1,i),r=a;if(de.test(o)){if(!n)return o;o="auto"}return r=r&&(vt.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===Ct.css(t,"display",!1,i))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],r=!0),(o=parseFloat(o)||0)+H(t,e,n||(a?"border":"content"),r,i,o)+"px"}function B(t,e,n,i,o){return new B.prototype.init(t,e,n,i,o)}function q(){xe&&(!1===rt.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(q):_.setTimeout(q,Ct.fx.interval),Ct.fx.tick())}function W(){return _.setTimeout(function(){we=undefined}),we=Date.now()}function X(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=Yt[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function Y(t,e,n){for(var i,o=(U.tweeners[e]||[]).concat(U.tweeners["*"]),a=0,r=o.length;a<r;a++)if(i=o[a].call(n,e,t))return i}function V(t,e,n){var i,o,a,r,s,l,c,u,d="width"in e||"height"in e,p=this,h={},f=t.style,m=t.nodeType&&Vt(t),g=Ht.get(t,"fxshow");for(i in n.queue||(null==(r=Ct._queueHooks(t,"fx")).unqueued&&(r.unqueued=0,s=r.empty.fire,r.empty.fire=function(){r.unqueued||s()}),r.unqueued++,p.always(function(){p.always(function(){r.unqueued--,Ct.queue(t,"fx").length||r.empty.fire()})})),e)if(o=e[i],_e.test(o)){if(delete e[i],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||g[i]===undefined)continue;m=!0}h[i]=g&&g[i]||Ct.style(t,i)}if((l=!Ct.isEmptyObject(e))||!Ct.isEmptyObject(h))for(i in d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Ht.get(t,"display")),"none"===(u=Ct.css(t,"display"))&&(c?u=c:(b([t],!0),c=t.style.display||c,u=Ct.css(t,"display"),b([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===Ct.css(t,"float")&&(l||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=Ht.access(t,"fxshow",{display:c}),a&&(g.hidden=!m),m&&b([t],!0),p.done(function(){for(i in m||b([t]),Ht.remove(t,"fxshow"),h)Ct.style(t,i,h[i])})),l=Y(m?g[i]:0,i,p),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}function G(t,e){var n,i,o,a,r;for(n in t)if(o=e[i=h(n)],a=t[n],Array.isArray(a)&&(o=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(r=Ct.cssHooks[i])&&"expand"in r)for(n in a=r.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=o);else e[i]=o}function U(a,t,e){var n,r,i=0,o=U.prefilters.length,s=Ct.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=we||W(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(a,[c,n,e]),n<1&&o?e:(o||s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c]),!1)},c=s.promise({elem:a,props:Ct.extend({},t),opts:Ct.extend(!0,{specialEasing:{},easing:Ct.easing._default},e),originalProperties:t,originalOptions:e,startTime:we||W(),duration:e.duration,tweens:[],createTween:function(t,e){var n=Ct.Tween(a,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c,t])):s.rejectWith(a,[c,t]),this}}),u=c.props;for(G(u,c.opts.specialEasing);i<o;i++)if(n=U.prefilters[i].call(c,a,u,c.opts))return yt(n.stop)&&(Ct._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return Ct.map(u,Y,c),yt(c.opts.start)&&c.opts.start.call(a,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Ct.fx.timer(Ct.extend(l,{elem:a,anim:c,queue:c.opts.queue})),c}function Q(t){return(t.match(Ot)||[]).join(" ")}function K(t){return t.getAttribute&&t.getAttribute("class")||""}function Z(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Ot)||[]}function J(n,t,i,o){var e;if(Array.isArray(t))Ct.each(t,function(t,e){i||je.test(n)?o(n,e):J(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==g(t))o(n,t);else for(e in t)J(n+"["+e+"]",t[e],i,o)}function tt(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(Ot)||[];if(yt(e))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function et(e,o,a,r){function s(t){var i;return l[t]=!0,Ct.each(e[t]||[],function(t,e){var n=e(o,a,r);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===Ge;return s(o.dataTypes[0])||!l["*"]&&s("*")}function nt(t,e){var n,i,o=Ct.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&Ct.extend(!0,t,i),t}function it(t,e,n){for(var i,o,a,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){a=o;break}r||(r=o)}a=a||r}if(a)return a!==l[0]&&l.unshift(a),n[a]}function ot(t,e,n,i){var o,a,r,s,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(a=s[0],u.unshift(s[1]));break}if(!0!==r)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}var at=[],rt=_.document,st=Object.getPrototypeOf,lt=at.slice,ct=at.concat,ut=at.push,dt=at.indexOf,pt={},ht=pt.toString,ft=pt.hasOwnProperty,mt=ft.toString,gt=mt.call(Object),vt={},yt=function yt(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function bt(t){return null!=t&&t===t.window},wt={type:!0,src:!0,noModule:!0},xt="3.3.1",Ct=function(t,e){return new Ct.fn.init(t,e)},St=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ct.fn=Ct.prototype={jquery:xt,constructor:Ct,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Ct.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Ct.each(this,t)},map:function(n){return this.pushStack(Ct.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:at.sort,splice:at.splice},Ct.extend=Ct.fn.extend=function(t){var e,n,i,o,a,r,s=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||yt(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],s!==(o=e[n])&&(u&&o&&(Ct.isPlainObject(o)||(a=Array.isArray(o)))?(a?(a=!1,r=i&&Array.isArray(i)?i:[]):r=i&&Ct.isPlainObject(i)?i:{},s[n]=Ct.extend(u,r,o)):o!==undefined&&(s[n]=o));return s},Ct.extend({expando:"jQuery"+(xt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ht.call(t))&&(!(e=st(t))||"function"==typeof(n=ft.call(e,"constructor")&&e.constructor)&&mt.call(n)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){m(t)},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(St,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?Ct.merge(n,"string"==typeof t?[t]:t):ut.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:dt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,a=t.length,r=!n;o<a;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,a=0,r=[];if(s(t))for(i=t.length;a<i;a++)null!=(o=e(t[a],a,n))&&r.push(o);else for(a in t)null!=(o=e(t[a],a,n))&&r.push(o);return ct.apply([],r)},guid:1,support:vt}),"function"==typeof Symbol&&(Ct.fn[Symbol.iterator]=at[Symbol.iterator]),Ct.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){pt["[object "+e+"]"]=e.toLowerCase()});var _t=function(n){function w(t,e,n,i){var o,a,r,s,l,c,u,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:R)!==O&&M(e),e=e||O,D)){if(11!==p&&(l=vt.exec(t)))if(o=l[1]){if(9===p){if(!(r=e.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(d&&(r=d.getElementById(o))&&F(e,r)&&r.id===o)return n.push(r),n}else{if(l[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((o=l[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(o)),n}if(C.qsa&&!Y[t+" "]&&(!j||!j.test(t))){if(1!==p)d=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,Ct):e.setAttribute("id",s=H),a=(c=T(t)).length;a--;)c[a]="#"+s+" "+m(c[a]);u=c.join(","),d=yt.test(t)&&f(e.parentNode)||e}if(u)try{return Z.apply(n,d.querySelectorAll(u)),n}catch(h){}finally{s===H&&e.removeAttribute("id")}}}return I(t.replace(st,"$1"),e,n,i)}
function t(){function n(t,e){return i.push(t+" ")>S.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[H]=!0,t}function o(t){var e=O.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function a(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function r(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_t(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(r){return l(function(a){return a=+a,l(function(t,e){for(var n,i=r([],t.length,a),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,c=t.next,u=c||l,d=e&&"parentNode"===u,p=q++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||d)return s(t,e,n);return!1}:function(t,e,n){var i,o,a,r=[B,p];if(n){for(;t=t[l];)if((1===t.nodeType||d)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||d)if(o=(a=t[H]||(t[H]={}))[t.uniqueID]||(a[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[l]||t;else{if((i=o[u])&&i[0]===B&&i[1]===p)return r[2]=i[2];if((o[u]=r)[2]=s(t,e,n))return!0}return!1}}function p(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function y(t,e,n){for(var i=0,o=e.length;i<o;i++)w(t,e[i],n);return n}function x(t,e,n,i,o){for(var a,r=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,o)||(r.push(a),c&&e.push(s)));return r}function b(h,f,m,g,v,t){return g&&!g[H]&&(g=b(g)),v&&!v[H]&&(v=b(v,t)),l(function(t,e,n,i){var o,a,r,s=[],l=[],c=e.length,u=t||y(f||"*",n.nodeType?[n]:n,[]),d=!h||!t&&f?u:x(u,s,h,n,i),p=m?v||(t?h:c||g)?[]:e:d;if(m&&m(d,p,n,i),g)for(o=x(p,l),g(o,[],n,i),a=o.length;a--;)(r=o[a])&&(p[l[a]]=!(d[l[a]]=r));if(t){if(v||h){if(v){for(o=[],a=p.length;a--;)(r=p[a])&&o.push(d[a]=r);v(null,p=[],o,i)}for(a=p.length;a--;)(r=p[a])&&-1<(o=v?tt(t,r):s[a])&&(t[o]=!(e[o]=r))}}else p=x(p===e?p.splice(c,p.length):p),v?v(null,e,p,i):Z.apply(e,p)})}function h(t){for(var o,e,n,i=t.length,a=S.relative[t[0].type],r=a||S.relative[" "],s=a?1:0,l=d(function(t){return t===o},r,!0),c=d(function(t){return-1<tt(o,t)},r,!0),u=[function(t,e,n){var i=!a&&(n||e!==E)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=S.relative[t[s].type])u=[d(p(u),e)];else{if((e=S.filter[t[s].type].apply(null,t[s].matches))[H]){for(n=++s;n<i&&!S.relative[t[n].type];n++);return b(1<s&&p(u),1<s&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&h(t.slice(s,n)),n<i&&h(t=t.slice(n)),n<i&&m(t))}u.push(e)}return p(u)}function g(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,o){var a,r,s,l=0,c="0",u=t&&[],d=[],p=E,h=t||b&&S.find.TAG("*",o),f=B+=null==p?1:Math.random()||.1,m=h.length;for(o&&(E=e===O||e||o);c!==m&&null!=(a=h[c]);c++){if(b&&a){for(r=0,e||a.ownerDocument===O||(M(a),n=!D);s=g[r++];)if(s(a,e||O,n)){i.push(a);break}o&&(B=f)}y&&((a=!s&&a)&&l--,t&&u.push(a))}if(l+=c,y&&c!==l){for(r=0;s=v[r++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=Q.call(i));d=x(d)}Z.apply(i,d),o&&!t&&0<d.length&&1<l+v.length&&w.uniqueSort(i)}return o&&(B=f,E=p),u};return y?l(t):t}var v,C,S,_,$,T,k,I,E,P,A,M,O,z,D,j,N,L,F,H="sizzle"+1*new Date,R=n.document,B=0,q=0,W=t(),X=t(),Y=t(),V=function(t,e){return t===e&&(A=!0),0},G={}.hasOwnProperty,U=[],Q=U.pop,K=U.push,Z=U.push,J=U.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",rt=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(at),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ct=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},St=function(){M()},_t=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(U=J.call(R.childNodes),R.childNodes),U[R.childNodes.length].nodeType}catch($t){Z={apply:U.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(v in C=w.support={},$=w.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},M=w.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:R;return i!==O&&9===i.nodeType&&i.documentElement&&(z=(O=i).documentElement,D=!$(O),R!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",St,!1):n.attachEvent&&n.attachEvent("onunload",St)),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=gt.test(O.getElementsByClassName),C.getById=o(function(t){return z.appendChild(t).id=H,!O.getElementsByName||!O.getElementsByName(H).length}),C.getById?(S.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n?[n]:[]}}):(S.filter.ID=function(t){var n=t.replace(bt,wt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n,i,o,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(o=e.getElementsByName(t),i=0;a=o[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),S.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,a=e.getElementsByTagName(t);if("*"!==t)return a;for(;n=a[o++];)1===n.nodeType&&i.push(n);return i},S.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&D)return e.getElementsByClassName(t)},N=[],j=[],(C.qsa=gt.test(O.querySelectorAll))&&(o(function(t){z.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||j.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),z.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(C.matchesSelector=gt.test(L=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&o(function(t){C.disconnectedMatch=L.call(t,"*"),L.call(t,"[s!='']:x"),N.push("!=",at)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),e=gt.test(z.compareDocumentPosition),F=e||gt.test(z.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===R&&F(R,t)?-1:e===O||e.ownerDocument===R&&F(R,e)?1:P?tt(P,t)-tt(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,r=[t],s=[e];if(!o||!a)return t===O?-1:e===O?1:o?-1:a?1:P?tt(P,t)-tt(P,e):0;if(o===a)return c(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;r[i]===s[i];)i++;return i?c(r[i],s[i]):r[i]===R?-1:s[i]===R?1:0}),O},w.matches=function(t,e){return w(t,null,null,e)},w.matchesSelector=function(t,e){if((t.ownerDocument||t)!==O&&M(t),e=e.replace(ut,"='$1']"),C.matchesSelector&&D&&!Y[e+" "]&&(!N||!N.test(e))&&(!j||!j.test(e)))try{var n=L.call(t,e);if(n||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch($t){}return 0<w(e,O,null,[t]).length},w.contains=function(t,e){return(t.ownerDocument||t)!==O&&M(t),F(t,e)},w.attr=function(t,e){(t.ownerDocument||t)!==O&&M(t);var n=S.attrHandle[e.toLowerCase()],i=n&&G.call(S.attrHandle,e.toLowerCase())?n(t,e,!D):undefined;return i!==undefined?i:C.attributes||!D?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},w.escape=function(t){return(t+"").replace(xt,Ct)},w.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},w.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!C.detectDuplicates,P=!C.sortStable&&t.slice(0),t.sort(V),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return P=null,t},_=w.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},(S=w.selectors={cacheLength:50,createPseudo:l,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||w.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&w.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=w.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(rt," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,a,r,s,l,c=v!==y?"nextSibling":"previousSibling",u=t.parentNode,d=b&&t.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(u){if(v){for(;c;){for(r=t;r=r[c];)if(b?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&p){for(h=(s=(i=(o=(a=(r=u)[H]||(r[H]={}))[r.uniqueID]||(a[r.uniqueID]={}))[f]||[])[0]===B&&i[1])&&i[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(h=s=0)||l.pop();)if(1===r.nodeType&&++h&&r===t){o[f]=[B,s,h];break}}else if(p&&(h=s=(i=(o=(a=(r=t)[H]||(r[H]={}))[r.uniqueID]||(a[r.uniqueID]={}))[f]||[])[0]===B&&i[1]),!1===h)for(;(r=++s&&r&&r[c]||(h=s=0)||l.pop())&&((b?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++h||(p&&((o=(a=r[H]||(r[H]={}))[r.uniqueID]||(a[r.uniqueID]={}))[f]=[B,h]),r!==t)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(t,a){var e,r=S.pseudos[t]||S.setFilters[t.toLowerCase()]||w.error("unsupported pseudo: "+t);return r[H]?r(a):1<r.length?(e=[t,t,"",a],S.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=r(t,a),o=i.length;o--;)t[n=tt(t,i[o])]=!(e[n]=i[o])}):function(t){return r(t,0,e)}):r}},pseudos:{not:l(function(t){var i=[],o=[],s=k(t.replace(st,"$1"));return s[H]?l(function(t,e,n,i){for(var o,a=s(t,null,i,[]),r=t.length;r--;)(o=a[r])&&(t[r]=!(e[r]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<w(e,t).length}}),contains:l(function(e){return e=e.replace(bt,wt),function(t){return-1<(t.textContent||t.innerText||_(t)).indexOf(e)}}),lang:l(function(n){return pt.test(n||"")||w.error("unsupported lang: "+n),n=n.replace(bt,wt).toLowerCase(),function(t){var e;do{if(e=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===z},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:r(!1),disabled:r(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[v]=i(v);for(v in{submit:!0,reset:!0})S.pseudos[v]=a(v);return u.prototype=S.filters=S.pseudos,S.setFilters=new u,T=w.tokenize=function(t,e){var n,i,o,a,r,s,l,c=X[t+" "];if(c)return e?0:c.slice(0);for(r=t,s=[],l=S.preFilter;r;){for(a in n&&!(i=lt.exec(r))||(i&&(r=r.slice(i[0].length)||r),s.push(o=[])),n=!1,(i=ct.exec(r))&&(n=i.shift(),o.push({value:n,type:i[0].replace(st," ")}),r=r.slice(n.length)),S.filter)!(i=ht[a].exec(r))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),r=r.slice(n.length));if(!n)break}return e?r.length:r?w.error(t):X(t,s).slice(0)},k=w.compile=function(t,e){var n,i=[],o=[],a=Y[t+" "];if(!a){for(e||(e=T(t)),n=e.length;n--;)(a=h(e[n]))[H]?i.push(a):o.push(a);(a=Y(t,g(o,i))).selector=t}return a},I=w.select=function(t,e,n,i){var o,a,r,s,l,c="function"==typeof t&&t,u=!i&&T(t=c.selector||t);if(n=n||[],1===u.length){if(2<(a=u[0]=u[0].slice(0)).length&&"ID"===(r=a[0]).type&&9===e.nodeType&&D&&S.relative[a[1].type]){if(!(e=(S.find.ID(r.matches[0].replace(bt,wt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=ht.needsContext.test(t)?0:a.length;o--&&(r=a[o],!S.relative[s=r.type]);)if((l=S.find[s])&&(i=l(r.matches[0].replace(bt,wt),yt.test(a[0].type)&&f(e.parentNode)||e))){if(a.splice(o,1),!(t=i.length&&m(a)))return Z.apply(n,i),n;break}}return(c||k(t,u))(i,e,!D,n,!e||yt.test(t)&&f(e.parentNode)||e),n},C.sortStable=H.split("").sort(V).join("")===H,C.detectDuplicates=!!A,M(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(O.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),w}(_);Ct.find=_t,Ct.expr=_t.selectors,Ct.expr[":"]=Ct.expr.pseudos,Ct.uniqueSort=Ct.unique=_t.uniqueSort,Ct.text=_t.getText,Ct.isXMLDoc=_t.isXML,Ct.contains=_t.contains,Ct.escapeSelector=_t.escape;var $t=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Ct(t).is(n))break;i.push(t)}return i},Tt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},kt=Ct.expr.match.needsContext,It=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ct.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Ct.find.matchesSelector(i,t)?[i]:[]:Ct.find.matches(t,Ct.grep(e,function(t){return 1===t.nodeType}))},Ct.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(Ct(t).filter(function(){for(e=0;e<i;e++)if(Ct.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)Ct.find(t,o[e],n);return 1<i?Ct.uniqueSort(n):n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&kt.test(t)?Ct(t):t||[],!1).length}});var Et,Pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ct.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||Et,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?n.ready!==undefined?n.ready(t):t(Ct):Ct.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Pt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Ct?e[0]:e,Ct.merge(this,Ct.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),It.test(i[1])&&Ct.isPlainObject(e))for(i in e)yt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=rt.getElementById(i[2]))&&(this[0]=o,this.length=1),this}).prototype=Ct.fn,Et=Ct(rt);var At=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};Ct.fn.extend({has:function(t){var e=Ct(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Ct.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,a=[],r="string"!=typeof t&&Ct(t);if(!kt.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&Ct.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?Ct.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?dt.call(Ct(t),this[0]):dt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Ct.uniqueSort(Ct.merge(this.get(),Ct(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Ct.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return $t(t,"parentNode")},parentsUntil:function(t,e,n){return $t(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return $t(t,"nextSibling")},prevAll:function(t){return $t(t,"previousSibling")},nextUntil:function(t,e,n){return $t(t,"nextSibling",n)},prevUntil:function(t,e,n){return $t(t,"previousSibling",n)},siblings:function(t){return Tt((t.parentNode||{}).firstChild,t)},children:function(t){return Tt(t.firstChild)},contents:function(t){return c(t,"iframe")?t.contentDocument:(c(t,"template")&&(t=t.content||t),Ct.merge([],t.childNodes))}},function(i,o){Ct.fn[i]=function(t,e){var n=Ct.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=Ct.filter(e,n)),1<this.length&&(Mt[i]||Ct.uniqueSort(n),At.test(i)&&n.reverse()),this.pushStack(n)}});var Ot=/[^\x20\t\r\n\f]+/g;Ct.Callbacks=function(i){i="string"==typeof i?u(i):Ct.extend({},i);var o,t,e,n,a=[],r=[],s=-1,l=function(){for(n=n||i.once,e=o=!0;r.length;s=-1)for(t=r.shift();++s<a.length;)!1===a[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=a.length,t=!1);i.memory||(t=!1),o=!1,n&&(a=t?[]:"")},c={add:function(){return a&&(t&&!o&&(s=a.length-1,r.push(t)),function n(t){Ct.each(t,function(t,e){yt(e)?i.unique&&c.has(e)||a.push(e):e&&e.length&&"string"!==g(e)&&n(e)})}(arguments),t&&!o&&l()),this},remove:function(){return Ct.each(arguments,function(t,e){for(var n;-1<(n=Ct.inArray(e,a,n));)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<Ct.inArray(t,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return n=r=[],a=t="",this},disabled:function(){return!a},lock:function(){return n=r=[],t||o||(a=t=""),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],r.push(e),o||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},Ct.extend({Deferred:function(t){var a=[["notify","progress",Ct.Callbacks("memory"),Ct.Callbacks("memory"),2],["resolve","done",Ct.Callbacks("once memory"),Ct.Callbacks("once memory"),0,"resolved"],["reject","fail",Ct.Callbacks("once memory"),Ct.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var o=arguments;return Ct.Deferred(function(i){Ct.each(a,function(t,e){var n=yt(o[e[4]])&&o[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),o=null}).promise()},then:function(e,n,i){function c(a,r,s,l){return function(){var n=this,i=arguments,e=function(){var t,e;if(!(a<u)){if((t=s.apply(n,i))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,yt(e)?l?e.call(t,c(u,r,d,l),c(u,r,p,l)):(u++,e.call(t,c(u,r,d,l),c(u,r,p,l),c(u,r,d,r.notifyWith))):(s!==d&&(n=undefined,i=[t]),(l||r.resolveWith)(n,i))}},o=l?e:function(){try{e()}catch(t){Ct.Deferred.exceptionHook&&Ct.Deferred.exceptionHook(t,o.stackTrace),u<=a+1&&(s!==p&&(n=undefined,i=[t]),r.rejectWith(n,i))}};a?o():(Ct.Deferred.getStackHook&&(o.stackTrace=Ct.Deferred.getStackHook()),_.setTimeout(o))}}var u=0;return Ct.Deferred(function(t){a[0][3].add(c(0,t,yt(i)?i:d,t.notifyWith)),a[1][3].add(c(0,t,yt(e)?e:d)),a[2][3].add(c(0,t,yt(n)?n:p))}).promise()},promise:function(t){return null!=t?Ct.extend(t,r):r}},s={};return Ct.each(a,function(t,e){var n=e[2],i=e[5];r[e[1]]=n.add,i&&n.add(function(){o=i},a[3-t][2].disable,a[3-t][3].disable,a[0][2].lock,a[0][3].lock),n.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?undefined:this,arguments),this},s[e[0]+"With"]=n.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(t){var n=arguments.length,e=n,i=Array(e),o=lt.call(arguments),a=Ct.Deferred(),r=function(e){return function(t){i[e]=this,o[e]=1<arguments.length?lt.call(arguments):t,--n||a.resolveWith(i,o)}};if(n<=1&&(l(t,a.done(r(e)).resolve,a.reject,!n),"pending"===a.state()||yt(o[e]&&o[e].then)))return a.then();for(;e--;)l(o[e],r(e),a.reject);return a.promise()}});var zt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ct.Deferred.exceptionHook=function(t,e){_.console&&_.console.warn&&t&&zt.test(t.name)&&_.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},Ct.readyException=function(t){_.setTimeout(function(){throw t})};var Dt=Ct.Deferred();Ct.fn.ready=function(t){return Dt.then(t)["catch"](function(t){Ct.readyException(t)}),this},Ct.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Ct.readyWait:Ct.isReady)||(Ct.isReady=!0)!==t&&0<--Ct.readyWait||Dt.resolveWith(rt,[Ct])}}),Ct.ready.then=Dt.then,"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll?_.setTimeout(Ct.ready):(rt.addEventListener("DOMContentLoaded",i),_.addEventListener("load",i));var jt=function(t,e,n,i,o,a,r){var s=0,l=t.length,c=null==n;if("object"===g(n))for(s in o=!0,n)jt(t,e,s,n[s],!0,a,r);else if(i!==undefined&&(o=!0,yt(i)||(r=!0),c&&(r?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(Ct(t),n)})),e))for(;s<l;s++)e(t[s],n,r?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):a},Nt=/^-ms-/,Lt=/-([a-z])/g,Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[h(e)]=n;else for(i in e)o[h(i)]=e[i];return o},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][h(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(h):(e=h(e))in i?[e]:e.match(Ot)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||Ct.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!Ct.isEmptyObject(e)}};var Ht=new a,Rt=new a,Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qt=/[A-Z]/g;Ct.extend({hasData:function(t){return Rt.hasData(t)||Ht.hasData(t)},data:function(t,e,n){return Rt.access(t,e,n)},removeData:function(t,e){Rt.remove(t,e)},_data:function(t,e,n){return Ht.access(t,e,n)},_removeData:function(t,e){Ht.remove(t,e)}}),Ct.fn.extend({data:function(n,t){var e,i,o,a=this[0],r=a&&a.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){Rt.set(this,n)}):jt(this,function(t){var e;if(a&&t===undefined)return(e=Rt.get(a,n))!==undefined?e:(e=f(a,n))!==undefined?e:void 0;this.each(function(){Rt.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=Rt.get(a),1===a.nodeType&&!Ht.get(a,"hasDataAttrs"))){for(e=r.length;e--;)r[e]&&0===(i=r[e].name).indexOf("data-")&&(i=h(i.slice(5)),f(a,i,o[i]));Ht.set(a,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){Rt.remove(this,t)})}}),Ct.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Ht.get(t,e),n&&(!i||Array.isArray(n)?i=Ht.access(t,e,Ct.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Ct.queue(t,e),i=n.length,o=n.shift(),a=Ct._queueHooks(t,e),r=function(){Ct.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete a.stop,o.call(t,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ht.get(t,n)||Ht.access(t,n,{empty:Ct.Callbacks("once memory").add(function(){Ht.remove(t,[e+"queue",n])})})}}),Ct.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?Ct.queue(this[0],e):n===undefined?this:this.each(function(){var t=Ct.queue(this,e,n);Ct._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Ct.dequeue(this,e)})},dequeue:function(t){return this.each(function(){Ct.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Ct.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";r--;)(n=Ht.get(a[r],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xt=new RegExp("^(?:([+-])=|)("+Wt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Vt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Ct.contains(t.ownerDocument,t)&&"none"===Ct.css(t,"display")},Gt=function(t,e,n,i){var o,a,r={};for(a in e)r[a]=t.style[a],t.style[a]=e[a];for(a in o=n.apply(t,i||[]),e)t.style[a]=r[a];return o},Ut={};Ct.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Vt(this)?Ct(this).show():Ct(this).hide()})}});var Qt=/^(?:checkbox|radio)$/i,Kt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Zt=/^$|^module$|\/(?:java|ecma)script/i,Jt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td;var te,ee,ne=/<|&#?\w+;/;te=rt.createDocumentFragment().appendChild(rt.createElement("div")),(ee=rt.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),te.appendChild(ee),vt.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var ie=rt.documentElement,oe=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,re=/^([^.]*)(?:\.(.+)|)/;Ct.event={global:{},add:function(e,t,n,i,o){var a,r,s,l,c,u,d,p,h,f,m,g=Ht.get(e);if(g)for(n.handler&&(n=(a=n).handler,o=a.selector),o&&Ct.find.matchesSelector(ie,o),n.guid||(n.guid=Ct.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return void 0!==Ct&&Ct.event.triggered!==t.type?Ct.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(Ot)||[""]).length;c--;)h=m=(s=re.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(d=Ct.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=Ct.event.special[h]||{},u=Ct.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Ct.expr.match.needsContext.test(o),namespace:f.join(".")},a),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(h,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),Ct.event.global[h]=!0)},remove:function(t,e,n,i,o){var a,r,s,l,c,u,d,p,h,f,m,g=Ht.hasData(t)&&Ht.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(Ot)||[""]).length;c--;)if(h=m=(s=re.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=Ct.event.special[h]||{},p=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=a=p.length;a--;)u=p[a],
!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(a,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(t,u));r&&!p.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||Ct.removeEvent(t,h,g.handle),delete l[h])}else for(h in l)Ct.event.remove(t,h+e[c],n,i,!0);Ct.isEmptyObject(l)&&Ht.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,a,r,s=Ct.event.fix(t),l=new Array(arguments.length),c=(Ht.get(this,"events")||{})[s.type]||[],u=Ct.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(r=Ct.event.handlers.call(this,s,c),e=0;(o=r[e++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,(i=((Ct.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l))!==undefined&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,o,a,r,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],r={},n=0;n<l;n++)r[o=(i=e[n]).selector+" "]===undefined&&(r[o]=i.needsContext?-1<Ct(o,this).index(c):Ct.find(o,this,null,[c]).length),r[o]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(Ct.Event.prototype,e,{enumerable:!0,configurable:!0,get:yt(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[Ct.expando]?t:new Ct.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(t){return c(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Ct.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Ct.Event=function(t,e){if(!(this instanceof Ct.Event))return new Ct.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?S:$,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Ct.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Ct.expando]=!0},Ct.Event.prototype={constructor:Ct.Event,isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=S,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=S,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=S,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Ct.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&oe.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Ct.event.addProp),Ct.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,a){Ct.event.special[t]={delegateType:a,bindType:a,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||Ct.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=a),e}}}),Ct.fn.extend({on:function(t,e,n,i){return k(this,t,e,n,i)},one:function(t,e,n,i){return k(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Ct(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=$),this.each(function(){Ct.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this}});var se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,le=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ct.extend({htmlPrefilter:function(t){return t.replace(se,"<$1></$2>")},clone:function(t,e,n){var i,o,a,r,s=t.cloneNode(!0),l=Ct.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Ct.isXMLDoc(t)))for(r=w(s),i=0,o=(a=w(t)).length;i<o;i++)M(a[i],r[i]);if(e)if(n)for(a=a||w(t),r=r||w(s),i=0,o=a.length;i<o;i++)A(a[i],r[i]);else A(t,s);return 0<(r=w(s,"script")).length&&x(r,!l&&w(t,"script")),s},cleanData:function(t){for(var e,n,i,o=Ct.event.special,a=0;(n=t[a])!==undefined;a++)if(Ft(n)){if(e=n[Ht.expando]){if(e.events)for(i in e.events)o[i]?Ct.event.remove(n,i):Ct.removeEvent(n,i,e.handle);n[Ht.expando]=undefined}n[Rt.expando]&&(n[Rt.expando]=undefined)}}}),Ct.fn.extend({detach:function(t){return z(this,t,!0)},remove:function(t){return z(this,t)},text:function(t){return jt(this,function(t){return t===undefined?Ct.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,t).appendChild(t)})},prepend:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=I(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Ct.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Ct.clone(this,t,e)})},html:function(t){return jt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!le.test(t)&&!Jt[(Kt.exec(t)||["",""])[1].toLowerCase()]){t=Ct.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(Ct.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return O(this,arguments,function(t){var e=this.parentNode;Ct.inArray(this,n)<0&&(Ct.cleanData(w(this)),e&&e.replaceChild(t,this))},n)}}),Ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){Ct.fn[t]=function(t){for(var e,n=[],i=Ct(t),o=i.length-1,a=0;a<=o;a++)e=a===o?this:this.clone(!0),Ct(i[a])[r](e),ut.apply(n,e.get());return this.pushStack(n)}});var de=new RegExp("^("+Wt+")(?!px)[a-z%]+$","i"),pe=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=_),e.getComputedStyle(t)},he=new RegExp(Yt.join("|"),"i");!function(){function t(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(l);var t=_.getComputedStyle(l);n="1%"!==t.top,r=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",ie.removeChild(s),l=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,a,r,s=rt.createElement("div"),l=rt.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===l.style.backgroundClip,Ct.extend(vt,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),r},scrollboxSize:function(){return t(),o}}))}();var fe=/^(none|table(?!-c[ea]).+)/,me=/^--/,ge={position:"absolute",visibility:"hidden",display:"block"},ve={letterSpacing:"0",fontWeight:"400"},ye=["Webkit","Moz","ms"],be=rt.createElement("div").style;Ct.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,r,s=h(e),l=me.test(e),c=t.style;if(l||(e=L(s)),r=Ct.cssHooks[e]||Ct.cssHooks[s],n===undefined)return r&&"get"in r&&(o=r.get(t,!1,i))!==undefined?o:c[e];"string"===(a=typeof n)&&(o=Xt.exec(n))&&o[1]&&(n=v(t,e,o),a="number"),null!=n&&n==n&&("number"===a&&(n+=o&&o[3]||(Ct.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),r&&"set"in r&&(n=r.set(t,n,i))===undefined||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,a,r,s=h(e);return me.test(e)||(e=L(s)),(r=Ct.cssHooks[e]||Ct.cssHooks[s])&&"get"in r&&(o=r.get(t,!0,n)),o===undefined&&(o=D(t,e,i)),"normal"===o&&e in ve&&(o=ve[e]),""===n||n?(a=parseFloat(o),!0===n||isFinite(a)?a||0:o):o}}),Ct.each(["height","width"],function(t,s){Ct.cssHooks[s]={get:function(t,e,n){if(e)return!fe.test(Ct.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?R(t,s,n):Gt(t,ge,function(){return R(t,s,n)})},set:function(t,e,n){var i,o=pe(t),a="border-box"===Ct.css(t,"boxSizing",!1,o),r=n&&H(t,s,n,a,o);return a&&vt.scrollboxSize()===o.position&&(r-=Math.ceil(t["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(o[s])-H(t,s,"border",!1,o)-.5)),r&&(i=Xt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[s]=e,e=Ct.css(t,s)),F(t,e,r)}}}),Ct.cssHooks.marginLeft=j(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Ct.each({margin:"",padding:"",border:"Width"},function(o,a){Ct.cssHooks[o+a]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+Yt[e]+a]=i[e]||i[e-2]||i[0];return n}},"margin"!==o&&(Ct.cssHooks[o+a].set=F)}),Ct.fn.extend({css:function(t,e){return jt(this,function(t,e,n){var i,o,a={},r=0;if(Array.isArray(e)){for(i=pe(t),o=e.length;r<o;r++)a[e[r]]=Ct.css(t,e[r],!1,i);return a}return n!==undefined?Ct.style(t,e,n):Ct.css(t,e)},t,e,1<arguments.length)}}),(Ct.Tween=B).prototype={constructor:B,init:function(t,e,n,i,o,a){this.elem=t,this.prop=n,this.easing=o||Ct.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Ct.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=Ct.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Ct.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){Ct.fx.step[t.prop]?Ct.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[Ct.cssProps[t.prop]]&&!Ct.cssHooks[t.prop]?t.elem[t.prop]=t.now:Ct.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Ct.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Ct.fx=B.prototype.init,Ct.fx.step={};var we,xe,Ce,Se,_e=/^(?:toggle|show|hide)$/,$e=/queueHooks$/;Ct.Animation=Ct.extend(U,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Xt.exec(e),n),n}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(Ot);for(var n,i=0,o=t.length;i<o;i++)n=t[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(e)},prefilters:[V],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),Ct.speed=function(t,e,n){var i=t&&"object"==typeof t?Ct.extend({},t):{complete:n||!n&&e||yt(t)&&t,duration:t,easing:n&&e||e&&!yt(e)&&e};return Ct.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Ct.fx.speeds?i.duration=Ct.fx.speeds[i.duration]:i.duration=Ct.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){yt(i.old)&&i.old.call(this),i.queue&&Ct.dequeue(this,i.queue)},i},Ct.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=Ct.isEmptyObject(e),a=Ct.speed(t,n,i),r=function(){var t=U(this,Ct.extend({},e),a);(o||Ht.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(o,t,a){var r=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof o&&(a=t,t=o,o=undefined),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=Ct.timers,i=Ht.get(this);if(e)i[e]&&i[e].stop&&r(i[e]);else for(e in i)i[e]&&i[e].stop&&$e.test(e)&&r(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||Ct.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var t,e=Ht.get(this),n=e[r+"queue"],i=e[r+"queueHooks"],o=Ct.timers,a=n?n.length:0;for(e.finish=!0,Ct.queue(this,r,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===r&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),Ct.each(["toggle","show","hide"],function(t,i){var o=Ct.fn[i];Ct.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(X(i,!0),t,e,n)}}),Ct.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){Ct.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),Ct.timers=[],Ct.fx.tick=function(){var t,e=0,n=Ct.timers;for(we=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Ct.fx.stop(),we=undefined},Ct.fx.timer=function(t){Ct.timers.push(t),Ct.fx.start()},Ct.fx.interval=13,Ct.fx.start=function(){xe||(xe=!0,q())},Ct.fx.stop=function(){xe=null},Ct.fx.speeds={slow:600,fast:200,_default:400},Ct.fn.delay=function(i,t){return i=Ct.fx&&Ct.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=_.setTimeout(t,i);e.stop=function(){_.clearTimeout(n)}})},Ce=rt.createElement("input"),Se=rt.createElement("select").appendChild(rt.createElement("option")),Ce.type="checkbox",vt.checkOn=""!==Ce.value,vt.optSelected=Se.selected,(Ce=rt.createElement("input")).value="t",Ce.type="radio",vt.radioValue="t"===Ce.value;var Te,ke=Ct.expr.attrHandle;Ct.fn.extend({attr:function(t,e){return jt(this,Ct.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){Ct.removeAttr(this,t)})}}),Ct.extend({attr:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?Ct.prop(t,e,n):(1===a&&Ct.isXMLDoc(t)||(o=Ct.attrHooks[e.toLowerCase()]||(Ct.expr.match.bool.test(e)?Te:undefined)),n!==undefined?null===n?void Ct.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=Ct.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&c(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(Ot);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),Te={set:function(t,e,n){return!1===e?Ct.removeAttr(t,n):t.setAttribute(n,n),n}},Ct.each(Ct.expr.match.bool.source.match(/\w+/g),function(t,e){var r=ke[e]||Ct.find.attr;ke[e]=function(t,e,n){var i,o,a=e.toLowerCase();return n||(o=ke[a],ke[a]=i,i=null!=r(t,e,n)?a:null,ke[a]=o),i}});var Ie=/^(?:input|select|textarea|button)$/i,Ee=/^(?:a|area)$/i;Ct.fn.extend({prop:function(t,e){return jt(this,Ct.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[Ct.propFix[t]||t]})}}),Ct.extend({prop:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&Ct.isXMLDoc(t)||(e=Ct.propFix[e]||e,o=Ct.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Ct.find.attr(t,"tabindex");return e?parseInt(e,10):Ie.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),vt.optSelected||(Ct.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ct.propFix[this.toLowerCase()]=this}),Ct.fn.extend({addClass:function(e){var t,n,i,o,a,r,s,l=0;if(yt(e))return this.each(function(t){Ct(this).addClass(e.call(this,t,K(this)))});if((t=Z(e)).length)for(;n=this[l++];)if(o=K(n),i=1===n.nodeType&&" "+Q(o)+" "){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(s=Q(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,a,r,s,l=0;if(yt(e))return this.each(function(t){Ct(this).removeClass(e.call(this,t,K(this)))});if(!arguments.length)return this.attr("class","");if((t=Z(e)).length)for(;n=this[l++];)if(o=K(n),i=1===n.nodeType&&" "+Q(o)+" "){for(r=0;a=t[r++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");o!==(s=Q(i))&&n.setAttribute("class",s)}return this},toggleClass:function(o,e){var a=typeof o,r="string"===a||Array.isArray(o);return"boolean"==typeof e&&r?e?this.addClass(o):this.removeClass(o):yt(o)?this.each(function(t){Ct(this).toggleClass(o.call(this,t,K(this),e),e)}):this.each(function(){var t,e,n,i;if(r)for(e=0,n=Ct(this),i=Z(o);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==undefined&&"boolean"!==a||((t=K(this))&&Ht.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===o?"":Ht.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Q(K(n))+" ").indexOf(e))return!0;return!1}});var Pe=/\r/g;Ct.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=yt(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,Ct(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=Ct.map(e,function(t){return null==t?"":t+""})),(i=Ct.valHooks[this.type]||Ct.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=Ct.valHooks[e.type]||Ct.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Pe,""):null==t?"":t:void 0}}),Ct.extend({valHooks:{option:{get:function(t){var e=Ct.find.attr(t,"value");return null!=e?e:Q(Ct.text(t))}},select:{get:function(t){var e,n,i,o=t.options,a=t.selectedIndex,r="select-one"===t.type,s=r?null:[],l=r?a+1:o.length;for(i=a<0?l:r?a:0;i<l;i++)if(((n=o[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(e=Ct(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,a=Ct.makeArray(e),r=o.length;r--;)((i=o[r]).selected=-1<Ct.inArray(Ct.valHooks.option.get(i),a))&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),Ct.each(["radio","checkbox"],function(){Ct.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<Ct.inArray(Ct(t).val(),e)}},vt.checkOn||(Ct.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),vt.focusin="onfocusin"in _;var Ae=/^(?:focusinfocus|focusoutblur)$/,Me=function(t){t.stopPropagation()};Ct.extend(Ct.event,{trigger:function(t,e,n,i){var o,a,r,s,l,c,u,d,p=[n||rt],h=ft.call(t,"type")?t.type:t,f=ft.call(t,"namespace")?t.namespace.split("."):[];if(a=d=r=n=n||rt,3!==n.nodeType&&8!==n.nodeType&&!Ae.test(h+Ct.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,(t=t[Ct.expando]?t:new Ct.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:Ct.makeArray(e,[t]),u=Ct.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!bt(n)){for(s=u.delegateType||h,Ae.test(s+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),r=a;r===(n.ownerDocument||rt)&&p.push(r.defaultView||r.parentWindow||_)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)d=a,t.type=1<o?s:u.bindType||h,(c=(Ht.get(a,"events")||{})[t.type]&&Ht.get(a,"handle"))&&c.apply(a,e),(c=l&&a[l])&&c.apply&&Ft(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),e)||!Ft(n)||l&&yt(n[h])&&!bt(n)&&((r=n[l])&&(n[l]=null),Ct.event.triggered=h,t.isPropagationStopped()&&d.addEventListener(h,Me),n[h](),t.isPropagationStopped()&&d.removeEventListener(h,Me),Ct.event.triggered=undefined,r&&(n[l]=r)),t.result}},simulate:function(t,e,n){var i=Ct.extend(new Ct.Event,n,{type:t,isSimulated:!0});Ct.event.trigger(i,null,e)}}),Ct.fn.extend({trigger:function(t,e){return this.each(function(){Ct.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Ct.event.trigger(t,e,n,!0)}}),vt.focusin||Ct.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){Ct.event.simulate(i,t.target,Ct.event.fix(t))};Ct.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=Ht.access(t,i);e||t.addEventListener(n,o,!0),Ht.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=Ht.access(t,i)-1;e?Ht.access(t,i,e):(t.removeEventListener(n,o,!0),Ht.remove(t,i))}}});var Oe=_.location,ze=Date.now(),De=/\?/;Ct.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new _.DOMParser).parseFromString(t,"text/xml")}catch(n){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||Ct.error("Invalid XML: "+t),e};var je=/\[\]$/,Ne=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;Ct.param=function(t,e){var n,i=[],o=function(t,e){var n=yt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!Ct.isPlainObject(t))Ct.each(t,function(){o(this.name,this.value)});else for(n in t)J(n,t[n],e,o);return i.join("&")},Ct.fn.extend({serialize:function(){return Ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Ct.prop(this,"elements");return t?Ct.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Ct(this).is(":disabled")&&Fe.test(this.nodeName)&&!Le.test(t)&&(this.checked||!Qt.test(t))}).map(function(t,e){var n=Ct(this).val();return null==n?null:Array.isArray(n)?Ct.map(n,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:n.replace(Ne,"\r\n")}}).get()}});var He=/%20/g,Re=/#.*$/,Be=/([?&])_=[^&]*/,qe=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xe=/^(?:GET|HEAD)$/,Ye=/^\/\//,Ve={},Ge={},Ue="*/".concat("*"),Qe=rt.createElement("a");Qe.href=Oe.href,Ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe.href,type:"GET",isLocal:We.test(Oe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,Ct.ajaxSettings),e):nt(Ct.ajaxSettings,t)},ajaxPrefilter:tt(Ve),ajaxTransport:tt(Ge),ajax:function(t,e){function n(t,e,n,i){var o,a,r,s,l,c=e;f||(f=!0,h&&_.clearTimeout(h),u=undefined,p=i||"",C.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=it(g,C,n)),s=ot(g,s,C,o),o?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(Ct.lastModified[d]=l),(l=C.getResponseHeader("etag"))&&(Ct.etag[d]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=s.state,a=s.data,o=!(r=s.error))):(r=c,!t&&c||(c="error",t<0&&(t=0))),C.status=t,C.statusText=(e||c)+"",o?b.resolveWith(v,[a,c,C]):b.rejectWith(v,[C,c,r]),C.statusCode(x),x=undefined,m&&y.trigger(o?"ajaxSuccess":"ajaxError",[C,g,o?a:r]),w.fireWith(v,[C,c]),m&&(y.trigger("ajaxComplete",[C,g]),--Ct.active||Ct.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var u,d,p,i,h,o,f,m,a,r,g=Ct.ajaxSetup({},e),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?Ct(v):Ct.event,b=Ct.Deferred(),w=Ct.Callbacks("once memory"),x=g.statusCode||{},s={},l={},c="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=qe.exec(p);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?p:null},setRequestHeader:function(t,e){return null==f&&(t=l[t.toLowerCase()]=l[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)C.always(t[C.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||c;return u&&u.abort(e),n(0,e),this}};if(b.promise(C),g.url=((t||g.url||Oe.href)+"").replace(Ye,Oe.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(Ot)||[""],null==g.crossDomain){o=rt.createElement("a");try{o.href=g.url,o.href=o.href,g.crossDomain=Qe.protocol+"//"+Qe.host!=o.protocol+"//"+o.host}catch(S){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=Ct.param(g.data,g.traditional)),et(Ve,g,e,C),f)return C;for(a in(m=Ct.event&&g.global)&&0==Ct.active++&&Ct.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Xe.test(g.type),d=g.url.replace(Re,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(He,"+")):(r=g.url.slice(d.length),g.data&&(g.processData||"string"==typeof g.data)&&(d+=(De.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(d=d.replace(Be,"$1"),r=(De.test(d)?"&":"?")+"_="+ze+++r),g.url=d+r),g.ifModified&&(Ct.lastModified[d]&&C.setRequestHeader("If-Modified-Since",Ct.lastModified[d]),Ct.etag[d]&&C.setRequestHeader("If-None-Match",Ct.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ue+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(a,g.headers[a]);if(g.beforeSend&&(!1===g.beforeSend.call(v,C,g)||f))return C.abort();if(c="abort",w.add(g.complete),C.done(g.success),C.fail(g.error),u=et(Ge,g,e,C)){if(C.readyState=1,m&&y.trigger("ajaxSend",[C,g]),f)return C;g.async&&0<g.timeout&&(h=_.setTimeout(function(){C.abort("timeout")},g.timeout));try{f=!1,u.send(s,n)}catch(S){if(f)throw S;n(-1,S)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return Ct.get(t,e,n,"json")},getScript:function(t,e){return Ct.get(t,undefined,e,"script")}}),Ct.each(["get","post"],function(t,o){Ct[o]=function(t,e,n,i){return yt(e)&&(i=i||n,n=e,e=undefined),Ct.ajax(Ct.extend({url:t,type:o,dataType:i,data:e,success:n},Ct.isPlainObject(t)&&t))}}),Ct._evalUrl=function(t){return Ct.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},Ct.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=Ct(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return yt(n)?this.each(function(t){Ct(this).wrapInner(n.call(this,t))}):this.each(function(){var t=Ct(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=yt(e);return this.each(function(t){Ct(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Ct(this).replaceWith(this.childNodes)}),this}}),Ct.expr.pseudos.hidden=function(t){return!Ct.expr.pseudos.visible(t)},Ct.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Ct.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(t){}};var Ke={0:200,1223:204},Ze=Ct.ajaxSettings.xhr();vt.cors=!!Ze&&"withCredentials"in Ze,vt.ajax=Ze=!!Ze,Ct.ajaxTransport(function(a){var r,s;if(vt.cors||Ze&&!a.crossDomain)return{send:function(t,e){var n,i=a.xhr();if(i.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)i[n]=a.xhrFields[n];for(n in a.mimeType&&i.overrideMimeType&&i.overrideMimeType(a.mimeType),a.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);r=function(t){return function(){r&&(r=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Ke[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=r(),s=i.onerror=i.ontimeout=r("error"),i.onabort!==undefined?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&_.setTimeout(function(){r&&s()})},r=r("abort");try{i.send(a.hasContent&&a.data||null)}catch(o){if(r)throw o}},abort:function(){r&&r()}}}),Ct.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Ct.globalEval(t),t}}}),Ct.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Ct.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(t,e){i=Ct("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(t){i.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),rt.head.appendChild(i[0])},abort:function(){o&&o()}}});var Je,tn=[],en=/(=)\?(?=&|$)|\?\?/;Ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||Ct.expando+"_"+ze++;return this[t]=!0,t}}),Ct.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,a,r=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=yt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(en,"$1"+i):!1!==t.jsonp&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Ct.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=_[i],_[i]=function(){a=arguments},n.always(function(){o===undefined?Ct(_).removeProp(i):_[i]=o,t[i]&&(
t.jsonpCallback=e.jsonpCallback,tn.push(i)),a&&yt(o)&&o(a[0]),a=o=undefined}),"script"}),vt.createHTMLDocument=((Je=rt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Je.childNodes.length),Ct.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(vt.createHTMLDocument?((i=(e=rt.implementation.createHTMLDocument("")).createElement("base")).href=rt.location.href,e.head.appendChild(i)):e=rt),a=!n&&[],(o=It.exec(t))?[e.createElement(o[1])]:(o=C([t],e,a),a&&a.length&&Ct(a).remove(),Ct.merge([],o.childNodes)));var i,o,a},Ct.fn.load=function(t,e,n){var i,o,a,r=this,s=t.indexOf(" ");return-1<s&&(i=Q(t.slice(s)),t=t.slice(0,s)),yt(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),0<r.length&&Ct.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){a=arguments,r.html(i?Ct("<div>").append(Ct.parseHTML(t)).find(i):t)}).always(n&&function(t,e){r.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},Ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Ct.fn[e]=function(t){return this.on(e,t)}}),Ct.expr.pseudos.animated=function(e){return Ct.grep(Ct.timers,function(t){return e===t.elem}).length},Ct.offset={setOffset:function(t,e,n){var i,o,a,r,s,l,c=Ct.css(t,"position"),u=Ct(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=Ct.css(t,"top"),l=Ct.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(a+l).indexOf("auto")?(r=(i=u.position()).top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),yt(e)&&(e=e.call(t,n,Ct.extend({},s))),null!=e.top&&(d.top=e.top-s.top+r),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},Ct.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){Ct.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===Ct.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===Ct.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=Ct(t).offset()).top+=Ct.css(t,"borderTopWidth",!0),o.left+=Ct.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-Ct.css(i,"marginTop",!0),left:e.left-o.left-Ct.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Ct.css(t,"position");)t=t.offsetParent;return t||ie})}}),Ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var a="pageYOffset"===o;Ct.fn[e]=function(t){return jt(this,function(t,e,n){var i;if(bt(t)?i=t:9===t.nodeType&&(i=t.defaultView),n===undefined)return i?i[o]:t[e];i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),Ct.each(["top","left"],function(t,n){Ct.cssHooks[n]=j(vt.pixelPosition,function(t,e){if(e)return e=D(t,n),de.test(e)?Ct(t).position()[n]+"px":e})}),Ct.each({Height:"height",Width:"width"},function(r,s){Ct.each({padding:"inner"+r,content:s,"":"outer"+r},function(i,a){Ct.fn[a]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return jt(this,function(t,e,n){var i;return bt(t)?0===a.indexOf("outer")?t["inner"+r]:t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):n===undefined?Ct.css(t,e,o):Ct.style(t,e,n,o)},s,n?t:undefined,n)}})}),Ct.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){Ct.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),Ct.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Ct.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),Ct.proxy=function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),yt(t)?(i=lt.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(lt.call(arguments)))}).guid=t.guid=t.guid||Ct.guid++,o):undefined},Ct.holdReady=function(t){t?Ct.readyWait++:Ct.ready(!0)},Ct.isArray=Array.isArray,Ct.parseJSON=JSON.parse,Ct.nodeName=c,Ct.isFunction=yt,Ct.isWindow=bt,Ct.camelCase=h,Ct.type=g,Ct.now=Date.now,Ct.isNumeric=function(t){var e=Ct.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ct});var nn=_.jQuery,on=_.$;return Ct.noConflict=function(t){return _.$===Ct&&(_.$=on),t&&_.jQuery===Ct&&(_.jQuery=nn),Ct},t||(_.jQuery=_.$=Ct),Ct}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var t=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var i=u.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return u.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,o,a,r;if(c.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,a=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=c.href(i),n=i.data("params")||null);return r={type:t||"GET",data:n,dataType:a,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},o&&(r.xhrFields={withCredentials:o}),e&&(r.url=e),c.ajax(r)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),i=t.attr("target"),o=c.csrfToken(),a=c.csrfParam(),r=u('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';a===l||o===l||c.isCrossDomain(e)||(s+='<input name="'+a+'" value="'+o+'" type="hidden" />'),i&&r.attr("target",i),r.hide().append(s).appendTo("body"),r.submit()},formElements:function(t,e){return t.is("form")?u(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{i=c.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=c.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,o,a,r=u(),s=e||"input,textarea",l=t.find(s),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(a=i.attr("name"),c[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=t.find('input[type=radio][name="'+a+'"]'),r=r.add(o)),c[a]=a)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(r=r.add(i))}),!!r.length&&r},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return u(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(u.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableFormElement(t)}),u(u.rails.linkDisableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=u(this),n=e.data("method"),i=e.data("params"),o=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!o&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(o&&(!n||"GET"===n)&&!i)return!0;var a=c.handleRemote(e);return!1===a?c.enableElement(e):a.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=u(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=u(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,i=u(this),o=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[e]))return c.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(o){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var a=c.fire(i,"ajax:aborted:file",[n]);return a||setTimeout(function(){c.enableFormElements(i)},13),a}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=u(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,o=e.closest("form");0===o.length&&(o=u("#"+e.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",e.attr("formnovalidate")),o.data("ujs:submit-button-formaction",e.attr("formaction")),o.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(u(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),function(i){var o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){o.Backbone=i(o,n,t,e)});else if("undefined"!=typeof exports){var t,e=require("underscore");try{t=require("jquery")}catch(n){}i(o,exports,e,t)}else o.Backbone=i(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)}(function(t,l,x,e){var n=t.Backbone,a=Array.prototype.slice;l.VERSION="1.3.3",l.$=e,l.noConflict=function(){return t.Backbone=n,this},l.emulateHTTP=!1,l.emulateJSON=!1;var o=function(t,i,o){switch(t){case 1:return function(){return x[i](this[o])};case 2:return function(t){return x[i](this[o],t)};case 3:return function(t,e){return x[i](this[o],r(t,this),e)};case 4:return function(t,e,n){return x[i](this[o],r(t,this),e,n)};default:return function(){var t=a.call(arguments);return t.unshift(this[o]),x[i].apply(x,t)}}},i=function(n,t,i){x.each(t,function(t,e){x[e]&&(n.prototype[e]=o(t,e,i))})},r=function(e,t){return x.isFunction(e)?e:x.isObject(e)&&!t._isModel(e)?s(e):x.isString(e)?function(t){return t.get(e)}:e},s=function(t){var e=x.matches(t);return function(t){return e(t.attributes)}},c=l.Events={},u=/\s+/,d=function(t,e,n,i,o){var a,r=0;if(n&&"object"==typeof n){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=x.keys(n);r<a.length;r++)e=d(t,e,a[r],n[a[r]],o)}else if(n&&u.test(n))for(a=n.split(u);r<a.length;r++)e=t(e,a[r],i,o);else e=t(e,n,i,o);return e};c.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,i,o){(t._events=d(h,t._events||{},e,n,{context:i,ctx:t,listening:o}),o)&&((t._listeners||(t._listeners={}))[o.id]=o);return t};c.listenTo=function(t,e,n){if(!t)return this;var i=t._listenId||(t._listenId=x.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var r=this._listenId||(this._listenId=x.uniqueId("l"));a=o[i]={obj:t,objId:i,id:r,listeningTo:o,count:0}}return p(t,e,n,this,a),this};var h=function(t,e,n,i){if(n){var o=t[e]||(t[e]=[]),a=i.context,r=i.ctx,s=i.listening;s&&s.count++,o.push({callback:n,context:a,ctx:a||r,listening:s})}return t};c.off=function(t,e,n){return this._events&&(this._events=d(f,this._events,t,e,{context:n,listeners:this._listeners})),this},c.stopListening=function(t,e,n){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:x.keys(i),a=0;a<o.length;a++){var r=i[o[a]];if(!r)break;r.obj.off(e,n,this)}return this};var f=function(t,e,n,i){if(t){var o,a=0,r=i.context,s=i.listeners;if(e||n||r){for(var l=e?[e]:x.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var u=[],d=0;d<c.length;d++){var p=c[d];n&&n!==p.callback&&n!==p.callback._callback||r&&r!==p.context?u.push(p):(o=p.listening)&&0==--o.count&&(delete s[o.id],delete o.listeningTo[o.objId])}u.length?t[e]=u:delete t[e]}return t}for(var h=x.keys(s);a<h.length;a++)delete s[(o=s[h[a]]).id],delete o.listeningTo[o.objId]}};c.once=function(t,e,n){var i=d(m,{},t,e,x.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(i,e,n)},c.listenToOnce=function(t,e,n){var i=d(m,{},e,n,x.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,n,i){if(n){var o=t[e]=x.once(function(){i(e,o),n.apply(this,arguments)});o._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(g,this._events,t,void 0,n),this};var g=function(t,e,n,i){if(t){var o=t[e],a=t.all;o&&a&&(a=a.slice()),o&&v(o,i),a&&v(a,[e].concat(i))}return t},v=function(t,e){var n,i=-1,o=t.length,a=e[0],r=e[1],s=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,a);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,a,r);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,a,r,s);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,x.extend(l,c);var y=l.Model=function(t,e){var n=t||{};e||(e={}),this.cid=x.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var i=x.result(this,"defaults");n=x.defaults(x.extend({},i,n),i),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};x.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return x.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return x.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!x.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var i;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;var o=n.unset,a=n.silent,r=[],s=this._changing;this._changing=!0,s||(this._previousAttributes=x.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,u=this._previousAttributes;for(var d in i)e=i[d],x.isEqual(l[d],e)||r.push(d),x.isEqual(u[d],e)?delete c[d]:c[d]=e,o?delete l[d]:l[d]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){r.length&&(this._pending=n);for(var p=0;p<r.length;p++)this.trigger("change:"+r[p],this,l[r[p]],n)}if(s)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,x.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,x.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!x.isEmpty(this.changed):x.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&x.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var i in t){var o=t[i];x.isEqual(e[i],o)||(n[i]=o)}return!!x.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return x.clone(this._previousAttributes)},fetch:function(n){n=x.extend({parse:!0},n);var i=this,o=n.success;return n.success=function(t){var e=n.parse?i.parse(t,n):t;if(!i.set(e,n))return!1;o&&o.call(n.context,i,t,n),i.trigger("sync",i,t,n)},F(this,n),this.sync("read",this,n)},save:function(t,e,n){var i;null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e;var o=(n=x.extend({validate:!0,parse:!0},n)).wait;if(i&&!o){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;var a=this,r=n.success,s=this.attributes;n.success=function(t){a.attributes=s;var e=n.parse?a.parse(t,n):t;if(o&&(e=x.extend({},i,e)),e&&!a.set(e,n))return!1;r&&r.call(n.context,a,t,n),a.trigger("sync",a,t,n)},F(this,n),i&&o&&(this.attributes=x.extend({},s,i));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=i);var c=this.sync(l,this,n);return this.attributes=s,c},destroy:function(e){e=e?x.clone(e):{};var n=this,i=e.success,o=e.wait,a=function(){n.stopListening(),n.trigger("destroy",n,n.collection,e)},t=!(e.success=function(t){o&&a(),i&&i.call(e.context,n,t,e),n.isNew()||n.trigger("sync",n,t,e)});return this.isNew()?x.defer(e.success):(F(this,e),t=this.sync("delete",this,e)),o||a(),t},url:function(){var t=x.result(this,"urlRoot")||x.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},x.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=x.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,x.extend(e,{validationError:n})),!1)}}),i(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=l.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,x.extend({silent:!0},e))},C={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,o=Array(t.length-n),a=e.length;for(i=0;i<o.length;i++)o[i]=t[i+n];for(i=0;i<a;i++)t[i+n]=e[i];for(i=0;i<o.length;i++)t[i+a+n]=o[i]};x.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return l.sync.apply(this,arguments)},add:function(t,e){return this.set(t,x.extend({merge:!1},e,w))},remove:function(t,e){e=x.extend({},e);var n=!x.isArray(t);t=n?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),n?i[0]:i},set:function(t,e){if(null!=t){(e=x.extend({},C,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!x.isArray(t);t=n?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,r=[],s=[],l=[],c=[],u={},d=e.add,p=e.merge,h=e.remove,f=!1,m=this.comparator&&null==i&&!1!==e.sort,g=x.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var v=this.get(o);if(v){if(p&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),l.push(v),m&&!f&&(f=v.hasChanged(g))}u[v.cid]||(u[v.cid]=!0,r.push(v)),t[a]=v}else d&&(o=t[a]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),u[o.cid]=!0,r.push(o))}if(h){for(a=0;a<this.length;a++)u[(o=this.models[a]).cid]||c.push(o);c.length&&this._removeModels(c,e)}var b=!1,w=!m&&d&&h;if(r.length&&w?(b=this.length!==r.length||x.some(this.models,function(t,e){return t!==r[e]}),this.models.length=0,S(this.models,r,0),this.length=this.models.length):s.length&&(m&&(f=!0),S(this.models,s,null==i?this.length:i),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(a=0;a<s.length;a++)null!=i&&(e.index=i+a),(o=s[a]).trigger("add",o,this,e);(f||b)&&this.trigger("sort",this,e),(s.length||c.length||l.length)&&(e.changes={added:s,removed:c,merged:l},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?x.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,x.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,x.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,x.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return x.isFunction(e)&&(e=x.bind(e,this)),1===n||x.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(n){var i=(n=x.extend({parse:!0},n)).success,o=this;return n.success=function(t){var e=n.reset?"reset":"set";o[e](t,n),i&&i.call(n.context,o,t,n),o.trigger("sync",o,t,n)},F(this,n),this.sync("read",this,n)},create:function(t,e){var i=(e=e?x.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var o=this,a=e.success;return e.success=function(t,e,n){i&&o.add(t,n),a&&a.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;var n=new(((e=e?x.clone(e):{}).collection=this).model)(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var o=this.get(t[i]);if(o){var a=this.indexOf(o);this.models.splice(a,1),this.length--,delete this._byId[o.cid];var r=this.modelId(o.attributes);null!=r&&delete this._byId[r],e.silent||(e.index=a,o.trigger("remove",o,this,e)),n.push(o),this._removeReference(o,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t){delete this._byId[t.cid];var e=this.modelId(t.attributes);null!=e&&delete this._byId[e],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var o=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);o!==a&&(null!=o&&delete this._byId[o],null!=a&&(this._byId[a]=e))}}this.trigger.apply(this,arguments)}}),i(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var _=l.View=function(t){this.cid=x.uniqueId("view"),x.extend(this,x.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},$=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];x.extend(_.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof l.$?t:l.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=x.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(x.isFunction(n)||(n=this[n]),n){var i=e.match($);this.delegate(i[1],i[2],x.bind(n,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(x.result(this,"el"));else{var t=x.extend({},x.result(this,"attributes"));this.id&&(t.id=x.result(this,"id")),this.className&&(t["class"]=x.result(this,"className")),this.setElement(this._createElement(x.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),l.sync=function(t,e,i){var n=k[t];x.defaults(i||(i={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var o={type:n,dataType:"json"};if(i.url||(o.url=x.result(e,"url")||L()),null!=i.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||e.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){o.type="POST",i.emulateJSON&&(o.data._method=n);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",n),a)return a.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var r=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,r&&r.call(i.context,t,e,n)};var s=i.xhr=l.ajax(x.extend(o,i));return e.trigger("request",e,s,i),s};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var I=l.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,P=/(\(\?)?:\w+/g,A=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;x.extend(I.prototype,c,{initialize:function(){},route:function(n,i,o){x.isRegExp(n)||(n=this._routeToRegExp(n)),x.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var a=this;return l.history.route(n,function(t){var e=a._extractParameters(n,t);!1!==a.execute(o,e,i)&&(a.trigger.apply(a,["route:"+i].concat(e)),a.trigger("route",i,e),l.history.trigger("route",a,i,e))}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,e){return l.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=x.result(this,"routes");for(var t,e=x.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(E,"(?:$1)?").replace(P,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return x.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var O=l.History=function(){this.handlers=[],this.checkUrl=x.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,j=/#.*$/;O.started=!1,x.extend(O.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(z,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=x.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,
this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,i=n.insertBefore(this.iframe,n.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),x.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(j,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),l.history=new O;var N=function(t,e){var n,i=this;return n=t&&x.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},x.extend(n,i,e),n.prototype=x.create(i.prototype,t),(n.prototype.constructor=n).__super__=i.prototype,n};y.extend=b.extend=I.extend=_.extend=O.extend=N;var L=function(){throw new Error('A "url" property or function must be specified')},F=function(e,n){var i=n.error;n.error=function(t){i&&i.call(n.context,e,t,n),e.trigger("error",e,t,n)}};return l}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function t(n){return this.each(function(){var t=a(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new r(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',r=function(t){a(t).on("click",e,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=a(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=a("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=a.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),a.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(r.TRANSITION_DURATION):e())};var n=a.fn.alert;a.fn.alert=t,a.fn.alert.Constructor=r,a.fn.alert.noConflict=function(){return a.fn.alert=n,this},a(document).on("click.bs.alert.data-api",e,r.prototype.close)}(jQuery),function(a){"use strict";function n(i){return this.each(function(){var t=a(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=a(t),this.options=a.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(a.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=a.fn.button;a.fn.button=n,a.fn.button.Constructor=o,a.fn.button.noConflict=function(){return a.fn.button=t,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=a(t.target).closest(".btn");n.call(e,"toggle"),a(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){a(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function r(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},p.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new p(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var p=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};p.VERSION="3.3.7",p.TRANSITION_DURATION=600,p.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},p.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},p.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},p.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},p.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},p.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},p.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},p.prototype.next=function(){if(!this.sliding)return this.slide("next")},p.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},p.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,a="next"==t?"left":"right",r=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:a});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(a),i.addClass(a),n.one("bsTransitionEnd",function(){i.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),r.sliding=!1,setTimeout(function(){r.$element.trigger(u)},0)}).emulateTransitionEnd(p.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=r,d.fn.carousel.Constructor=p,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=d.extend({},i.data(),n.data()),a=n.attr("data-slide-to");a&&(o.interval=!1),r.call(i,o),a&&i.data("bs.carousel").to(a),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);r.call(t,t.data())})})}(jQuery),function(r){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return r(n)}function s(i){return this.each(function(){var t=r(this),e=t.data("bs.collapse"),n=r.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=r(t),this.options=r.extend({},l.DEFAULTS,e),this.$trigger=r('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=r.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!r.support.transition)return o.call(this);var a=r.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",r.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][a])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=r.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return r.support.transition?void this.$element[e](0).one("bsTransitionEnd",r.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return r(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(r.proxy(function(t,e){var n=r(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=r.fn.collapse;r.fn.collapse=s,r.fn.collapse.Constructor=l,r.fn.collapse.noConflict=function(){return r.fn.collapse=t,this},r(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=r(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function a(i){i&&3===i.which||(s(e).remove(),s(c).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(a(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",a);var o={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var o=" li:not(.disabled):visible a",a=n.find(".dropdown-menu"+o);if(a.length){var r=a.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<a.length-1&&r++,~r||(r=0),a.eq(r).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(a){"use strict";function r(i,o){return this.each(function(){var t=a(this),e=t.data("bs.modal"),n=a.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var s=function(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=a.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=r,a.fn.modal.Constructor=s,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),n=e.attr("href"),i=a(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),r.call(i,o,this)})}(jQuery),function(m){"use strict";function t(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof i&&e[i]())})}var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",s="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(a);s&&(a=a.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=a,p=this.getPosition(this.$viewport);a="bottom"==a&&l.bottom+u>p.bottom?"top":"top"==a&&l.top-u<p.top?"bottom":"right"==a&&l.right+c>p.width?"left":"left"==a&&l.left-c<p.left?"right":a,i.removeClass(d).addClass(a)}var h=this.getCalculatedOffset(a,l,c,u);this.applyPlacement(h,a);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top+=a,t.left+=r,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-o+l,p=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][p],u)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),o=m.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,a=n?{top:0,left:0}:o?null:t.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,r,s,a)},g.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-r.scroll,l=e.top+a-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=e.left-a,u=e.left+a+n;c<r.left?o.left=r.left-c:u>r.right&&(o.left=r.left+r.width-u)}return o},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=m.fn.tooltip;m.fn.tooltip=t,m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(o){"use strict";function t(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new a(this,n)),"string"==typeof i&&e[i]())})}var a=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.7",a.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=o.extend({},o.fn.tooltip.Constructor.prototype),(a.prototype.constructor=a
).prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=o.fn.popover;o.fn.popover=t,o.fn.popover.Constructor=a,o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(jQuery),function(a){"use strict";function o(t,e){this.$body=a(document.body),this.$scrollElement=a(a(t).is(document.body)?window:t),this.options=a.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=a(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=a(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&a(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return r!=(t=a[a.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=a[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(a[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=a(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=a.fn.scrollspy;a.fn.scrollspy=e,a.fn.scrollspy.Constructor=o,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=t,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var t=a(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new r(this)),"string"==typeof n&&e[n]()})}var r=function(t){this.element=s(t)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),a=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=s(n);this.activate(t.closest("li"),e),this.activate(r,r.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},r.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),a=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",i).emulateTransitionEnd(r.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=r,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=a.top)&&"bottom":!(o+r<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:a.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?r:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var a=this.getState(o,t,n,i);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var r="affix"+(a?"-"+a:""),s=l.Event(r+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(r).trigger(r.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(1-Math.pow(2,-10*e/o))+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var a=1.70158,r=0,s=i;if(0==e)return n;if(1==(e/=o))return n+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/r)+n},easeOutElastic:function(t,e,n,i,o){var a=1.70158,r=0,s=i;if(0==e)return n;if(1==(e/=o))return n+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*o-a)*(2*Math.PI)/r)+i+n},easeInOutElastic:function(t,e,n,i,o){var a=1.70158,r=0,s=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(r||(r=o*(.3*1.5)),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/r)*-.5+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/r)*.5+i+n},easeInBack:function(t,e,n,i,o,a){return a==undefined&&(a=1.70158),i*(e/=o)*e*((a+1)*e-a)+n},easeOutBack:function(t,e,n,i,o,a){return a==undefined&&(a=1.70158),i*((e=e/o-1)*e*((a+1)*e+a)+1)+n},easeInOutBack:function(t,e,n,i,o,a){return a==undefined&&(a=1.70158),(e/=o/2)<1?i/2*(e*e*((1+(a*=1.525))*e-a))+n:i/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return e<o/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),$(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(t){this.showLogs&&console.log("Parallax Scroll / "+t)},_onScroll:function(S){var _=$(document).scrollTop(),T=$(window).height();this._log("onScroll "+_),$("[data-parallax]").each($.proxy(function(t,e){var s=$(e),l=[],c=!1,n=s.data("style");n==undefined&&(n=s.attr("style")||"",s.data("style",n));var i,o=[s.data("parallax")];for(i=2;s.data("parallax"+i);i++)o.push(s.data("parallax-"+i));var a=o.length;for(i=0;i<a;i++){var u=o[i],d=u["from-scroll"];d==undefined&&(d=Math.max(0,$(e).offset().top-T)),d|=0;var r=u.distance,p=u["to-scroll"];r==undefined&&p==undefined&&(r=T),r=Math.max(0|r,1);var h=u.easing,f=u["easing-return"];if(h!=undefined&&$.easing&&$.easing[h]||(h=null),f!=undefined&&$.easing&&$.easing[f]||(f=h),h){var m=u.duration;m==undefined&&(m=r),m=Math.max(0|m,1);var g=u["duration-return"];g==undefined&&(g=m),r=1;var v=s.data("current-time");v==undefined&&(v=0)}p==undefined&&(p=d+r),p|=0;var y=u.smoothness;y==undefined&&(y=30),y|=0,(S||0==y)&&(y=1),y|=0;var b=_;b=Math.max(b,d),b=Math.min(b,p),h&&(s.data("sens")==undefined&&s.data("sens","back"),d<b&&("back"==s.data("sens")?(v=1,s.data("sens","go")):v++),b<p&&("go"==s.data("sens")?(v=1,s.data("sens","back")):v++),S&&(v=m),s.data("current-time",v)),this._properties.map($.proxy(function(t){var e=0,n=u[t];if(n!=undefined){"scale"==t||"scaleX"==t||"scaleY"==t||"scaleZ"==t?e=1:n|=0;var i=s.data("_"+t);i==undefined&&(i=e);var o=(b-d)/(p-d)*(n-e)+e,a=i+(o-i)/y;if(h&&0<v&&v<=m){var r=e;"back"==s.data("sens")&&(n=-(r=n),h=f,m=g),a=$.easing[h](null,v,r,n,m)}(a=Math.ceil(a*this.round)/this.round)==i&&o==n&&(a=n),l[t]||(l[t]=0),l[t]+=a,i!=l[t]&&(s.data("_"+t,l[t]),c=!0)}},this))}if(c){if(l.z!=undefined){var w=u.perspective;w==undefined&&(w=800);var x=s.parent();x.data("style")||x.data("style",x.attr("style")||""),x.attr("style","perspective:"+w+"px; -webkit-perspective:"+w+"px; "+x.data("style"))}l.scaleX==undefined&&(l.scaleX=1),l.scaleY==undefined&&(l.scaleY=1),l.scaleZ==undefined&&(l.scaleZ=1),l.scale!=undefined&&(l.scaleX*=l.scale,l.scaleY*=l.scale,l.scaleZ*=l.scale);var C="translate3d("+(l.x?l.x:0)+"px, "+(l.y?l.y:0)+"px, "+(l.z?l.z:0)+"px)"+" "+("rotateX("+(l.rotateX?l.rotateX:0)+"deg) rotateY("+(l.rotateY?l.rotateY:0)+"deg) rotateZ("+(l.rotateZ?l.rotateZ:0)+"deg)")+" "+("scaleX("+l.scaleX+") scaleY("+l.scaleY+") scaleZ("+l.scaleZ+")")+";";this._log(C),s.attr("style","transform:"+C+" -webkit-transform:"+C+" "+n)}},this)),window.requestAnimationFrame?window.requestAnimationFrame($.proxy(this._onScroll,this,!1)):this._requestAnimationFrame($.proxy(this._onScroll,this,!1))}};!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):"object"==typeof exports?module.exports=t.document?e(t,t.document):function(t){return e(t,t.document)}:t.SVG=e(t,t.document)}("undefined"!=typeof window?window:this,function(r,o){function e(t,e){return t instanceof e}function n(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}function i(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function t(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function l(t,e,n){if(null==e||null==n){var i=t.bbox();null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)}return{width:e,height:n}}function c(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function u(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function d(t){return t instanceof y.Matrix||(t=new y.Matrix(t)),t}function p(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function h(t){return t=t.replace(y.regex.whitespace,"").replace(y.regex.matrix,"").split(y.regex.matrixElements),u(y.utils.map(t,function(t){return parseFloat(t)}))}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e][0],null!=t[e][1]&&(i+=t[e][1],null!=t[e][2]&&(i+=" ",i+=t[e][2],null!=t[e][3]&&(i+=" ",i+=t[e][3],i+=" ",i+=t[e][4],null!=t[e][5]&&(i+=" ",i+=t[e][5],i+=" ",i+=t[e][6],null!=t[e][7]&&(i+=" ",i+=t[e][7])))));return i+" "}function m(t){for(var e=t.childNodes.length-1;0<=e;e--)t.childNodes[e]instanceof SVGElement&&m(t.childNodes[e]);return y.adopt(t).id(y.eid(t.nodeName))}function g(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function v(t){var e=t.toString().match(y.regex.reference);if(e)return e[1]}var y=this.SVG=function(t){if(y.supported)return t=new y.Doc(t),y.parser.draw||y.prepare(),t};if(y.ns="http://www.w3.org/2000/svg",y.xmlns="http://www.w3.org/2000/xmlns/",y.xlink="http://www.w3.org/1999/xlink",y.svgjs="http://svgjs.com/svgjs",y.supported=!!o.createElementNS&&!!o.createElementNS(y.ns,"svg").createSVGRect,!y.supported)return!1;y.did=1e3,y.eid=function(t){return"Svgjs"+a(t)+y.did++},y.create=function(t){var e=o.createElementNS(this.ns,t);return e.setAttribute("id",this.eid(t)),e},y.extend=function(){var t,e,n,i;for(e=(t=[].slice.call(arguments)).pop(),i=t.length-1;0<=i;i--)if(t[i])for(n in e)t[i].prototype[n]=e[n];y.Set&&y.Set.inherit&&y.Set.inherit()},y.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,y.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&y.extend(e,t.extend),t.construct&&y.extend(t.parent||y.Container,t.construct),e},y.adopt=function(t){return t?t.instance?t.instance:((e="svg"==t.nodeName?t.parentNode instanceof SVGElement?new y.Nested:new y.Doc:"linearGradient"==t.nodeName?new y.Gradient("linear"):"radialGradient"==t.nodeName?new y.Gradient("radial"):y[a(t.nodeName)]?new(y[a(t.nodeName)]):new y.Element(t)).type=t.nodeName,((e.node=t).instance=e)instanceof y.Doc&&e.namespace().defs(),e.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),e):null;var e},y.prepare=function(){var t=o.getElementsByTagName("body")[0],e=(t?new y.Doc(t):new y.Doc(o.documentElement).nested()).size(2,0);y.parser={body:t||o.documentElement,draw:e.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:e.polyline().node,path:e.path().node,"native":y.create("svg")}},y.parser={"native":y.create("svg")},o.addEventListener("DOMContentLoaded",function(){y.parser.draw||y.prepare()},!1),y.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,matrix:/matrix\(|\)/g,matrixElements:/,*\s+|,/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,negExp:/e\-/gi,comma:/,/g,hyphen:/\-/g,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,whitespaces:/\s+/,X:/X/g},y.utils={map:function(t,e){var n,i=t.length,o=[];for(n=0;n<i;n++)o.push(e(t[n]));return o},filter:function(t,e){var n,i=t.length,o=[];for(n=0;n<i;n++)e(t[n])&&o.push(t[n]);return o},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof SVGElement})}},y.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},y.Color=function(t){var e;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?y.regex.isRgb.test(t)?(e=y.regex.rgb.exec(t.replace(/\s/g,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):y.regex.isHex.test(t)&&(e=y.regex.hex.exec(s(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},y.extend(y.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+t(this.r)+t(this.g)+t(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new y.Color(t),this},at:function(t){return this.destination?(t=t<0?0:1<t?1:t,new y.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),y.Color.test=function(t){return t+="",y.regex.isHex.test(t)||y.regex.isRgb.test(t)},y.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},y.Color.isColor=function(t){return y.Color.isRgb(t)||y.Color.test(t)},y.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},y.extend(y.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,i=[];e<n;e++)i.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new y.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(/\s+/)},reverse:function(){return this.value.reverse(),this}}),y.PointArray=function(t,e){this.constructor.call(this,t,e||[[0,0]])},y.PointArray.prototype=new y.Array,y.extend(y.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,i=[];e<n;e++)i.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new y.PointArray(i)},parse:function(t){if(t=t.valueOf(),Array.isArray(t))return t;for(var e,n=0,i=(t=this.split(t)).length,o=[];n<i;n++)e=t[n].split(","),o.push([parseFloat(e[0]),parseFloat(e[1])]);return o},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i=this.value.length-1;0<=i;i--)this.value[i]=[this.value[i][0]+t,this.value[i][1]+e];return this},size:function(t,e){var n,i=this.bbox();for(n=this.value.length-1;0<=n;n--)this.value[n][0]=(this.value[n][0]-i.x)*t/i.width+i.x,this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y;return this},bbox:function(){return y.parser.poly.setAttribute("points",this.toString()),y.parser.poly.getBBox()}}),y.PathArray=function(t,e){this.constructor.call(this,t,e||[["M",0,0]])},y.PathArray.prototype=new y.Array,y.extend(y.PathArray,{toString:function(){return f(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i,o=this.value.length-1;0<=o;o--)"M"==(i=this.value[o][0])||"L"==i||"T"==i?(this.value[o][1]+=t,this.value[o][2]+=e):"H"==i?this.value[o][1]+=t:"V"==i?this.value[o][1]+=e:"C"==i||"S"==i||"Q"==i?(this.value[o][1]+=t,this.value[o][2]+=e,this.value[o][3]+=t,this.value[o][4]+=e,"C"==i&&(this.value[o][5]+=t,this.value[o][6]+=e)):"A"==i&&(this.value[o][6]+=t,this.value[o][7]+=e);return this},size:function(t,e){var n,i,o=this.bbox();for(n=this.value.length-1;0<=n;n--)"M"==(i=this.value[n][0])||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-o.x)*t/o.width+o.x,this.value[n][2]=(this.value[n][2]-o.y)*e/o.height+o.y):"H"==i?this.value[n][1]=(this.value[n][1]-o.x)*t/o.width+o.x:"V"==i?this.value[n][1]=(this.value[n][1]-o.y)*e/o.height+o.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-o.x)*t/o.width+o.x,this.value[n][2]=(this.value[n][2]-o.y)*e/o.height+o.y,this.value[n][3]=(this.value[n][3]-o.x)*t/o.width+o.x,this.value[n][4]=(this.value[n][4]-o.y)*e/o.height+o.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-o.x)*t/o.width+o.x,this.value[n][6]=(this.value[n][6]-o.y)*e/o.height+o.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*t/o.width,this.value[n][2]=this.value[n][2]*e/o.height,this.value[n][6]=(this.value[n][6]-o.x)*t/o.width+o.x,this.value[n][7]=(this.value[n][7]-o.y)*e/o.height+o.y);return this},parse:function(t){if(t instanceof y.PathArray)return t.valueOf();var e,n,i,o,a,r=0,s=0,l={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7};if("string"==typeof t){for(e=(t=t.replace(y.regex.negExp,"X").replace(y.regex.pathLetters," $& ").replace(y.regex.hyphen," -").replace(y.regex.comma," ").replace(y.regex.X,"e-").trim().split(y.regex.whitespaces)).length;--e;)if(t[e].indexOf(".")!=t[e].lastIndexOf(".")){var c=t[e].split("."),u=[c.shift(),c.shift()].join(".");t.splice.apply(t,[e,1].concat(u,c.map(function(t){return"."+t})))}}else t=t.reduce(function(t,e){return[].concat.apply(t,e)},[]);var d=[];do{for(y.regex.isPathLetter.test(t[0])?(o=t[0],t.shift()):"M"==o?o="L":"m"==o&&(o="l"),a=[o.toUpperCase()],e=0;e<l[a[0]];++e)a.push(parseFloat(t.shift()));o==a[0]?"M"==o||"L"==o||"C"==o||"Q"==o||"S"==o||"T"==o?(r=a[l[a[0]]-1],s=a[l[a[0]]]):"V"==o?s=a[1]:"H"==o?r=a[1]:"A"==o&&(r=a[6],s=a[7]):"m"==o||"l"==o||"c"==o||"s"==o||"q"==o||"t"==o?(a[1]+=r,a[2]+=s,null!=a[3]&&(a[3]+=r,a[4]+=s),null!=a[5]&&(a[5]+=r,a[6]+=s),r=a[l[a[0]]-1],s=a[l[a[0]]]):"v"==o?(a[1]+=s,s=a[1]):"h"==o?(a[1]+=r,r=a[1]):"a"==o&&(a[6]+=r,a[7]+=s,r=a[6],s=a[7]),"M"==a[0]&&(n=r,i=s),"Z"==a[0]&&(r=n,s=i),d.push(a)}while(t.length);return d},bbox:function(){return y.parser.path.setAttribute("d",this.toString()),y.parser.path.getBBox()}}),y.Number=y.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(y.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof y.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return new y.Number(this+new y.Number(t),this.unit)},minus:function(t){return this.plus(-new y.Number(t))},times:function(t){return new y.Number(this*new y.Number(t),this.unit)},divide:function(t){return new y.Number(this/new y.Number(t),this.unit)},to:function(t){var e=new y.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new y.Number(t),this},at:function(t){return this.destination?new y.Number(this.destination).minus(this).times(t).plus(this):this}}}),y.Element=y.invent({create:function(t){this._stroke=y.defaults.attrs.stroke,this.dom={},(this.node=t)&&(this.type=t.nodeName,(this.node.instance=this)._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=l(this,t,e);return this.width(new y.Number(n.width)).height(new y.Number(n.height))},clone:function(t){var e=m(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(/\s+/)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return y.get(this.attr(t))},parent:function(t){var e=this;if(!e.node.parentNode)return null;if(e=y.adopt(e.node.parentNode),!t)return e;for(;e&&e.node instanceof SVGElement;){if("string"==typeof t?e.matches(t):e instanceof t)return e;e=y.adopt(e.node.parentNode)}},doc:function(){return this instanceof y.Doc?this:this.parent(y.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return n(this.node,t)},"native":function(){return this.node},svg:function(t){var e=o.createElement("svg");if(!(t&&this instanceof y.Parent))return e.appendChild(t=o.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),e.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");e.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var n=0,i=e.firstChild.childNodes.length;n<i;n++)this.node.appendChild(e.firstChild.firstChild);return this},writeDataToDom:function(){(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()});return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return e(this,t)}}}),y.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},y.morph=function(n){return function(t,e){return new y.MorphObj(t,e).at(n)}},y.Situation=y.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new y.Number(t.duration).valueOf(),this.delay=new y.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=!1,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),y.Delay=function(t){this.delay=new y.Number(t).valueOf()},y.FX=y.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0},extend:{animate:function(t,e,n){"object"==typeof t&&(e=t.ease,n=t.delay,t=t.duration);var i=new y.Situation({duration:t||1e3,delay:n||0,ease:y.easing[e||"-"]||e});return this.queue(i),this},delay:function(t){t=new y.Delay(t);return this.queue(t)},target:function(t){return t&&t instanceof y.Element?(this._target=t,this):this._target},timeToPos:function(t){return(t-this.situation.start)/this.situation.duration},posToTime:function(t){return this.situation.duration*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.situation.start=+new Date+this.situation.delay,this.situation.finish=this.situation.start+this.situation.duration,this.initAnimations(),this.active=!0,this.startAnimFrame()),this},queue:function(t){return("function"==typeof t||t instanceof y.Situation||t instanceof y.Delay)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){if(this.situation&&this.situation.stop&&this.situation.stop(),this.situation=this.situations.shift(),this.situation){var t=function(){this.situation instanceof y.Situation?this.initAnimations().at(0):this.situation instanceof y.Delay?this.dequeue():this.situation.call(this)}.bind(this);this.situation.delay?setTimeout(function(){t()},this.situation.delay):t()}return this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(t in e.animations)"viewbox"==t?e.animations[t]=this.target().viewbox().morph(e.animations[t]):(e.animations[t].value="plot"==t?this.target().array().value:this.target()[t](),e.animations[t].value.value&&(e.animations[t].value=e.animations[t].value.value),e.animations[t].relative&&(e.animations[t].destination.value=e.animations[t].destination.value+e.animations[t].value));for(t in e.attrs)if(e.attrs[t]instanceof y.Color){var n=new y.Color(this.target().attr(t));e.attrs[t].r=n.r,e.attrs[t].g=n.g,e.attrs[t].b=n.b}else e.attrs[t].value=this.target(
).attr(t);for(t in e.styles)e.styles[t].value=this.target().style(t);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){return this.active||this.start(),e&&this.clearQueue(),this.active=!1,t&&this.situation&&(this.situation.loop=!1,this.situation.loops%2==0&&this.situation.reversing&&(this.situation.reversed=!0),this.at(1)),this.stopAnimFrame(),clearTimeout(this.timeout),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.at(0)}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},at:function(t){return this.pos=t,this.situation.start=+new Date-t*this.situation.duration,this.situation.finish=this.situation.start+this.situation.duration,this.step(!0)},speed:function(t){return this.situation.duration=this.situation.duration*this.pos+(1-this.pos)*this.situation.duration/t,this.situation.finish=this.situation.start+this.situation.duration,this.at(this.pos)},loop:function(t,e){return this.situation.loop=this.situation.loops=t||!0,e&&(this.last().reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),clearTimeout(this.timeout),this},play:function(){return this.paused?(this.paused=!1,this.at(this.pos)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(e){var n=this.last(),i=function i(t){t.detail.situation==n&&(e.call(this,n),this.off("finished.fx",i))};return this.target().on("finished.fx",i),this},during:function(e){var n=this.last(),t=function(t){t.detail.situation==n&&e.call(this,t.detail.pos,y.morph(t.detail.pos),t.detail.eased,n)};return this.target().off("during.fx",t).on("during.fx",t),this.after(function(){this.off("during.fx",t)})},afterAll:function(t){var e=function e(){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this},duringAll:function(e){var t=function(t){e.call(this,t.detail.pos,y.morph(t.detail.pos),t.detail.eased,t.detail.situation)};return this.target().off("during.fx",t).on("during.fx",t),this.afterAll(function(){this.off("during.fx",t)})},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,setTimeout(function(){this.start()}.bind(this),0),this},step:function(t){if(t||(this.pos=this.timeToPos(+new Date)),1<=this.pos&&(!0===this.situation.loop||"number"==typeof this.situation.loop&&--this.situation.loop))return this.situation.reversing&&(this.situation.reversed=!this.situation.reversed),this.at(this.pos-1);this.situation.reversed&&(this.pos=1-this.pos),1<this.pos&&(this.pos=1),this.pos<0&&(this.pos=0);var e=this.situation.ease(this.pos);for(var n in this.situation.once)n>this.lastPos&&n<=e&&(this.situation.once[n].call(this.target(),this.pos,e),delete this.situation.once[n]);return this.active&&this.target().fire("during",{pos:this.pos,eased:e,fx:this,situation:this.situation}),this.situation&&(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=e),this},eachAt:function(){var t,e,n=this,i=this.target(),o=this.situation;for(t in o.animations)e=[].concat(o.animations[t]).map(function(t){return t.at?t.at(o.ease(n.pos),n.pos):t}),i[t].apply(i,e);for(t in o.attrs)e=[t].concat(o.attrs[t]).map(function(t){return t.at?t.at(o.ease(n.pos),n.pos):t}),i.attr.apply(i,e);for(t in o.styles)e=[t].concat(o.styles[t]).map(function(t){return t.at?t.at(o.ease(n.pos),n.pos):t}),i.style.apply(i,e);if(o.transforms.length){for(t in e=o.initialTransformation,o.transforms){var a=o.transforms[t];a instanceof y.Matrix?e=a.relative?e.multiply(a.at(o.ease(this.pos))):e.morph(a).at(o.ease(this.pos)):(a.relative||a.undo(e.extract()),e=e.multiply(a.at(o.ease(this.pos))))}i.matrix(e)}return this},once:function(t,e,n){return n||(t=this.situation.ease(t)),this.situation.once[t]=e,this}},parent:y.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new y.FX(this))).animate(t,e,n)},delay:function(t){return(this.fx||(this.fx=new y.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),y.MorphObj=y.invent({create:function(t,e){return y.Color.isColor(e)?new y.Color(t).morph(e):y.regex.numberAndUnit.test(e)?new y.Number(t).morph(e):(this.value=0,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),y.extend(y.FX,{attr:function(t,e){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else this.add(t,new y.MorphObj(null,e),"attrs");return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.add(t,new y.MorphObj(null,e),"styles");return this},x:function(t,e){if(this.target()instanceof y.G)return this.transform({x:t},e),this;var n=(new y.Number).morph(t);return n.relative=e,this.add("x",n)},y:function(t,e){if(this.target()instanceof y.G)return this.transform({y:t},e),this;var n=(new y.Number).morph(t);return n.relative=e,this.add("y",n)},cx:function(t){return this.add("cx",(new y.Number).morph(t))},cy:function(t){return this.add("cy",(new y.Number).morph(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var n;this.target()instanceof y.Text?this.attr("font-size",t):(t&&e||(n=this.target().bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.add("width",(new y.Number).morph(t)).add("height",(new y.Number).morph(e)));return this},plot:function(t){return this.add("plot",this.target().array().morph(t))},leading:function(t){return this.target().leading?this.add("leading",(new y.Number).morph(t)):this},viewbox:function(t,e,n,i){return this.target()instanceof y.Container&&this.add("viewbox",new y.ViewBox(t,e,n,i)),this},update:function(t,e,n){if(this.target()instanceof y.Stop){if("number"==typeof t||t instanceof y.Number)return this.update({offset:t,color:e,opacity:n});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),y.BBox=y.invent({create:function(t){if(t){var e;try{if(!o.documentElement.contains(t.node))throw new Exception("Element not in the dom");e=t.node.getBBox()}catch(i){if(t instanceof y.Shape){var n=t.clone(y.parser.draw).show();e=n.bbox(),n.remove()}else e={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}g(this)},parent:y.Element,construct:{bbox:function(){return new y.BBox(this)}}}),y.TBox=y.invent({create:function(t){if(t){var e=t.ctm().extract(),n=t.bbox();this.width=n.width*e.scaleX,this.height=n.height*e.scaleY,this.x=n.x+e.x,this.y=n.y+e.y}g(this)},parent:y.Element,construct:{tbox:function(){return new y.TBox(this)}}}),y.RBox=y.invent({create:function(t){if(t){var e=t.doc().parent(),n=t.node.getBoundingClientRect(),i=1;for(this.x=n.left,this.y=n.top,this.x-=e.offsetLeft,this.y-=e.offsetTop;e=e.offsetParent;)this.x-=e.offsetLeft,this.y-=e.offsetTop;for(e=t;e.parent&&(e=e.parent());)e.viewbox&&(i*=e.viewbox().zoom,this.x-=e.x()||0,this.y-=e.y()||0);this.width=n.width/=i,this.height=n.height/=i}g(this),this.x+=r.pageXOffset,this.y+=r.pageYOffset},parent:y.Element,construct:{rbox:function(){return new y.RBox(this)}}}),[y.BBox,y.TBox,y.RBox].forEach(function(n){y.extend(n,{merge:function(t){var e=new n;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,g(e)}})}),y.Matrix=y.invent({create:function(t){var e,n=u([1,0,0,1,0,0]);for(t=t instanceof y.Element?t.matrixify():"string"==typeof t?h(t):6==arguments.length?u([].slice.call(arguments)):"object"==typeof t?t:n,e=w.length-1;0<=e;--e)this[w[e]]=t&&"number"==typeof t[w[e]]?t[w[e]]:n[w[e]]},extend:{extract:function(){var t=c(this,0,1),e=c(this,1,0),n=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new y.Matrix(this)}},clone:function(){return new y.Matrix(this)},morph:function(t){return this.destination=new y.Matrix(t),this},at:function(t){if(!this.destination)return this;var e=new y.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t});if(this.param&&this.param.to){var n={rotation:this.param.from.rotation+(this.param.to.rotation-this.param.from.rotation)*t,cx:this.param.from.cx,cy:this.param.from.cy};(e=e.rotate((this.param.to.rotation-2*this.param.from.rotation)*t,n.cx,n.cy)).param=n}return e},multiply:function(t){return new y.Matrix(this["native"]().multiply(d(t)["native"]()))},inverse:function(){return new y.Matrix(this["native"]().inverse())},translate:function(t,e){return new y.Matrix(this["native"]().translate(t||0,e||0))},scale:function(t,e,n,i){return 1!=arguments.length&&3!=arguments.length||(e=t),3==arguments.length&&(i=n,n=e),this.around(n,i,new y.Matrix(t,0,0,e,0,0))},rotate:function(t,e,n){return t=y.utils.radians(t),this.around(e,n,new y.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):this.scale(1,-1,0,e)},skew:function(t,e,n,i){return this.around(n,i,this["native"]().skewX(t||0).skewY(e||0))},skewX:function(t,e,n){return this.around(e,n,this["native"]().skewX(t||0))},skewY:function(t,e,n){return this.around(e,n,this["native"]().skewY(t||0))},around:function(t,e,n){return this.multiply(new y.Matrix(1,0,0,1,t||0,e||0)).multiply(n).multiply(new y.Matrix(1,0,0,1,-t||0,-e||0))},"native":function(){for(var t=y.parser["native"].createSVGMatrix(),e=w.length-1;0<=e;e--)t[w[e]]=this[w[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:y.Element,construct:{ctm:function(){return new y.Matrix(this.node.getCTM())},screenCTM:function(){return new y.Matrix(this.node.getScreenCTM())}}}),y.Point=y.invent({create:function(t,e){var n,i={x:0,y:0};n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=e?{x:t,y:e}:i,this.x=n.x,this.y=n.y},extend:{clone:function(){return new y.Point(this)},morph:function(t){return this.destination=new y.Point(t),this},at:function(t){return this.destination?new y.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},"native":function(){var t=y.parser["native"].createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new y.Point(this["native"]().matrixTransform(t["native"]()))}}}),y.extend(y.Element,{point:function(t,e){return new y.Point(t,e).transform(this.screenCTM().inverse())}}),y.extend(y.Element,{attr:function(t,e,n){if(null==t){for(t={},n=(e=this.node.attributes).length-1;0<=n;n--)t[e[n].nodeName]=y.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?y.defaults.attrs[t]:y.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",0<parseFloat(e)?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(y.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof y.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new y.Number(e):y.Color.isColor(e)?e=new y.Color(e):Array.isArray(e)?e=new y.Array(e):e instanceof y.Matrix&&e.param&&(this.param=e.param),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),y.extend(y.Element,{transform:function(t,e){var n,i=this;if("object"!=typeof t)return n=new y.Matrix(i).extract(),"string"==typeof t?n[t]:n;if(n=new y.Matrix(i),e=!!e||!!t.relative,null!=t.a)n=e?n.multiply(new y.Matrix(t)):new y.Matrix(t);else if(null!=t.rotation)p(t,i),n=e?n.rotate(t.rotation,t.cx,t.cy):n.rotate(t.rotation-n.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(p(t,i),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var o=n.extract();t.scaleX=1*t.scaleX/o.scaleX,t.scaleY=1*t.scaleY/o.scaleY}n=n.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skewX||null!=t.skewY){if(p(t,i),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,!e){o=n.extract();n=n.multiply((new y.Matrix).skew(o.skewX,o.skewY,t.cx,t.cy).inverse())}n=n.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?n=n.flip(t.flip,null==t.offset?i.bbox()["c"+t.flip]:t.offset):null==t.x&&null==t.y||(e?n=n.translate(t.x,t.y):(null!=t.x&&(n.e=t.x),null!=t.y&&(n.f=t.y)));return this.attr("transform",n)}}),y.extend(y.FX,{transform:function(t,e){var n,i=this.target();return"object"!=typeof t?(n=new y.Matrix(i).extract(),"string"==typeof t?n[t]:n):(e=!!e||!!t.relative,null!=t.a?n=new y.Matrix(t):null!=t.rotation?(p(t,i),n=new y.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(p(t,i),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,n=new y.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(p(t,i),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,n=new y.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?n=(new y.Matrix).morph((new y.Matrix).flip(t.flip,null==t.offset?i.bbox()["c"+t.flip]:t.offset)):null==t.x&&null==t.y||(n=new y.Translate(t.x,t.y)),n&&(n.relative=e,this.last().transforms.push(n),setTimeout(function(){this.start()}.bind(this),0)),this)}}),y.extend(y.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(/\)\s*/).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(y.regex.matrixElements).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(u(e[1])):t[e[0]].apply(t,e[1])},new y.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.rect(1,1),i=n.screenCTM().inverse();return n.remove(),this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),y.Transformation=y.invent({create:function(t,e){if(1<arguments.length&&"boolean"!=typeof e)return this.create([].slice.call(arguments));if("object"==typeof t)for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=t[this.arguments[n]];if(Array.isArray(t))for(n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=t[n];!(this.inversed=!1)===e&&(this.inversed=!0)},extend:{at:function(t){for(var e=[],n=0,i=this.arguments.length;n<i;++n)e.push(this[this.arguments[n]]);var o=this._undo||new y.Matrix;return o=(new y.Matrix).morph(y.Matrix.prototype[this.method].apply(o,e)).at(t),this.inversed?o.inverse():o},undo:function(t){for(var e=0,n=this.arguments.length;e<n;++e)t[this.arguments[e]]="undefined"==typeof this[this.arguments[e]]?0:t[this.arguments[e]];return this._undo=new(y[a(this.method)])(t,!0).at(1),this}}}),y.Translate=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),y.Rotate=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new y.Matrix).rotate((new y.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){this._undo=t}}}),y.Scale=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),y.Skew=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),y.extend(y.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!y.regex.isCss.test(t))return this.node.style[i(t)];t=t.split(";");for(var n=0;n<t.length;n++)e=t[n].split(":"),this.style(e[0].replace(/\s+/g,""),e[1])}else this.node.style[i(t)]=null===e||y.regex.isBlank.test(e)?"":e;return this}}),y.Parent=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Element,extend:{children:function(){return y.utils.map(y.utils.filterSVGElements(this.node.childNodes),function(t){return y.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return 0<=this.index(t)},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return y.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var n,i,o=this.children();for(n=0,i=o.length;n<i;n++)o[n]instanceof y.Element&&t.apply(o[n],[n,o]),e&&o[n]instanceof y.Container&&o[n].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),y.extend(y.Parent,{ungroup:function(t,e){return 0===e||this instanceof y.Defs||(t=t||(this instanceof y.Doc?this:this.parent(y.Parent)),e=e||Infinity,this.each(function(){return this instanceof y.Defs?this:this instanceof y.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),y.Container=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Parent}),y.ViewBox=y.invent({create:function(t){var e,n,i,o,a,r,s,l=[0,0,0,0],c=1,u=1,d=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof y.Element){for(a=((s=r=t).attr("viewBox")||"").match(d),t.bbox,i=new y.Number(t.width()),o=new y.Number(t.height());"%"==i.unit;)c*=i.value,i=new y.Number(r instanceof y.Doc?r.parent().offsetWidth:r.parent().width()),r=r.parent();for(;"%"==o.unit;)u*=o.value,o=new y.Number(s instanceof y.Doc?s.parent().offsetHeight:s.parent().height()),s=s.parent();this.x=0,this.y=0,this.width=i*c,this.height=o*u,this.zoom=1,a&&(e=parseFloat(a[0]),n=parseFloat(a[1]),i=parseFloat(a[2]),o=parseFloat(a[3]),this.zoom=this.width/this.height>i/o?this.height/o:this.width/i,this.x=e,this.y=n,this.width=i,this.height=o)}else t="string"==typeof t?t.match(d).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):l,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t){t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments);return this.destination=new y.ViewBox(t),this},at:function(t){return this.destination?new y.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:y.Container,construct:{viewbox:function(t){return 0==arguments.length?new y.ViewBox(this):(t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments),this.attr("viewBox",t))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(n){y.Element.prototype[n]=function(t){var e=this;return this.node["on"+n]="function"==typeof t?function(){return t.apply(e,arguments)}:null,this}}),y.listeners=[],y.handlerMap=[],y.listenerId=0,y.on=function(t,e,n,i){var o=n.bind(i||t.instance||t),a=(y.handlerMap.indexOf(t)+1||y.handlerMap.push(t))-1,r=e.split(".")[0],s=e.split(".")[1]||"*";y.listeners[a]=y.listeners[a]||{},y.listeners[a][r]=y.listeners[a][r]||{},y.listeners[a][r][s]=y.listeners[a][r][s]||{},n._svgjsListenerId||(n._svgjsListenerId=++y.listenerId),y.listeners[a][r][s][n._svgjsListenerId]=o,t.addEventListener(r,o,!1)},y.off=function(t,e,n){var i=y.handlerMap.indexOf(t),o=e&&e.split(".")[0],a=e&&e.split(".")[1];if(-1!=i)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;y.listeners[i][o]&&y.listeners[i][o][a||"*"]&&(t.removeEventListener(o,y.listeners[i][o][a||"*"][n],!1),delete y.listeners[i][o][a||"*"][n])}else if(a&&o){if(y.listeners[i][o]&&y.listeners[i][o][a]){for(n in y.listeners[i][o][a])y.off(t,[o,a].join("."),n);delete y.listeners[i][o][a]}}else if(a)for(e in y.listeners[i])for(namespace in y.listeners[i][e])a===namespace&&y.off(t,[e,a].join("."));else if(o){if(y.listeners[i][o]){for(namespace in y.listeners[i][o])y.off(t,[o,namespace].join("."));delete y.listeners[i][o]}}else{for(e in y.listeners[i])y.off(t,e);delete y.listeners[i]}},y.extend(y.Element,{on:function(t,e,n){return y.on(this.node,t,e,n),this},off:function(t,e){return y.off(this.node,t,e),this},fire:function(t,e){return t instanceof Event?this.node.dispatchEvent(t):this.node.dispatchEvent(new x(t,{detail:e})),this}}),y.Defs=y.invent({create:"defs",inherit:y.Container}),y.G=y.invent({create:"g",inherit:y.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new y.G)}}}),y.extend(y.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof y.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return 0<t&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof y.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return 0<this.position()&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),y.Mask=y.invent({create:function(){this.constructor.call(this,y.create("mask")),this.targets=[]},inherit:y.Container,extend:{remove:function(){for(var t=this.targets.length-1;0<=t;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new y.Mask)}}}),y.extend(y.Element,{maskWith:function(t){return this.masker=t instanceof y.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),y.ClipPath=y.invent({create:function(){this.constructor.call(this,y.create("clipPath")),this.targets=[]},inherit:y.Container,extend:{remove:function(){for(var t=this.targets.length-1;0<=t;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new y.ClipPath)}}}),y.extend(y.Element,{clipWith:function(t){return this.clipper=t instanceof y.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),y.Gradient=y.invent({create:function(t){this.constructor.call(this,y.create(t+"Gradient")),this.type=t},inherit:y.Container,extend:{at:function(t,e,n){return this.put(new y.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="gradientTransform"),y.Container.prototype.attr.call(this,t,e,n)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),y.extend(y.Gradient,y.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new y.Number(t),fy:new y.Number(e)}):this.attr({x1:new y.Number(t),y1:new y.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new y.Number(t),cy:new y.Number(e)}):this.attr({x2:new y.Number(t),y2:new y.Number(e)})}}),y.extend(y.Defs,{gradient:function(t,e){return this.put(new y.Gradient(t)).update(e)}}),y.Stop=y.invent({create:"stop",inherit:y.Element,extend:{update:function(t,e,n){return("number"==typeof t||t instanceof y.Number)&&(t={offset:t,color:e,opacity:n}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new y.Number(t.offset)),this}}}),y.Pattern=y.invent({create:"pattern",inherit:y.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="patternTransform"),y.Container.prototype.attr.call(this,t,e,n)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),y.extend(y.Defs,{pattern:function(t,e,n){return this.put(new y.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),y.Doc=y.invent({create:function(t){t&&("svg"==(t="string"==typeof t?o.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,y.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:y.Container,extend:{namespace:function(){return this.attr({xmlns:y.ns,version:"1.1"}).attr("xmlns:xlink",y.xlink,y.xmlns).attr("xmlns:svgjs",y.svgjs,y.xmlns)},defs:function(){var t;this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=y.adopt(t):this._defs=new y.Defs,this.node.appendChild(this._defs.node));return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this}}}),y.Shape=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Element}),y.Bare=y.invent({create:function(t,e){if(this.constructor.call(this,y.create(t)),e)for(var n in e.prototype)"function"==typeof e.prototype[n]&&(this[n]=e.prototype[n])},inherit:y.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(o.createTextNode(t)),this}}}),y.extend(y.Parent,{element:function(t,e){return this.put(new y.Bare(t,e))},symbol:function(){return this.defs().element("symbol",y.Container)}}),y.Use=y.invent({create:"use",inherit:y.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,y.xlink)}},construct:{use:function(t,e){return this.put(new y.Use).element(t,e)}}}),y.Rect=y.invent({create:"rect",inherit:y.Shape,construct:{rect:function(t,e){return this.put(new y.Rect).size(t,e)}}}),y.Circle=y.invent({create:"circle",inherit:y.Shape,construct:{circle:function(t){return this.put(new y.Circle).rx(new y.Number(t).divide(2)).move(0,0)}}}),y.extend(y.Circle,y.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),y.Ellipse=y.invent({create:"ellipse",inherit:y.Shape,construct:{ellipse:function(t,e){return this.put(new y.Ellipse).size(t,e).move(0,0)}}}),y.extend(y.Ellipse,y.Rect,y.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),y.extend(y.Circle,y.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new y.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new y.Number(t).divide(2))},size:function(t,e){var n=l(this,t,e);return this.rx(new y.Number(n.width).divide(2)).ry(new y.Number(n.height).divide(2))}}),y.Line=y.invent({create:"line",inherit:y.Shape,extend:{array:function(){return new y.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,i){return t=void 0!==e?{x1:t,y1:e,x2:n,y2:i}:new y.PointArray(t).toLine(),this.attr(t)},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=l(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,n,i){return this.put(new y.Line).plot(t,e,n,i)}}}),y.Polyline=y.invent({create:"polyline",inherit:y.Shape,construct:{polyline:function(t){return this.put(new y.Polyline).plot(t)}}}),y.Polygon=y.invent({create:"polygon",inherit:y.Shape,construct:{polygon:function(t){return this.put(new y.Polygon).plot(t)}}}),y.extend(y.Polyline,y.Polygon,{array:function(){return this._array||(this._array=new y.PointArray(this.attr("points")))},plot:function(t){return this.attr("points",this._array=new y.PointArray(t))},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=l(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),y.extend(y.Line,y.Polyline,y.Polygon,{morphArray:y.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),y.Path=y.invent({create:"path",inherit:y.Shape,extend:{morphArray:y.PathArray,array:function(){return this._array||(this._array=new y.PathArray(this.attr("d")))},plot:function(t){return this.attr("d",this._array=new y.PathArray(t))},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=l(this,t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox(
).width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new y.Path).plot(t)}}}),y.Image=y.invent({create:"image",inherit:y.Shape,extend:{load:function(e){if(!e)return this;var n=this,i=o.createElement("img");return i.onload=function(){var t=n.parent(y.Pattern);null!==t&&(0==n.width()&&0==n.height()&&n.size(i.width,i.height),t&&0==t.width()&&0==t.height()&&t.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:i.width,height:i.height,ratio:i.width/i.height,url:e}))},i.onerror=function(t){"function"==typeof n._error&&n._error.call(n,t)},this.attr("href",i.src=this.src=e,y.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,n){return this.put(new y.Image).load(t).size(e||0,n||e||0)}}}),y.Text=y.invent({create:function(){this.constructor.call(this,y.create("text")),this.dom.leading=new y.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",y.defaults.attrs["font-family"])},inherit:y.Shape,extend:{x:function(t){return null==t?this.attr("x"):(this.textPath||this.lines().each(function(){this.dom.newLined&&this.x(t)}),this.attr("x",t))},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,n=0,i=e.length;n<i;++n)0!=n&&3!=e[n].nodeType&&1==y.adopt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{n=0;for(var o=(t=t.split("\n")).length;n<o;n++)this.tspan(t[n]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new y.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=y.utils.map(y.utils.filterSVGElements(t.childNodes),function(t){return y.adopt(t)});return new y.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,i=this.dom.leading*new y.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(this.textPath||this.attr("x",e.attr("x")),"\n"==this.text()?n+=i:(this.attr("dy",i+n),n=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new y.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new y.Text).text(t)},plain:function(t){return this.put(new y.Text).plain(t)}}}),y.Tspan=y.invent({create:"tspan",inherit:y.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(y.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),y.extend(y.Text,y.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(o.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,n=new y.Tspan;return!1===this._build&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),y.TextPath=y.invent({create:"textPath",inherit:y.Parent,parent:y.Text,construct:{path:function(t){for(var e=new y.TextPath,n=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+n,y.xlink),this},plot:function(t){var e=this.track();return e&&e.plot(t),this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return y.adopt(this.node.firstChild)}}}),y.Nested=y.invent({create:function(){this.constructor.call(this,y.create("svg")),this.style("overflow","visible")},inherit:y.Container,construct:{nested:function(){return this.put(new y.Nested)}}}),y.A=y.invent({create:"a",inherit:y.Container,extend:{to:function(t){return this.attr("href",t,y.xlink)},show:function(t){return this.attr("show",t,y.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new y.A).to(t)}}}),y.extend(y.Element,{linkTo:function(t){var e=new y.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),y.Marker=y.invent({create:"marker",inherit:y.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),y.extend(y.Defs,{marker:function(t,e,n){return this.put(new y.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}}),y.extend(y.Line,y.Polyline,y.Polygon,y.Path,{marker:function(t,e,n,i){var o=["marker"];return"all"!=t&&o.push(t),o=o.join("-"),t=e instanceof y.Marker?e:this.doc().marker(e,n,i),this.attr(o,t)}});var b={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(e){var n,t={};t[e]=function(t){if("string"==typeof t||y.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(n=b[e].length-1;0<=n;n--)null!=t[b[e][n]]&&this.attr(b.prefix(e,b[e][n]),t[b[e][n]]);return this},y.extend(y.Element,y.FX,t)}),y.extend(y.Element,y.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,i){return this.transform({skewX:t,skewY:e,cx:n,cy:i})},scale:function(t,e,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:n}):this.transform({scaleX:t,scaleY:e,cx:n,cy:i})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return this.transform({flip:t,offset:e})},matrix:function(t){return this.attr("transform",new y.Matrix(t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x((this instanceof y.FX?0:this.x())+t,!0)},dy:function(t){return this.y((this instanceof y.FX?0:this.y())+t,!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),y.extend(y.Rect,y.Ellipse,y.Circle,y.Gradient,y.FX,{radius:function(t,e){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new y.Number(t)):this.rx(t).ry(null==e?t:e)}}),y.extend(y.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),y.extend(y.Parent,y.Text,y.FX,{font:function(t){for(var e in t)"leading"==e?this.leading(t[e]):"anchor"==e?this.attr("text-anchor",t[e]):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t[e]):this.attr(e,t[e]);return this}}),y.Set=y.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;t<e;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return-1<e&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return 0<=this.index(t)},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var t=new y.BBox;if(0==this.members.length)return t;var e=this.members[0].rbox();return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,this.each(function(){t=t.merge(this.rbox())}),t}},construct:{set:function(t){return new y.Set(t)}}}),y.FX.Set=y.invent({create:function(t){this.set=t}}),y.Set.inherit=function(){var t=[];for(var e in y.Shape.prototype)"function"==typeof y.Shape.prototype[e]&&"function"!=typeof y.Set.prototype[e]&&t.push(e);for(var e in t.forEach(function(n){y.Set.prototype[n]=function(){for(var t=0,e=this.members.length;t<e;t++)this.members[t]&&"function"==typeof this.members[t][n]&&this.members[t][n].apply(this.members[t],arguments);return"animate"==n?this.fx||(this.fx=new y.FX.Set(this)):this}}),t=[],y.FX.prototype)"function"==typeof y.FX.prototype[e]&&"function"!=typeof y.FX.Set.prototype[e]&&t.push(e);t.forEach(function(n){y.FX.Set.prototype[n]=function(){for(var t=0,e=this.set.members.length;t<e;t++)this.set.members[t].fx[n].apply(this.set.members[t].fx,arguments);return this}})},y.extend(y.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(i){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),y.extend(y.Element,{remember:function(t,e){if("object"==typeof t)for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;0<=t;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),y.get=function(t){var e=o.getElementById(v(t)||t);return y.adopt(e)},y.select=function(t,e){return new y.Set(y.utils.map((e||o).querySelectorAll(t),function(t){return y.adopt(t)}))},y.extend(y.Parent,{select:function(t){return y.select(t,this.node)}});var w="abcdef".split("");if("function"!=typeof x){var x=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:undefined};var n=o.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};x.prototype=r.Event.prototype,r.CustomEvent=x}return function(o){for(var a=0,t=["moz","webkit"],e=0;e<t.length&&!r.requestAnimationFrame;++e)o.requestAnimationFrame=o[t[e]+"RequestAnimationFrame"],o.cancelAnimationFrame=o[t[e]+"CancelAnimationFrame"]||o[t[e]+"CancelRequestAnimationFrame"];o.requestAnimationFrame=o.requestAnimationFrame||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-a)),i=o.setTimeout(function(){t(e+n)},n);return a=e+n,i},o.cancelAnimationFrame=o.cancelAnimationFrame||o.clearTimeout}(r),y}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(jt,Nt){"use strict";function Lt(t,e,n,i){for(var o=[],a=0;a<t.length;a++){var r=t[a];if(r){var s=tinycolor(r),l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,r)?" sp-thumb-active":"";var c=s.toString(i.preferredFormat||"rgb"),u=Gt?"background-color:"+s.toRgbString():"filter:"+s.toFilter();o.push('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')}else{var d="sp-clear-display";o.push(jt("<div />").append(jt('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function Ft(){for(var t=0;t<Yt.length;t++)Yt[t]&&Yt[t].hide()}function Ht(t,e){var n=jt.extend({},o,t);return n.callbacks={move:i(n.move,e),change:i(n.change,e),show:i(n.show,e),hide:i(n.hide,e),beforeShow:i(n.beforeShow,e)},n}function e(t,e){function i(){if(A.showPaletteOnly&&(A.showPalette=!0),Ct.text(A.showPaletteOnly?A.togglePaletteMoreText:A.togglePaletteLessText),A.palette){K=A.palette.slice(0),Z=jt.isArray(K[0])?K:[K],J={};for(var t=0;t<Z.length;t++)for(var e=0;e<Z[t].length;e++){var n=tinycolor(Z[t][e]).toRgbString();J[n]=!0}}st.toggleClass("sp-flat",M),st.toggleClass("sp-input-disabled",!A.showInput),st.toggleClass("sp-alpha-enabled",A.showAlpha),st.toggleClass("sp-clear-enabled",zt),st.toggleClass("sp-buttons-disabled",!A.showButtons),st.toggleClass("sp-palette-buttons-disabled",!A.togglePaletteOnly),st.toggleClass("sp-palette-disabled",!A.showPalette),st.toggleClass("sp-palette-only",A.showPaletteOnly),st.toggleClass("sp-initial-disabled",!A.showInitial),st.addClass(A.className).addClass(A.containerClassName),$()}function n(){function t(t){return t.data&&t.data.ignore?(y(jt(t.target).closest(".sp-thumb-el").data("color")),x()):(y(jt(t.target).closest(".sp-thumb-el").data("color")),x(),_(!0),A.hideAfterPaletteSelect&&g()),!1}if(Vt&&st.find("*:not(input)").attr("unselectable","on"),i(),$t&&at.after(Tt).hide(),zt||wt.hide(),M)at.after(st).hide();else{var e="parent"===A.appendTo?at.parent():jt(A.appendTo);1!==e.length&&(e=jt("body")),e.append(st)}o(),kt.bind("click.spectrum touchstart.spectrum",function(t){rt||p(),t.stopPropagation(),jt(t.target).is("input")||t.preventDefault()}),(at.is(":disabled")||!0===A.disabled)&&E(),st.click(Bt),gt.change(d),gt.bind("paste",function(){setTimeout(d,1)}),gt.keydown(function(t){13==t.keyCode&&d()}),bt.text(A.cancelText),bt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),v(),g()}),wt.attr("title",A.clearText),wt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Ot=!0,x(),M&&_(!0)}),xt.text(A.chooseText),xt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Vt&&gt.is(":focus")&&gt.trigger("change"),w()&&(_(!0),g())}),Ct.text(A.showPaletteOnly?A.togglePaletteMoreText:A.togglePaletteLessText),Ct.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),A.showPaletteOnly=!A.showPaletteOnly,A.showPaletteOnly||M||st.css("left","-="+(lt.outerWidth(!0)+5)),i()}),qt(ft,function(t,e,n){Q=t/W,Ot=!1,n.shiftKey&&(Q=Math.round(10*Q)/10),x()},s,l),qt(dt,function(t,e){V=parseFloat(e/q),Ot=!1,A.showAlpha||(Q=1),x()},s,l),qt(ct,function(t,e,n){if(n.shiftKey){if(!it){var i=G*H,o=R-U*R,a=Math.abs(t-i)>Math.abs(e-o);it=a?"x":"y"}}else it=null;var r=!it||"y"===it;(!it||"x"===it)&&(G=parseFloat(t/H)),r&&(U=parseFloat((R-e)/R)),Ot=!1,A.showAlpha||(Q=1),x()},s,l),Et?(y(Et),C(),At=A.preferredFormat||tinycolor(Et).format,a(Et)):C(),M&&h();var n=Vt?"mousedown.spectrum":"click.spectrum touchstart.spectrum";vt.delegate(".sp-thumb-el",n,t),yt.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},t)}function o(){if(z&&window.localStorage){try{var t=window.localStorage[z].split(",#");1<t.length&&(delete window.localStorage[z],jt.each(t,function(t,e){a(e)}))}catch(e){}try{tt=window.localStorage[z].split(";")}catch(e){}}}function a(t){if(O){var e=tinycolor(t).toRgbString();if(!J[e]&&-1===jt.inArray(e,tt))for(tt.push(e);tt.length>et;)tt.shift();if(z&&window.localStorage)try{window.localStorage[z]=tt.join(";")}catch(n){}}}function r(){var t=[];if(A.showPalette)for(var e=0;e<tt.length;e++){var n=tinycolor(tt[e]).toRgbString();J[n]||t.push(tt[e])}return t.reverse().slice(0,A.maxSelectionSize)}function c(){var n=b(),t=jt.map(Z,function(t,e){return Lt(t,n,"sp-palette-row sp-palette-row-"+e,A)});o(),tt&&t.push(Lt(r(),n,"sp-palette-row sp-palette-row-selection",A)),vt.html(t.join(""))}function u(){if(A.showInitial){var t=Pt,e=b();yt.html(Lt([t,e],e,"sp-palette-row-initial",A))}}function s(){(R<=0||H<=0||q<=0)&&$(),F=!0,st.addClass(nt),it=null,at.trigger("dragstart.spectrum",[b()])}function l(){F=!1,st.removeClass(nt),at.trigger("dragstop.spectrum",[b()])}function d(){var t=gt.val();if(null!==t&&""!==t||!zt){var e=tinycolor(t);e.isValid()?(y(e),_(!0)):gt.addClass("sp-validation-error")}else y(null),_(!0)}function p(){L?g():h()}function h(){var t=jt.Event("beforeShow.spectrum");L?$():(at.trigger(t,[b()]),!1===j.beforeShow(b())||t.isDefaultPrevented()||(Ft(),L=!0,jt(ot).bind("keydown.spectrum",f),jt(ot).bind("click.spectrum",m),jt(window).bind("resize.spectrum",N),Tt.addClass("sp-active"),st.removeClass("sp-hidden"),$(),C(),Pt=b(),u(),j.show(Pt),at.trigger("show.spectrum",[Pt])))}function f(t){27===t.keyCode&&g()}function m(t){2!=t.button&&(F||(Mt?_(!0):v(),g()))}function g(){L&&!M&&(L=!1,jt(ot).unbind("keydown.spectrum",f),jt(ot).unbind("click.spectrum",m),jt(window).unbind("resize.spectrum",N),Tt.removeClass("sp-active"),st.addClass("sp-hidden"),j.hide(b()),at.trigger("hide.spectrum",[b()]))}function v(){y(Pt,!0)}function y(t,e){var n,i;tinycolor.equals(t,b())?C():(!t&&zt?Ot=!0:(Ot=!1,i=(n=tinycolor(t)).toHsv(),V=i.h%360/360,G=i.s,U=i.v,Q=i.a),C(),n&&n.isValid()&&!e&&(At=A.preferredFormat||n.getFormat()))}function b(t){return t=t||{},zt&&Ot?null:tinycolor.fromRatio({h:V,s:G,v:U,a:Math.round(100*Q)/100},{format:t.format||At})}function w(){return!gt.hasClass("sp-validation-error")}function x(){C(),j.move(b()),at.trigger("move.spectrum",[b()])}function C(){gt.removeClass("sp-validation-error"),S();var t=tinycolor.fromRatio({h:V,s:1,v:1});ct.css("background-color",t.toHexString());var e=At;Q<1&&(0!==Q||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=b({format:e}),i="";if(It.removeClass("sp-clear-display"),It.css("background-color","transparent"),!n&&zt)It.addClass("sp-clear-display");else{var o=n.toHexString(),a=n.toRgbString();if(Gt||1===n.alpha?It.css("background-color",a):(It.css("background-color","transparent"),It.css("filter",n.toFilter())),A.showAlpha){var r=n.toRgb();r.a=0;var s=tinycolor(r).toRgbString(),l="linear-gradient(left, "+s+", "+o+")";Vt?ht.css("filter",tinycolor(s).toFilter({gradientType:1},o)):(ht.css("background","-webkit-"+l),ht.css("background","-moz-"+l),ht.css("background","-ms-"+l),ht.css("background","linear-gradient(to right, "+s+", "+o+")"))}i=n.toString(e)}A.showInput&&gt.val(i),A.showPalette&&c(),u()}function S(){var t=G,e=U;if(zt&&Ot)mt.hide(),pt.hide(),ut.hide();else{mt.show(),pt.show(),ut.show();var n=t*H,i=R-e*R;n=Math.max(-B,Math.min(H-B,n-B)),i=Math.max(-B,Math.min(R-B,i-B)),ut.css({top:i+"px",left:n+"px"});var o=Q*W;mt.css({left:o-X/2+"px"});var a=V*q;pt.css({top:a-Y+"px"})}}function _(t){var e=b(),n="",i=!tinycolor.equals(e,Pt);e&&(n=e.toString(At),a(e)),St&&at.val(n),t&&i&&(j.change(e),at.trigger("change",[e]))}function $(){L&&(H=ct.width(),R=ct.height(),B=ut.height(),dt.width(),q=dt.height(),Y=pt.height(),W=ft.width(),X=mt.width(),M||(st.css("position","absolute"),A.offset?st.offset(A.offset):st.offset(Rt(st,kt))),S(),A.showPalette&&c(),at.trigger("reflow.spectrum"))}function T(){at.show(),kt.unbind("click.spectrum touchstart.spectrum"),st.remove(),Tt.remove(),Yt[Dt.id]=null}function k(t,e){return t===Nt?jt.extend({},A):e===Nt?A[t]:(A[t]=e,"preferredFormat"===t&&(At=A.preferredFormat),void i())}function I(){rt=!1,at.attr("disabled",!1),kt.removeClass("sp-disabled")}function E(){g(),rt=!0,at.attr("disabled",!0),kt.addClass("sp-disabled")}function P(t){A.offset=t,$()}var A=Ht(e,t),M=A.flat,O=A.showSelectionPalette,z=A.localStorageKey,D=A.theme,j=A.callbacks,N=Wt($,10),L=!1,F=!1,H=0,R=0,B=0,q=0,W=0,X=0,Y=0,V=0,G=0,U=0,Q=1,K=[],Z=[],J={},tt=A.selectionPalette.slice(0),et=A.maxSelectionSize,nt="sp-dragging",it=null,ot=t.ownerDocument,at=(ot.body,jt(t)),rt=!1,st=jt(Qt,ot).addClass(D),lt=st.find(".sp-picker-container"),ct=st.find(".sp-color"),ut=st.find(".sp-dragger"),dt=st.find(".sp-hue"),pt=st.find(".sp-slider"),ht=st.find(".sp-alpha-inner"),ft=st.find(".sp-alpha"),mt=st.find(".sp-alpha-handle"),gt=st.find(".sp-input"),vt=st.find(".sp-palette"),yt=st.find(".sp-initial"),bt=st.find(".sp-cancel"),wt=st.find(".sp-clear"),xt=st.find(".sp-choose"),Ct=st.find(".sp-palette-toggle"),St=at.is("input"),_t=St&&"color"===at.attr("type")&&Xt(),$t=St&&!M,Tt=$t?jt(Ut).addClass(D).addClass(A.className).addClass(A.replacerClassName):jt([]),kt=$t?Tt:at,It=Tt.find(".sp-preview-inner"),Et=A.color||St&&at.val(),Pt=!1,At=A.preferredFormat,Mt=!A.showButtons||A.clickoutFiresChange,Ot=!Et,zt=A.allowEmpty&&!_t;n();var Dt={show:h,hide:g,toggle:p,reflow:$,option:k,enable:I,disable:E,offset:P,set:function(t){y(t),_()},get:b,destroy:T,container:st};return Dt.id=Yt.push(Dt)-1,Dt}function Rt(t,e){var n=0,i=t.outerWidth(),o=t.outerHeight(),a=e.outerHeight(),r=t[0].ownerDocument,s=r.documentElement,l=s.clientWidth+jt(r).scrollLeft(),c=s.clientHeight+jt(r).scrollTop(),u=e.offset();return u.top+=a,u.left-=Math.min(u.left,u.left+i>l&&i<l?Math.abs(u.left+i-l):0),u.top-=Math.min(u.top,u.top+o>c&&o<c?Math.abs(o+a-n):n),u}function t(){}function Bt(t){t.stopPropagation()}function i(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function qt(r,s,e,t){function l(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function n(t){if(d){if(Vt&&u.documentMode<9&&!t.button)return c();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],n=e&&e.pageX||t.pageX,i=e&&e.pageY||t.pageY,o=Math.max(0,Math.min(n-p.left,f)),a=Math.max(0,Math.min(i-p.top,h));m&&l(t),s.apply(r,[o,a,t])}}function i(t){(t.which?3==t.which:2==t.button)||d||!1!==e.apply(r,arguments)&&(d=!0,h=jt(r).height(),f=jt(r).width(),p=jt(r).offset(),jt(u).bind(o),jt(u.body).addClass("sp-dragging"),n(t),l(t))}function c(){d&&(jt(u).unbind(o),jt(u.body).removeClass("sp-dragging"),setTimeout(function(){t.apply(r,arguments)},0)),d=!1}s=s||function(){},e=e||function(){},t=t||function(){};var u=document,d=!1,p={},h=0,f=0,m="ontouchstart"in window,o={};o.selectstart=l,o.dragstart=l,o["touchmove mousemove"]=n,o["touchend mouseup"]=c,jt(r).bind("touchstart mousedown",i)}function Wt(i,o,a){var r;return function(){var t=this,e=arguments,n=function(){r=null,i.apply(t,e)};a&&clearTimeout(r),!a&&r||(r=setTimeout(n,o))}}function Xt(){return jt.fn.spectrum.inputTypeColorSupport()}var o={beforeShow:t,move:t,change:t,show:t,hide:t,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},Yt=[],Vt=!!/msie/i.exec(window.navigator.userAgent),Gt=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),Ut=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Qt=function(){var t="";if(Vt)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),a="spectrum.id";jt.fn.spectrum=function(n){if("string"!=typeof n)return this.spectrum("destroy").each(function(){var t=e(this,jt.extend({},n,jt(this).data()));jt(this).data(a,t.id)});var i=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=Yt[jt(this).data(a)];if(t){var e=t[n];if(!e)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?i=t.get():"container"==n?i=t.container:"option"==n?i=t.option.apply(t,o):"destroy"==n?(t.destroy(),jt(this).removeData(a)):e.apply(t,o)}}),i},jt.fn.spectrum.load=!0,jt.fn.spectrum.loadOpts={},jt.fn.spectrum.draggable=qt,jt.fn.spectrum.defaults=o,jt.fn.spectrum.inputTypeColorSupport=function Xt(){if("undefined"==typeof Xt._cachedResult){var t=jt("<input type='color'/>")[0];Xt._cachedResult="color"===t.type&&""!==t.value}return Xt._cachedResult},jt.spectrum={},jt.spectrum.localization={},jt.spectrum.palettes={},jt.fn.spectrum.processNativeColorInputs=function(){var t=jt("input[type=color]");t.length&&!Xt()&&t.spectrum({preferredFormat:"hex6"})},function(){function i(t){var e={r:0,g:0,b:0},n=1,i=!1,o=!1;return"string"==typeof t&&(t=M(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=a(t.r,t.g,t.b),i=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=E(t.s),t.v=E(t.v),e=l(t.h,t.s,t.v),i=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=E(t.s),t.l=E(t.l),e=r(t.h,t.s,t.l),i=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=C(n),{ok:i,format:t.format||o,r:L(255,F(e.r,0)),g:L(255,F(e.g,0)),b:L(255,F(e.b,0)),a:n}}function a(t,e,n){return{r:255*S(t,255),g:255*S(e,255),b:255*S(n,255)}}function o(t,e,n){t=S(t,255),e=S(e,255),n=S(n,255);var i,o,a=F(t,e,n),r=L(t,e,n),s=(a+r)/2;if(a==r)i=o=0;else{var l=a-r;switch(o=.5<s?l/(2-a-r):l/(a+r),a){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:s}}function r(t,e,n){function i(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var o,a,r;if(t=S(t,360),e=S(e,100),n=S(n,100),0===e)o=a=r=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;o=i(l,s,t+1/3),a=i(l,s,t),r=i(l,s,t-1/3)}return{r:255*o,g:255*a,b:255*r}}function s(t,e,n){t=S(t,255),e=S(e,255),n=S(n,255);var i,o,a=F(t,e,n),r=L(t,e,n),s=a,l=a-r;if(o=0===a?0:l/a,a==r)i=0;else{switch(a){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:s}}function l(t,e,n){t=6*S(t,360),e=S(e,100),n=S(n,100);var i=j.floor(t),o=t-i,a=n*(1-e),r=n*(1-o*e),s=n*(1-(1-o)*e),l=i%6;return{r:255*[n,r,a,a,s,n][l],g:255*[s,n,n,r,a,a][l],b:255*[a,a,s,n,n,r][l]}}function e(t,e,n,i){var o=[I(N(t).toString(16)),I(N(e).toString(16)),I(N(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function c(t,e,n,i){return[I(P(i)),I(N(t).toString(16)),I(N(e).toString(16)),I(N(n).toString(16))].join("")}function t(t,e){e=0===e?0:e||10;var n=R(t).toHsl();return n.s-=e/100,n.s=_(n.s),R(n)}function n(t,e){e=0===e?0:e||10;var n=R(t).toHsl();return n.s+=e/100,n.s=_(n.s),R(n)}function u(t){return R(t).desaturate(100)}function d(t,e){e=0===e?0:e||10;var n=R(t).toHsl();return n.l+=e/100,n.l=_(n.l),R(n)}function p(t,e){e=0===e?0:e||10;var n=R(t).toRgb();return n.r=F(0,L(255,n.r-N(-e/100*255))),n.g=F(0,L(255,n.g-N(-e/100*255))),n.b=F(0,L(255,n.b-N(-e/100*255))),R(n)}function h(t,e){e=0===e?0:e||10;var n=R(t).toHsl();return n.l-=e/100,n.l=_(n.l),R(n)}function f(t,e){var n=R(t).toHsl(),i=(N(n.h)+e)%360;return n.h=i<0?360+i:i,R(n)}function m(t){var e=R(t).toHsl();return e.h=(e.h+180)%360,R(e)}function g(t){var e=R(t).toHsl(),n=e.h;return[R(t),R({h:(n+120)%360,s:e.s,l:e.l}),R({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=R(t).toHsl(),n=e.h;return[R(t),R({h:(n+90)%360,s:e.s,l:e.l}),R({h:(n+180)%360,s:e.s,l:e.l}),R({h:(n+270)%360,s:e.s,l:e.l})]}function y(t){var e=R(t).toHsl(),n=e.h;return[R(t),R({h:(n+72)%360,s:e.s,l:e.l}),R({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var i=R(t).toHsl(),o=360/n,a=[R(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,a.push(R(i));return a}function w(t,e){e=e||6;for(var n=R(t).toHsv(),i=n.h,o=n.s,a=n.v,r=[],s=1/e;e--;)r.push(R({h:i,s:o,v:a})),a=(a+s)%1;return r}function x(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function S(t,e){T(t)&&(t="100%");var n=k(t);return t=L(e,F(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),j.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function _(t){return L(1,F(0,t))}function $(t){return parseInt(t,16)}function T(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function k(t){return"string"==typeof t&&-1!=t.indexOf("%")}function I(t){return 1==t.length?"0"+t:""+t}function E(t){return t<=1&&(t=100*t+"%"),t}function P(t){return Math.round(255*parseFloat(t)).toString(16)}function A(t){return $(t)/255}function M(t){t=t.replace(O,"").replace(z,"").toLowerCase();var e,n=!1;if(X[t])t=X[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{a:A(e[1]),r:$(e[2]),g:$(e[3]),b:$(e[4]),format:n?"name":"hex8"}:(e=V.hex6.exec(t))?{r:$(e[1]),g:$(e[2]),b:$(e[3]),format:n?"name":"hex"}:!!(e=V.hex3.exec(t))&&{r:$(e[1]+""+e[1]),g:$(e[2]+""+e[2]),b:$(e[3]+""+e[3]),format:n?"name":"hex"}}var O=/^[\s,#]+/,z=/\s+$/,D=0,j=Math,N=j.round,L=j.min,F=j.max,H=j.random,R=function(t,e){if(e=e||{},(t=t||"")instanceof R)return t;if(!(this instanceof R))return new R(t,e);var n=i(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=N(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=n.ok,this._tc_id=D++};R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=C(t),this._roundA=N(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=N(360*t.h),n=N(100*t.s),i=N(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=N(360*t.h),n=N(100*t.s),i=N(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return c(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*S(this._r,255))+"%",g:N(100*S(this._g,255))+"%",b:N(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*S(this._r,255))+"%, "+N(100*S(this._g,255))+"%, "+N(100*S(this._b,255))+"%)":"rgba("+N(100*S(this._r,255))+"%, "+N(100*S(this._g,255))+"%, "+N(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Y[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){
var e="#"+c(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=R(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&0<=this._a;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(t,arguments)},saturate:function(){return this._applyModification(n,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},R.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:E(t[i]));t=n}return R(t,e)},R.equals=function(t,e){return!(!t||!e)&&R(t).toRgbString()==R(e).toRgbString()},R.random=function(){return R.fromRatio({r:H(),g:H(),b:H()})},R.mix=function(t,e,n){n=0===n?0:n||50;var i,o=R(t).toRgb(),a=R(e).toRgb(),r=n/100,s=2*r-1,l=a.a-o.a,c=1-(i=((i=s*l==-1?s:(s+l)/(1+s*l))+1)/2),u={r:a.r*i+o.r*c,g:a.g*i+o.g*c,b:a.b*i+o.b*c,a:a.a*r+o.a*(1-r)};return R(u)},R.readability=function(t,e){var n=R(t),i=R(e),o=n.toRgb(),a=i.toRgb(),r=n.getBrightness(),s=i.getBrightness(),l=Math.max(o.r,a.r)-Math.min(o.r,a.r)+Math.max(o.g,a.g)-Math.min(o.g,a.g)+Math.max(o.b,a.b)-Math.min(o.b,a.b);return{brightness:Math.abs(r-s),color:l}},R.isReadable=function(t,e){var n=R.readability(t,e);return 125<n.brightness&&500<n.color},R.mostReadable=function(t,e){for(var n=null,i=0,o=!1,a=0;a<e.length;a++){var r=R.readability(t,e[a]),s=125<r.brightness&&500<r.color,l=r.brightness/125*3+r.color/500;(s&&!o||s&&o&&i<l||!s&&!o&&i<l)&&(o=s,i=l,n=R(e[a]))}return n};var B,q,W,X=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=R.hexNames=x(X),V=(q="[\\s|\\(]+("+(B="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",W="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+W),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=R}(),jt(function(){jt.fn.spectrum.load&&jt.fn.spectrum.processNativeColorInputs()})}),function(){"use strict";function t(t){t.fn.swiper=function(e){var n;return t(this).each(function(){var t=new F(this,e);n||(n=t)}),n}}var L,e,n,i,o,a,r,s,l,c,F=function(t,l){function m(t){return Math.floor(t)}function e(){var t=w.params.autoplay,e=w.slides.eq(w.activeIndex);e.attr("data-swiper-autoplay")&&(t=e.attr("data-swiper-autoplay")||w.params.autoplay),w.autoplayTimeoutId=setTimeout(function(){w.params.loop?(w.fixLoop(),w._slideNext(),w.emit("onAutoplay",w)):w.isEnd?l.autoplayStopOnLast?w.stopAutoplay():(w._slideTo(0),w.emit("onAutoplay",w)):(w._slideNext(),w.emit("onAutoplay",w))},t)}function r(t,n){var e=L(t.target);if(!e.is(n))if("string"==typeof n)e=e.parents(n);else if(n.nodeType){var i;return e.parents().each(function(t,e){e===n&&(i=n)}),i?n:void 0}if(0!==e.length)return e[0]}function n(t,e){e=e||{};var n=new(window.MutationObserver||window.WebkitMutationObserver)(function(t){t.forEach(function(t){w.onResize(!0),w.emit("onObserverUpdate",w,t)})});n.observe(t,{attributes:"undefined"==typeof e.attributes||e.attributes,childList:"undefined"==typeof e.childList||e.childList,characterData:"undefined"==typeof e.characterData||e.characterData}),w.observers.push(n)}function i(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!w.params.allowSwipeToNext&&(w.isHorizontal()&&39===e||!w.isHorizontal()&&40===e))return!1;if(!w.params.allowSwipeToPrev&&(w.isHorizontal()&&37===e||!w.isHorizontal()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var n=!1;if(0<w.container.parents("."+w.params.slideClass).length&&0===w.container.parents("."+w.params.slideActiveClass).length)return;var i={left:window.pageXOffset,top:window.pageYOffset},o=window.innerWidth,a=window.innerHeight,r=w.container.offset();w.rtl&&(r.left=r.left-w.container[0].scrollLeft);for(var s=[[r.left,r.top],[r.left+w.width,r.top],[r.left,r.top+w.height],[r.left+w.width,r.top+w.height]],l=0;l<s.length;l++){var c=s[l];c[0]>=i.left&&c[0]<=i.left+o&&c[1]>=i.top&&c[1]<=i.top+a&&(n=!0)}if(!n)return}w.isHorizontal()?(37!==e&&39!==e||(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!w.rtl||37===e&&w.rtl)&&w.slideNext(),(37===e&&!w.rtl||39===e&&w.rtl)&&w.slidePrev()):(38!==e&&40!==e||(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&w.slideNext(),38===e&&w.slidePrev())}}function o(){var t="onwheel",e=t in document;if(!e){var n=document.createElement("div");n.setAttribute(t,"return;"),e="function"==typeof n[t]}return!e&&document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}function a(t){t.originalEvent&&(t=t.originalEvent);var e=0,n=w.rtl?-1:1,i=s(t);if(w.params.mousewheelForceToAxis)if(w.isHorizontal()){if(!(Math.abs(i.pixelX)>Math.abs(i.pixelY)))return;e=i.pixelX*n}else{if(!(Math.abs(i.pixelY)>Math.abs(i.pixelX)))return;e=i.pixelY}else e=Math.abs(i.pixelX)>Math.abs(i.pixelY)?-i.pixelX*n:-i.pixelY;if(0!==e){if(w.params.mousewheelInvert&&(e=-e),w.params.freeMode){var o=w.getWrapperTranslate()+e*w.params.mousewheelSensitivity,a=w.isBeginning,r=w.isEnd;if(o>=w.minTranslate()&&(o=w.minTranslate()),o<=w.maxTranslate()&&(o=w.maxTranslate()),w.setWrapperTransition(0),w.setWrapperTranslate(o),w.updateProgress(),w.updateActiveIndex(),(!a&&w.isBeginning||!r&&w.isEnd)&&w.updateClasses(),w.params.freeModeSticky?(clearTimeout(w.mousewheel.timeout),w.mousewheel.timeout=setTimeout(function(){w.slideReset()},300)):w.params.lazyLoading&&w.lazy&&w.lazy.load(),w.emit("onScroll",w,t),w.params.autoplay&&w.params.autoplayDisableOnInteraction&&w.stopAutoplay(),0===o||o===w.maxTranslate())return}else{if(60<(new window.Date).getTime()-w.mousewheel.lastScrollTime)if(e<0)if(w.isEnd&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slideNext(),w.emit("onScroll",w,t);else if(w.isBeginning&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slidePrev(),w.emit("onScroll",w,t);w.mousewheel.lastScrollTime=(new window.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function s(t){var e=10,n=40,i=800,o=0,a=0,r=0,s=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(o=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=a,a=0),r=o*e,s=a*e,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(1===t.deltaMode?(r*=n,s*=n):(r*=i,s*=i)),r&&!o&&(o=r<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:o,spinY:a,pixelX:r,pixelY:s}}function c(t,e){t=L(t);var n,i,o,a=w.rtl?-1:1;n=t.attr("data-swiper-parallax")||"0",i=t.attr("data-swiper-parallax-x"),o=t.attr("data-swiper-parallax-y"),i||o?(i=i||"0",o=o||"0"):w.isHorizontal()?(i=n,o="0"):(o=n,i="0"),i=0<=i.indexOf("%")?parseInt(i,10)*e*a+"%":i*e*a+"px",o=0<=o.indexOf("%")?parseInt(o,10)*e+"%":o*e+"px",t.transform("translate3d("+i+", "+o+",0px)")}function u(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof F))return new F(t,l);var d={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},p=l&&l.virtualTranslate;l=l||{};var h={};for(var f in l)if("object"!=typeof l[f]||null===l[f]||l[f].nodeType||l[f]===window||l[f]===document||void 0!==H&&l[f]instanceof H||"undefined"!=typeof jQuery&&l[f]instanceof jQuery)h[f]=l[f];else for(var g in h[f]={},l[f])h[f][g]=l[f][g];for(var v in d)if("undefined"==typeof l[v])l[v]=d[v];else if("object"==typeof l[v])for(var y in d[v])"undefined"==typeof l[v][y]&&(l[v][y]=d[v][y]);var w=this;if(w.params=l,w.originalParams=h,w.classNames=[],void 0!==L&&void 0!==H&&(L=H),(void 0!==L||(L=void 0===H?window.Dom7||window.Zepto||window.jQuery:H))&&(w.$=L,w.currentBreakpoint=void 0,w.getActiveBreakpoint=function(){if(!w.params.breakpoints)return!1;var t,e=!1,n=[];for(t in w.params.breakpoints)w.params.breakpoints.hasOwnProperty(t)&&n.push(t);n.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var i=0;i<n.length;i++)(t=n[i])>=window.innerWidth&&!e&&(e=t);return e||"max"},w.setBreakpoint=function(){var t=w.getActiveBreakpoint();if(t&&w.currentBreakpoint!==t){var e=t in w.params.breakpoints?w.params.breakpoints[t]:w.originalParams,n=w.params.loop&&e.slidesPerView!==w.params.slidesPerView;for(var i in e)w.params[i]=e[i];w.currentBreakpoint=t,n&&w.destroyLoop&&w.reLoop(!0)}},w.params.breakpoints&&w.setBreakpoint(),w.container=L(t),0!==w.container.length)){if(1<w.container.length){var b=[];return w.container.each(function(){b.push(new F(this,l))}),b}(w.container[0].swiper=w).container.data("swiper",w),w.classNames.push(w.params.containerModifierClass+w.params.direction),w.params.freeMode&&w.classNames.push(w.params.containerModifierClass+"free-mode"),w.support.flexbox||(w.classNames.push(w.params.containerModifierClass+"no-flexbox"),w.params.slidesPerColumn=1),w.params.autoHeight&&w.classNames.push(w.params.containerModifierClass+"autoheight"),(w.params.parallax||w.params.watchSlidesVisibility)&&(w.params.watchSlidesProgress=!0),w.params.touchReleaseOnEdges&&(w.params.resistanceRatio=0),0<=["cube","coverflow","flip"].indexOf(w.params.effect)&&(w.support.transforms3d?(w.params.watchSlidesProgress=!0,w.classNames.push(w.params.containerModifierClass+"3d")):w.params.effect="slide"),"slide"!==w.params.effect&&w.classNames.push(w.params.containerModifierClass+w.params.effect),"cube"===w.params.effect&&(w.params.resistanceRatio=0,w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.centeredSlides=!1,w.params.spaceBetween=0,w.params.virtualTranslate=!0,w.params.setWrapperSize=!1),"fade"!==w.params.effect&&"flip"!==w.params.effect||(w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.watchSlidesProgress=!0,w.params.spaceBetween=0,w.params.setWrapperSize=!1,void 0===p&&(w.params.virtualTranslate=!0)),w.params.grabCursor&&w.support.touch&&(w.params.grabCursor=!1),w.wrapper=w.container.children("."+w.params.wrapperClass),w.params.pagination&&(w.paginationContainer=L(w.params.pagination),w.params.uniqueNavElements&&"string"==typeof w.params.pagination&&1<w.paginationContainer.length&&1===w.container.find(w.params.pagination).length&&(w.paginationContainer=w.container.find(w.params.pagination)),"bullets"===w.params.paginationType&&w.params.paginationClickable?w.paginationContainer.addClass(w.params.paginationModifierClass+"clickable"):w.params.paginationClickable=!1,w.paginationContainer.addClass(w.params.paginationModifierClass+w.params.paginationType)),(w.params.nextButton||w.params.prevButton)&&(w.params.nextButton&&(w.nextButton=L(w.params.nextButton),w.params.uniqueNavElements&&"string"==typeof w.params.nextButton&&1<w.nextButton.length&&1===w.container.find(w.params.nextButton).length&&(w.nextButton=w.container.find(w.params.nextButton))),w.params.prevButton&&(w.prevButton=L(w.params.prevButton),w.params.uniqueNavElements&&"string"==typeof w.params.prevButton&&1<w.prevButton.length&&1===w.container.find(w.params.prevButton).length&&(w.prevButton=w.container.find(w.params.prevButton)))),w.isHorizontal=function(){return"horizontal"===w.params.direction},w.rtl=w.isHorizontal()&&("rtl"===w.container[0].dir.toLowerCase()||"rtl"===w.container.css("direction")),w.rtl&&w.classNames.push(w.params.containerModifierClass+"rtl"),w.rtl&&(w.wrongRTL="-webkit-box"===w.wrapper.css("display")),1<w.params.slidesPerColumn&&w.classNames.push(w.params.containerModifierClass+"multirow"),w.device.android&&w.classNames.push(w.params.containerModifierClass+"android"),w.container.addClass(w.classNames.join(" ")),w.translate=0,w.progress=0,w.velocity=0,w.lockSwipeToNext=function(){(w.params.allowSwipeToNext=!1)===w.params.allowSwipeToPrev&&w.params.grabCursor&&w.unsetGrabCursor()},w.lockSwipeToPrev=function(){(w.params.allowSwipeToPrev=!1)===w.params.allowSwipeToNext&&w.params.grabCursor&&w.unsetGrabCursor()},w.lockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!1,w.params.grabCursor&&w.unsetGrabCursor()},w.unlockSwipeToNext=function(){(w.params.allowSwipeToNext=!0)===w.params.allowSwipeToPrev&&w.params.grabCursor&&w.setGrabCursor()},w.unlockSwipeToPrev=function(){(w.params.allowSwipeToPrev=!0)===w.params.allowSwipeToNext&&w.params.grabCursor&&w.setGrabCursor()},w.unlockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!0,w.params.grabCursor&&w.setGrabCursor()},w.setGrabCursor=function(t){w.container[0].style.cursor="move",w.container[0].style.cursor=t?"-webkit-grabbing":"-webkit-grab",w.container[0].style.cursor=t?"-moz-grabbin":"-moz-grab",w.container[0].style.cursor=t?"grabbing":"grab"},w.unsetGrabCursor=function(){w.container[0].style.cursor=""},w.params.grabCursor&&w.setGrabCursor(),w.imagesToLoad=[],w.imagesLoaded=0,w.loadImage=function(t,e,n,i,o,a){function r(){a&&a()}var s;t.complete&&o?r():e?((s=new window.Image).onload=r,s.onerror=r,i&&(s.sizes=i),n&&(s.srcset=n),e&&(s.src=e)):r()},w.preloadImages=function(){function t(){null!=w&&(void 0!==w.imagesLoaded&&w.imagesLoaded++,w.imagesLoaded===w.imagesToLoad.length&&(w.params.updateOnImagesReady&&w.update(),w.emit("onImagesReady",w)))}w.imagesToLoad=w.container.find("img");for(var e=0;e<w.imagesToLoad.length;e++)w.loadImage(w.imagesToLoad[e],w.imagesToLoad[e].currentSrc||w.imagesToLoad[e].getAttribute("src"),w.imagesToLoad[e].srcset||w.imagesToLoad[e].getAttribute("srcset"),w.imagesToLoad[e].sizes||w.imagesToLoad[e].getAttribute("sizes"),!0,t)},w.autoplayTimeoutId=void 0,w.autoplaying=!1,w.autoplayPaused=!1,w.startAutoplay=function(){return"undefined"==typeof w.autoplayTimeoutId&&!!w.params.autoplay&&!w.autoplaying&&(w.autoplaying=!0,w.emit("onAutoplayStart",w),void e())},w.stopAutoplay=function(){w.autoplayTimeoutId&&(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplaying=!1,w.autoplayTimeoutId=void 0,w.emit("onAutoplayStop",w))},w.pauseAutoplay=function(t){w.autoplayPaused||(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplayPaused=!0,0===t?(w.autoplayPaused=!1,e()):w.wrapper.transitionEnd(function(){w&&(w.autoplayPaused=!1,w.autoplaying?e():w.stopAutoplay())}))},w.minTranslate=function(){return-w.snapGrid[0]},w.maxTranslate=function(){return-w.snapGrid[w.snapGrid.length-1]},w.updateAutoHeight=function(){var t=[],e=0;if("auto"!==w.params.slidesPerView&&1<w.params.slidesPerView)for(R=0;R<Math.ceil(w.params.slidesPerView);R++){var n=w.activeIndex+R;if(n>w.slides.length)break;t.push(w.slides.eq(n)[0])}else t.push(w.slides.eq(w.activeIndex)[0]);for(R=0;R<t.length;R++)if("undefined"!=typeof t[R]){var i=t[R].offsetHeight;e=e<i?i:e}e&&w.wrapper.css("height",e+"px")},w.updateContainerSize=function(){var t,e;t="undefined"!=typeof w.params.width?w.params.width:w.container[0].clientWidth,e="undefined"!=typeof w.params.height?w.params.height:w.container[0].clientHeight,0===t&&w.isHorizontal()||0===e&&!w.isHorizontal()||(t=t-parseInt(w.container.css("padding-left"),10)-parseInt(w.container.css("padding-right"),10),e=e-parseInt(w.container.css("padding-top"),10)-parseInt(w.container.css("padding-bottom"),10),w.width=t,w.height=e,w.size=w.isHorizontal()?w.width:w.height)},w.updateSlidesSize=function(){w.slides=w.wrapper.children("."+w.params.slideClass),w.snapGrid=[],w.slidesGrid=[],w.slidesSizesGrid=[];var t,e=w.params.spaceBetween,n=-w.params.slidesOffsetBefore,i=0,o=0;if("undefined"!=typeof w.size){var a;"string"==typeof e&&0<=e.indexOf("%")&&(e=parseFloat(e.replace("%",""))/100*w.size),w.virtualSize=-e,w.rtl?w.slides.css({marginLeft:"",marginTop:""}):w.slides.css({marginRight:"",marginBottom:""}),1<w.params.slidesPerColumn&&(a=Math.floor(w.slides.length/w.params.slidesPerColumn)===w.slides.length/w.params.slidesPerColumn?w.slides.length:Math.ceil(w.slides.length/w.params.slidesPerColumn)*w.params.slidesPerColumn,"auto"!==w.params.slidesPerView&&"row"===w.params.slidesPerColumnFill&&(a=Math.max(a,w.params.slidesPerView*w.params.slidesPerColumn)));var r,s,l=w.params.slidesPerColumn,c=a/l,u=c-(w.params.slidesPerColumn*c-w.slides.length);for(t=0;t<w.slides.length;t++){r=0;var d,p,h,f=w.slides.eq(t);if(1<w.params.slidesPerColumn)"column"===w.params.slidesPerColumnFill?(h=t-(p=Math.floor(t/l))*l,(u<p||p===u&&h===l-1)&&++h>=l&&(h=0,p++),d=p+h*a/l,f.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):p=t-(h=Math.floor(t/c))*c,f.css("margin-"+(w.isHorizontal()?"top":"left"),0!==h&&w.params.spaceBetween&&w.params.spaceBetween+"px").attr("data-swiper-column",p).attr("data-swiper-row",h);"none"!==f.css("display")&&("auto"===w.params.slidesPerView?(r=w.isHorizontal()?f.outerWidth(!0):f.outerHeight(!0),w.params.roundLengths&&(r=m(r))):(r=(w.size-(w.params.slidesPerView-1)*e)/w.params.slidesPerView,w.params.roundLengths&&(r=m(r)),w.isHorizontal()?w.slides[t].style.width=r+"px":w.slides[t].style.height=r+"px"),w.slides[t].swiperSlideSize=r,w.slidesSizesGrid.push(r),w.params.centeredSlides?(n=n+r/2+i/2+e,0===t&&(n=n-w.size/2-e),Math.abs(n)<.001&&(n=0),o%w.params.slidesPerGroup==0&&w.snapGrid.push(n),w.slidesGrid.push(n)):(o%w.params.slidesPerGroup==0&&w.snapGrid.push(n),w.slidesGrid.push(n),n=n+r+e),w.virtualSize+=r+e,i=r,o++)}if(w.virtualSize=Math.max(w.virtualSize,w.size)+w.params.slidesOffsetAfter,w.rtl&&w.wrongRTL&&("slide"===w.params.effect||"coverflow"===w.params.effect)&&w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.support.flexbox&&!w.params.setWrapperSize||(w.isHorizontal()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"})),1<w.params.slidesPerColumn&&(w.virtualSize=(r+w.params.spaceBetween)*a,w.virtualSize=Math.ceil(w.virtualSize/w.params.slidesPerColumn)-w.params.spaceBetween,w.isHorizontal()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"}),w.params.centeredSlides)){for(s=[],t=0;t<w.snapGrid.length;t++)w.snapGrid[t]<w.virtualSize+w.snapGrid[0]&&s.push(w.snapGrid[t]);w.snapGrid=s}if(!w.params.centeredSlides){for(s=[],t=0;t<w.snapGrid.length;t++)w.snapGrid[t]<=w.virtualSize-w.size&&s.push(w.snapGrid[t]);w.snapGrid=s,1<Math.floor(w.virtualSize-w.size)-Math.floor(w.snapGrid[w.snapGrid.length-1])&&w.snapGrid.push(w.virtualSize-w.size)}0===w.snapGrid.length&&(w.snapGrid=[0]),0!==w.params.spaceBetween&&(w.isHorizontal()?w.rtl?w.slides.css({marginLeft:e+"px"}):w.slides.css({marginRight:e+"px"}):w.slides.css({marginBottom:e+"px"})),w.params.watchSlidesProgress&&w.updateSlidesOffset()}},w.updateSlidesOffset=function(){for(var t=0;t<w.slides.length;t++)w.slides[t].swiperSlideOffset=w.isHorizontal()?w.slides[t].offsetLeft:w.slides[t].offsetTop},w.updateSlidesProgress=function(t){if(void 0===t&&(t=w.translate||0),0!==w.slides.length){"undefined"==typeof w.slides[0].swiperSlideOffset&&w.updateSlidesOffset();var e=-t;w.rtl&&(e=t),w.slides.removeClass(w.params.slideVisibleClass);for(var n=0;n<w.slides.length;n++){var i=w.slides[n],o=(e+(w.params.centeredSlides?w.minTranslate():0)-i.swiperSlideOffset)/(i.swiperSlideSize+w.params.spaceBetween);if(w.params.watchSlidesVisibility){var a=-(e-i.swiperSlideOffset),r=a+w.slidesSizesGrid[n];(0<=a&&a<w.size||0<r&&r<=w.size||a<=0&&r>=w.size)&&w.slides.eq(n).addClass(w.params.slideVisibleClass)}i.progress=w.rtl?-o:o}}},w.updateProgress=function(t){void 0===t&&(t=w.translate||0);var e=w.maxTranslate()-w.minTranslate(),n=w.isBeginning,i=w.isEnd;0===e?(w.progress=0,w.isBeginning=w.isEnd=!0):(w.progress=(t-w.minTranslate())/e,w.isBeginning=w.progress<=0,w.isEnd=1<=w.progress),w.isBeginning&&!n&&w.emit("onReachBeginning",w),w.isEnd&&!i&&w.emit("onReachEnd",w),w.params.watchSlidesProgress&&w.updateSlidesProgress(t),w.emit("onProgress",w,w.progress)},w.updateActiveIndex=function(){var t,e,n,i=w.rtl?w.translate:-w.translate;for(e=0;e<w.slidesGrid.length;e++)"undefined"!=typeof w.slidesGrid[e+1]?i>=w.slidesGrid[e]&&i<w.slidesGrid[e+1]-(w.slidesGrid[e+1]-w.slidesGrid[e])/2?t=e:i>=w.slidesGrid[e]&&i<w.slidesGrid[e+1]&&(t=e+1):i>=w.slidesGrid[e]&&(t=e);w.params.normalizeSlideIndex&&(t<0||void 0===t)&&(t=0),(n=Math.floor(t/w.params.slidesPerGroup))>=w.snapGrid.length&&(n=w.snapGrid.length-1),t!==w.activeIndex&&(w.snapIndex=n,w.previousIndex=w.activeIndex,w.activeIndex=t,w.updateClasses(),w.updateRealIndex())},w.updateRealIndex=function(){w.realIndex=w.slides.eq(w.activeIndex).attr("data-swiper-slide-index")||w.activeIndex},w.updateClasses=function(){w.slides.removeClass(w.params.slideActiveClass+" "+w.params.slideNextClass+" "+w.params.slidePrevClass+" "+w.params.slideDuplicateActiveClass+" "+w.params.slideDuplicateNextClass+" "+w.params.slideDuplicatePrevClass);var t=w.slides.eq(w.activeIndex);t.addClass(w.params.slideActiveClass),l.loop&&(t.hasClass(w.params.slideDuplicateClass)?w.wrapper.children("."+w.params.slideClass+":not(."+w.params.slideDuplicateClass+')[data-swiper-slide-index="'+w.realIndex+'"]').addClass(w.params.slideDuplicateActiveClass):w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+w.realIndex+'"]').addClass(w.params.slideDuplicateActiveClass));var e=t.next("."+w.params.slideClass).addClass(w.params.slideNextClass);w.params.loop&&0===e.length&&(e=w.slides.eq(0)).addClass(w.params.slideNextClass);var n=t.prev("."+w.params.slideClass).addClass(w.params.slidePrevClass);if(w.params.loop&&0===n.length&&(n=w.slides.eq(-1)).addClass(w.params.slidePrevClass),l.loop&&(e.hasClass(w.params.slideDuplicateClass)?w.wrapper.children("."+w.params.slideClass+":not(."+w.params.slideDuplicateClass+')[data-swiper-slide-index="'+e.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicateNextClass):w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+e.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicateNextClass),n.hasClass(w.params.slideDuplicateClass)?w.wrapper.children("."+w.params.slideClass+":not(."+w.params.slideDuplicateClass+')[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicatePrevClass):w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicatePrevClass)),w.paginationContainer&&0<w.paginationContainer.length){var i,o=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length;if(w.params.loop?((i=Math.ceil((w.activeIndex-w.loopedSlides)/w.params.slidesPerGroup))>w.slides.length-1-2*w.loopedSlides&&(i-=w.slides.length-2*w.loopedSlides),o-1<i&&(i-=o),i<0&&"bullets"!==w.params.paginationType&&(i=o+i)):i="undefined"!=typeof w.snapIndex?w.snapIndex:w.activeIndex||0,"bullets"===w.params.paginationType&&w.bullets&&0<w.bullets.length&&(w.bullets.removeClass(w.params.bulletActiveClass),1<w.paginationContainer.length?w.bullets.each(function(){L(this).index()===i&&L(this).addClass(w.params.bulletActiveClass)}):w.bullets.eq(i).addClass(w.params.bulletActiveClass)),"fraction"===w.params.paginationType&&(w.paginationContainer.find("."+w.params.paginationCurrentClass).text(i+1),w.paginationContainer.find("."+w.params.paginationTotalClass).text(o)),"progress"===w.params.paginationType){var a=(i+1)/o,r=a,s=1;w.isHorizontal()||(s=a,r=1),w.paginationContainer.find("."+w.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+r+") scaleY("+s+")").transition(w.params.speed)}"custom"===w.params.paginationType&&w.params.paginationCustomRender&&(w.paginationContainer.html(w.params.paginationCustomRender(w,i+1,o)),w.emit("onPaginationRendered",w,w.paginationContainer[0]))}w.params.loop||(w.params.prevButton&&w.prevButton&&0<w.prevButton.length&&(w.isBeginning?(w.prevButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.prevButton)):(w.prevButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.prevButton))),w.params.nextButton&&w.nextButton&&0<w.nextButton.length&&(w.isEnd?(w.nextButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.nextButton)):(w.nextButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.nextButton))))},w.updatePagination=function(){if(w.params.pagination&&w.paginationContainer&&0<w.paginationContainer.length){var t="";if("bullets"===w.params.paginationType){for(var e=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides
)/w.params.slidesPerGroup):w.snapGrid.length,n=0;n<e;n++)t+=w.params.paginationBulletRender?w.params.paginationBulletRender(w,n,w.params.bulletClass):"<"+w.params.paginationElement+' class="'+w.params.bulletClass+'"></'+w.params.paginationElement+">";w.paginationContainer.html(t),w.bullets=w.paginationContainer.find("."+w.params.bulletClass),w.params.paginationClickable&&w.params.a11y&&w.a11y&&w.a11y.initPagination()}"fraction"===w.params.paginationType&&(t=w.params.paginationFractionRender?w.params.paginationFractionRender(w,w.params.paginationCurrentClass,w.params.paginationTotalClass):'<span class="'+w.params.paginationCurrentClass+'"></span> / <span class="'+w.params.paginationTotalClass+'"></span>',w.paginationContainer.html(t)),"progress"===w.params.paginationType&&(t=w.params.paginationProgressRender?w.params.paginationProgressRender(w,w.params.paginationProgressbarClass):'<span class="'+w.params.paginationProgressbarClass+'"></span>',w.paginationContainer.html(t)),"custom"!==w.params.paginationType&&w.emit("onPaginationRendered",w,w.paginationContainer[0])}},w.update=function(t){function e(){w.rtl,w.translate,n=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate()),w.setWrapperTranslate(n),w.updateActiveIndex(),w.updateClasses()}var n;(w.updateContainerSize(),w.updateSlidesSize(),w.updateProgress(),w.updatePagination(),w.updateClasses(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),t)?(w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode?(e(),w.params.autoHeight&&w.updateAutoHeight()):(("auto"===w.params.slidesPerView||1<w.params.slidesPerView)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0))||e()):w.params.autoHeight&&w.updateAutoHeight()},w.onResize=function(t){w.params.breakpoints&&w.setBreakpoint();var e=w.params.allowSwipeToPrev,n=w.params.allowSwipeToNext;w.params.allowSwipeToPrev=w.params.allowSwipeToNext=!0,w.updateContainerSize(),w.updateSlidesSize(),("auto"===w.params.slidesPerView||w.params.freeMode||t)&&w.updatePagination(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),w.controller&&w.controller.spline&&(w.controller.spline=void 0);var i=!1;if(w.params.freeMode){var o=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate());w.setWrapperTranslate(o),w.updateActiveIndex(),w.updateClasses(),w.params.autoHeight&&w.updateAutoHeight()}else w.updateClasses(),i=("auto"===w.params.slidesPerView||1<w.params.slidesPerView)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0);w.params.lazyLoading&&!i&&w.lazy&&w.lazy.load(),w.params.allowSwipeToPrev=e,w.params.allowSwipeToNext=n},w.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?w.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(w.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),w.touchEvents={start:w.support.touch||!w.params.simulateTouch?"touchstart":w.touchEventsDesktop.start,move:w.support.touch||!w.params.simulateTouch?"touchmove":w.touchEventsDesktop.move,end:w.support.touch||!w.params.simulateTouch?"touchend":w.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===w.params.touchEventsTarget?w.container:w.wrapper).addClass("swiper-wp8-"+w.params.direction),w.initEvents=function(t){var e=t?"off":"on",n=t?"removeEventListener":"addEventListener",i="container"===w.params.touchEventsTarget?w.container[0]:w.wrapper[0],o=w.support.touch?i:document,a=!!w.params.nested;if(w.browser.ie)i[n](w.touchEvents.start,w.onTouchStart,!1),o[n](w.touchEvents.move,w.onTouchMove,a),o[n](w.touchEvents.end,w.onTouchEnd,!1);else{if(w.support.touch){var r=!("touchstart"!==w.touchEvents.start||!w.support.passiveListener||!w.params.passiveListeners)&&{passive:!0,capture:!1};i[n](w.touchEvents.start,w.onTouchStart,r),i[n](w.touchEvents.move,w.onTouchMove,a),i[n](w.touchEvents.end,w.onTouchEnd,r)}(l.simulateTouch&&!w.device.ios&&!w.device.android||l.simulateTouch&&!w.support.touch&&w.device.ios)&&(i[n]("mousedown",w.onTouchStart,!1),document[n]("mousemove",w.onTouchMove,a),document[n]("mouseup",w.onTouchEnd,!1))}window[n]("resize",w.onResize),w.params.nextButton&&w.nextButton&&0<w.nextButton.length&&(w.nextButton[e]("click",w.onClickNext),w.params.a11y&&w.a11y&&w.nextButton[e]("keydown",w.a11y.onEnterKey)),w.params.prevButton&&w.prevButton&&0<w.prevButton.length&&(w.prevButton[e]("click",w.onClickPrev),w.params.a11y&&w.a11y&&w.prevButton[e]("keydown",w.a11y.onEnterKey)),w.params.pagination&&w.params.paginationClickable&&(w.paginationContainer[e]("click","."+w.params.bulletClass,w.onClickIndex),w.params.a11y&&w.a11y&&w.paginationContainer[e]("keydown","."+w.params.bulletClass,w.a11y.onEnterKey)),(w.params.preventClicks||w.params.preventClicksPropagation)&&i[n]("click",w.preventClicks,!0)},w.attachEvents=function(){w.initEvents()},w.detachEvents=function(){w.initEvents(!0)},w.allowClick=!0,w.preventClicks=function(t){w.allowClick||(w.params.preventClicks&&t.preventDefault(),w.params.preventClicksPropagation&&w.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},w.onClickNext=function(t){t.preventDefault(),w.isEnd&&!w.params.loop||w.slideNext()},w.onClickPrev=function(t){t.preventDefault(),w.isBeginning&&!w.params.loop||w.slidePrev()},w.onClickIndex=function(t){t.preventDefault();var e=L(this).index()*w.params.slidesPerGroup;w.params.loop&&(e+=w.loopedSlides),w.slideTo(e)},w.updateClickedSlide=function(t){var e=r(t,"."+w.params.slideClass),n=!1;if(e)for(var i=0;i<w.slides.length;i++)w.slides[i]===e&&(n=!0);if(!e||!n)return w.clickedSlide=void 0,void(w.clickedIndex=void 0);if(w.clickedSlide=e,w.clickedIndex=L(e).index(),w.params.slideToClickedSlide&&void 0!==w.clickedIndex&&w.clickedIndex!==w.activeIndex){var o,a=w.clickedIndex;if(w.params.loop){if(w.animating)return;o=L(w.clickedSlide).attr("data-swiper-slide-index"),w.params.centeredSlides?a<w.loopedSlides-w.params.slidesPerView/2||a>w.slides.length-w.loopedSlides+w.params.slidesPerView/2?(w.fixLoop(),a=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+w.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){w.slideTo(a)},0)):w.slideTo(a):a>w.slides.length-w.params.slidesPerView?(w.fixLoop(),a=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+w.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){w.slideTo(a)},0)):w.slideTo(a)}else w.slideTo(a)}};var x,C,S,_,$,T,k,I,E,P,A,M,O="input, select, textarea, button, video",z=Date.now(),D=[];for(var j in w.animating=!1,w.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},w.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(A="touchstart"===t.type)||!("which"in t)||3!==t.which){if(w.params.noSwiping&&r(t,"."+w.params.noSwipingClass))return void(w.allowClick=!0);if(!w.params.swipeHandler||r(t,w.params.swipeHandler)){var e=w.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n=w.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(w.device.ios&&w.params.iOSEdgeSwipeDetection&&e<=w.params.iOSEdgeSwipeThreshold)){if(S=!(C=!(x=!0)),M=$=void 0,w.touches.startX=e,w.touches.startY=n,_=Date.now(),w.allowClick=!0,w.updateContainerSize(),w.swipeDirection=void 0,0<w.params.threshold&&(I=!1),"touchstart"!==t.type){var i=!0;L(t.target).is(O)&&(i=!1),document.activeElement&&L(document.activeElement).is(O)&&document.activeElement.blur(),i&&t.preventDefault()}w.emit("onTouchStart",w,t)}}}},w.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!A||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return w.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(w.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(w.params.onlyExternal)return w.allowClick=!1,void(x&&(w.touches.startX=w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.startY=w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,_=Date.now()));if(A&&w.params.touchReleaseOnEdges&&!w.params.loop)if(w.isHorizontal()){if(w.touches.currentX<w.touches.startX&&w.translate<=w.maxTranslate()||w.touches.currentX>w.touches.startX&&w.translate>=w.minTranslate())return}else if(w.touches.currentY<w.touches.startY&&w.translate<=w.maxTranslate()||w.touches.currentY>w.touches.startY&&w.translate>=w.minTranslate())return;if(A&&document.activeElement&&t.target===document.activeElement&&L(t.target).is(O))return C=!0,void(w.allowClick=!1);if(S&&w.emit("onTouchMove",w,t),!(t.targetTouches&&1<t.targetTouches.length)){var e;if(w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===$)w.isHorizontal()&&w.touches.currentY===w.touches.startY||!w.isHorizontal()&&w.touches.currentX!==w.touches.startX?$=!1:(e=180*Math.atan2(Math.abs(w.touches.currentY-w.touches.startY),Math.abs(w.touches.currentX-w.touches.startX))/Math.PI,$=w.isHorizontal()?e>w.params.touchAngle:90-e>w.params.touchAngle);if($&&w.emit("onTouchMoveOpposite",w,t),void 0===M&&w.browser.ieTouch&&(w.touches.currentX===w.touches.startX&&w.touches.currentY===w.touches.startY||(M=!0)),x){if($)return void(x=!1);if(M||!w.browser.ieTouch){w.allowClick=!1,w.emit("onSliderMove",w,t),t.preventDefault(),w.params.touchMoveStopPropagation&&!w.params.nested&&t.stopPropagation(),C||(l.loop&&w.fixLoop(),k=w.getWrapperTranslate(),w.setWrapperTransition(0),w.animating&&w.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),w.params.autoplay&&w.autoplaying&&(w.params.autoplayDisableOnInteraction?w.stopAutoplay():w.pauseAutoplay()),P=!1,!w.params.grabCursor||!0!==w.params.allowSwipeToNext&&!0!==w.params.allowSwipeToPrev||w.setGrabCursor(!0)),C=!0;var n=w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY;n*=w.params.touchRatio,w.rtl&&(n=-n),w.swipeDirection=0<n?"prev":"next",T=n+k;var i=!0;if(0<n&&T>w.minTranslate()?(i=!1,w.params.resistance&&(T=w.minTranslate()-1+Math.pow(-w.minTranslate()+k+n,w.params.resistanceRatio))):n<0&&T<w.maxTranslate()&&(i=!1,w.params.resistance&&(T=w.maxTranslate()+1-Math.pow(w.maxTranslate()-k-n,w.params.resistanceRatio))),i&&(t.preventedByNestedSwiper=!0),!w.params.allowSwipeToNext&&"next"===w.swipeDirection&&T<k&&(T=k),!w.params.allowSwipeToPrev&&"prev"===w.swipeDirection&&k<T&&(T=k),0<w.params.threshold){if(!(Math.abs(n)>w.params.threshold||I))return void(T=k);if(!I)return I=!0,w.touches.startX=w.touches.currentX,w.touches.startY=w.touches.currentY,T=k,void(w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY)}w.params.followFinger&&((w.params.freeMode||w.params.watchSlidesProgress)&&w.updateActiveIndex(),w.params.freeMode&&(0===D.length&&D.push({position:w.touches[w.isHorizontal()?"startX":"startY"],time:_}),D.push({position:w.touches[w.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),w.updateProgress(T),w.setWrapperTranslate(T))}}}}},w.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),S&&w.emit("onTouchEnd",w,t),S=!1,x){w.params.grabCursor&&C&&x&&(!0===w.params.allowSwipeToNext||!0===w.params.allowSwipeToPrev)&&w.setGrabCursor(!1);var e,n=Date.now(),i=n-_;if(w.allowClick&&(w.updateClickedSlide(t),w.emit("onTap",w,t),i<300&&300<n-z&&(E&&clearTimeout(E),E=setTimeout(function(){w&&(w.params.paginationHide&&0<w.paginationContainer.length&&!L(t.target).hasClass(w.params.bulletClass)&&w.paginationContainer.toggleClass(w.params.paginationHiddenClass),w.emit("onClick",w,t))},300)),i<300&&n-z<300&&(E&&clearTimeout(E),w.emit("onDoubleTap",w,t))),z=Date.now(),setTimeout(function(){w&&(w.allowClick=!0)},0),!x||!C||!w.swipeDirection||0===w.touches.diff||T===k)return void(x=C=!1);if(x=C=!1,e=w.params.followFinger?w.rtl?w.translate:-w.translate:-T,w.params.freeMode){if(e<-w.minTranslate())return void w.slideTo(w.activeIndex);if(e>-w.maxTranslate())return void(w.slides.length<w.snapGrid.length?w.slideTo(w.snapGrid.length-1):w.slideTo(w.slides.length-1));if(w.params.freeModeMomentum){if(1<D.length){var o=D.pop(),a=D.pop(),r=o.position-a.position,s=o.time-a.time;w.velocity=r/s,w.velocity=w.velocity/2,Math.abs(w.velocity)<w.params.freeModeMinimumVelocity&&(w.velocity=0),(150<s||300<(new window.Date).getTime()-o.time)&&(w.velocity=0)}else w.velocity=0;w.velocity=w.velocity*w.params.freeModeMomentumVelocityRatio,D.length=0;var l=1e3*w.params.freeModeMomentumRatio,c=w.velocity*l,u=w.translate+c;w.rtl&&(u=-u);var d,p=!1,h=20*Math.abs(w.velocity)*w.params.freeModeMomentumBounceRatio;if(u<w.maxTranslate())w.params.freeModeMomentumBounce?(u+w.maxTranslate()<-h&&(u=w.maxTranslate()-h),d=w.maxTranslate(),P=p=!0):u=w.maxTranslate();else if(u>w.minTranslate())w.params.freeModeMomentumBounce?(u-w.minTranslate()>h&&(u=w.minTranslate()+h),d=w.minTranslate(),P=p=!0):u=w.minTranslate();else if(w.params.freeModeSticky){var f,m=0;for(m=0;m<w.snapGrid.length;m+=1)if(w.snapGrid[m]>-u){f=m;break}u=Math.abs(w.snapGrid[f]-u)<Math.abs(w.snapGrid[f-1]-u)||"next"===w.swipeDirection?w.snapGrid[f]:w.snapGrid[f-1],w.rtl||(u=-u)}if(0!==w.velocity)l=w.rtl?Math.abs((-u-w.translate)/w.velocity):Math.abs((u-w.translate)/w.velocity);else if(w.params.freeModeSticky)return void w.slideReset();w.params.freeModeMomentumBounce&&p?(w.updateProgress(d),w.setWrapperTransition(l),w.setWrapperTranslate(u),w.onTransitionStart(),w.animating=!0,w.wrapper.transitionEnd(function(){w&&P&&(w.emit("onMomentumBounce",w),w.setWrapperTransition(w.params.speed),w.setWrapperTranslate(d),w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))})):w.velocity?(w.updateProgress(u),w.setWrapperTransition(l),w.setWrapperTranslate(u),w.onTransitionStart(),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))):w.updateProgress(u),w.updateActiveIndex()}return void((!w.params.freeModeMomentum||i>=w.params.longSwipesMs)&&(w.updateProgress(),w.updateActiveIndex()))}var g,v=0,y=w.slidesSizesGrid[0];for(g=0;g<w.slidesGrid.length;g+=w.params.slidesPerGroup)"undefined"!=typeof w.slidesGrid[g+w.params.slidesPerGroup]?e>=w.slidesGrid[g]&&e<w.slidesGrid[g+w.params.slidesPerGroup]&&(v=g,y=w.slidesGrid[g+w.params.slidesPerGroup]-w.slidesGrid[g]):e>=w.slidesGrid[g]&&(v=g,y=w.slidesGrid[w.slidesGrid.length-1]-w.slidesGrid[w.slidesGrid.length-2]);var b=(e-w.slidesGrid[v])/y;if(i>w.params.longSwipesMs){if(!w.params.longSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&(b>=w.params.longSwipesRatio?w.slideTo(v+w.params.slidesPerGroup):w.slideTo(v)),"prev"===w.swipeDirection&&(b>1-w.params.longSwipesRatio?w.slideTo(v+w.params.slidesPerGroup):w.slideTo(v))}else{if(!w.params.shortSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&w.slideTo(v+w.params.slidesPerGroup),"prev"===w.swipeDirection&&w.slideTo(v)}}},w._slideTo=function(t,e){return w.slideTo(t,e,!0,!0)},w.slideTo=function(t,e,n,i){void 0===n&&(n=!0),void 0===t&&(t=0),t<0&&(t=0),w.snapIndex=Math.floor(t/w.params.slidesPerGroup),w.snapIndex>=w.snapGrid.length&&(w.snapIndex=w.snapGrid.length-1);var o=-w.snapGrid[w.snapIndex];if(w.params.autoplay&&w.autoplaying&&(i||!w.params.autoplayDisableOnInteraction?w.pauseAutoplay(e):w.stopAutoplay()),w.updateProgress(o),w.params.normalizeSlideIndex)for(var a=0;a<w.slidesGrid.length;a++)-Math.floor(100*o)>=Math.floor(100*w.slidesGrid[a])&&(t=a);return!(!w.params.allowSwipeToNext&&o<w.translate&&o<w.minTranslate()||!w.params.allowSwipeToPrev&&o>w.translate&&o>w.maxTranslate()&&(w.activeIndex||0)!==t||(void 0===e&&(e=w.params.speed),w.previousIndex=w.activeIndex||0,w.activeIndex=t,w.updateRealIndex(),w.rtl&&-o===w.translate||!w.rtl&&o===w.translate?(w.params.autoHeight&&w.updateAutoHeight(),w.updateClasses(),"slide"!==w.params.effect&&w.setWrapperTranslate(o),1):(w.updateClasses(),w.onTransitionStart(n),0===e||w.browser.lteIE9?(w.setWrapperTranslate(o),w.setWrapperTransition(0),w.onTransitionEnd(n)):(w.setWrapperTranslate(o),w.setWrapperTransition(e),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd(n)}))),0)))},w.onTransitionStart=function(t){void 0===t&&(t=!0),w.params.autoHeight&&w.updateAutoHeight(),w.lazy&&w.lazy.onTransitionStart(),t&&(w.emit("onTransitionStart",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeStart",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextStart",w):w.emit("onSlidePrevStart",w)))},w.onTransitionEnd=function(t){w.animating=!1,w.setWrapperTransition(0),void 0===t&&(t=!0),w.lazy&&w.lazy.onTransitionEnd(),t&&(w.emit("onTransitionEnd",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeEnd",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextEnd",w):w.emit("onSlidePrevEnd",w))),w.params.history&&w.history&&w.history.setHistory(w.params.history,w.activeIndex),w.params.hashnav&&w.hashnav&&w.hashnav.setHash()},w.slideNext=function(t,e,n){return w.params.loop?!w.animating&&(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex+w.params.slidesPerGroup,e,t,n)):w.slideTo(w.activeIndex+w.params.slidesPerGroup,e,t,n)},w._slideNext=function(t){return w.slideNext(!0,t,!0)},w.slidePrev=function(t,e,n){return w.params.loop?!w.animating&&(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex-1,e,t,n)):w.slideTo(w.activeIndex-1,e,t,n)},w._slidePrev=function(t){return w.slidePrev(!0,t,!0)},w.slideReset=function(t,e){return w.slideTo(w.activeIndex,e,t)},w.disableTouchControl=function(){return w.params.onlyExternal=!0},w.enableTouchControl=function(){return!(w.params.onlyExternal=!1)},w.setWrapperTransition=function(t,e){w.wrapper.transition(t),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTransition(t),w.params.parallax&&w.parallax&&w.parallax.setTransition(t),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTransition(t),w.params.control&&w.controller&&w.controller.setTransition(t,e),w.emit("onSetTransition",w,t)},w.setWrapperTranslate=function(t,e,n){var i=0,o=0,a=0;w.isHorizontal()?i=w.rtl?-t:t:o=t,w.params.roundLengths&&(i=m(i),o=m(o)),w.params.virtualTranslate||(w.support.transforms3d?w.wrapper.transform("translate3d("+i+"px, "+o+"px, "+a+"px)"):w.wrapper.transform("translate("+i+"px, "+o+"px)")),w.translate=w.isHorizontal()?i:o;var r=w.maxTranslate()-w.minTranslate();(0===r?0:(t-w.minTranslate())/r)!==w.progress&&w.updateProgress(t),e&&w.updateActiveIndex(),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTranslate(w.translate),w.params.parallax&&w.parallax&&w.parallax.setTranslate(w.translate),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTranslate(w.translate),w.params.control&&w.controller&&w.controller.setTranslate(w.translate,n),w.emit("onSetTranslate",w,w.translate)},w.getTranslate=function(t,e){var n,i,o,a;return void 0===e&&(e="x"),w.params.virtualTranslate?w.rtl?-w.translate:w.translate:(o=window.getComputedStyle(t,null),window.WebKitCSSMatrix?(6<(i=o.transform||o.webkitTransform).split(",").length&&(i=i.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),a=new window.WebKitCSSMatrix("none"===i?"":i)):n=(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(i=window.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=window.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),w.rtl&&i&&(i=-i),i||0)},w.getWrapperTranslate=function(t){return void 0===t&&(t=w.isHorizontal()?"x":"y"),w.getTranslate(w.wrapper[0],t)},w.observers=[],w.initObservers=function(){if(w.params.observeParents)for(var t=w.container.parents(),e=0;e<t.length;e++)n(t[e]);n(w.container[0],{childList:!1}),n(w.wrapper[0],{attributes:!1})},w.disconnectObservers=function(){for(var t=0;t<w.observers.length;t++)w.observers[t].disconnect();w.observers=[]},w.createLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove();var i=w.wrapper.children("."+w.params.slideClass);"auto"!==w.params.slidesPerView||w.params.loopedSlides||(w.params.loopedSlides=i.length),w.loopedSlides=parseInt(w.params.loopedSlides||w.params.slidesPerView,10),w.loopedSlides=w.loopedSlides+w.params.loopAdditionalSlides,w.loopedSlides>i.length&&(w.loopedSlides=i.length);var t,o=[],a=[];for(i.each(function(t,e){var n=L(this);t<w.loopedSlides&&a.push(e),t<i.length&&t>=i.length-w.loopedSlides&&o.push(e),n.attr("data-swiper-slide-index",t)}),t=0;t<a.length;t++)w.wrapper.append(L(a[t].cloneNode(!0)).addClass(w.params.slideDuplicateClass));for(t=o.length-1;0<=t;t--)w.wrapper.prepend(L(o[t].cloneNode(!0)).addClass(w.params.slideDuplicateClass))},w.destroyLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove(),w.slides.removeAttr("data-swiper-slide-index")},w.reLoop=function(t){var e=w.activeIndex-w.loopedSlides;w.destroyLoop(),w.createLoop(),w.updateSlidesSize(),t&&w.slideTo(e+w.loopedSlides,0,!1)},w.fixLoop=function(){var t;w.activeIndex<w.loopedSlides?(t=w.slides.length-3*w.loopedSlides+w.activeIndex,t+=w.loopedSlides,w.slideTo(t,0,!1,!0)):("auto"===w.params.slidesPerView&&w.activeIndex>=2*w.loopedSlides||w.activeIndex>w.slides.length-2*w.params.slidesPerView)&&(t=-w.slides.length+w.activeIndex+w.loopedSlides,t+=w.loopedSlides,w.slideTo(t,0,!1,!0))},w.appendSlide=function(t){if(w.params.loop&&w.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&w.wrapper.append(t[e]);else w.wrapper.append(t);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0)},w.prependSlide=function(t){w.params.loop&&w.destroyLoop();var e=w.activeIndex+1;if("object"==typeof t&&t.length){for(var n=0;n<t.length;n++)t[n]&&w.wrapper.prepend(t[n]);e=w.activeIndex+t.length}else w.wrapper.prepend(t);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.slideTo(e,0,!1)},w.removeSlide=function(t){w.params.loop&&(w.destroyLoop(),w.slides=w.wrapper.children("."+w.params.slideClass));var e,n=w.activeIndex;if("object"==typeof t&&t.length){for(var i=0;i<t.length;i++)e=t[i],w.slides[e]&&w.slides.eq(e).remove(),e<n&&n--;n=Math.max(n,0)}else e=t,w.slides[e]&&w.slides.eq(e).remove(),e<n&&n--,n=Math.max(n,0);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.params.loop?w.slideTo(n+w.loopedSlides,0,!1):w.slideTo(n,0,!1)},w.removeAllSlides=function(){for(var t=[],e=0;e<w.slides.length;e++)t.push(e);w.removeSlide(t)},w.effects={fade:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var e=w.slides.eq(t),n=-e[0].swiperSlideOffset;w.params.virtualTranslate||(n-=w.translate);var i=0;w.isHorizontal()||(i=n,n=0);var o=w.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:o}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(t){if(w.slides.transition(t),w.params.virtualTranslate&&0!==t){var n=!1;w.slides.transitionEnd(function(){if(!n&&w){n=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=0;e<t.length;e++)w.wrapper.trigger(t[e])}})}}},flip:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var e=w.slides.eq(t),n=e[0].progress;w.params.flip.limitRotation&&(n=Math.max(Math.min(e[0].progress,1),-1));var i=-180*n,o=0,a=-e[0].swiperSlideOffset,r=0;if(w.isHorizontal()?w.rtl&&(i=-i):(r=a,o=-i,i=a=0),e[0].style.zIndex=-Math.abs(Math.round(n))+w.slides.length,w.params.flip.slideShadows){var s=w.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),l=w.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===s.length&&(s=L('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),e.append(s)),0===l.length&&(l=L('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),e.append(l)),s.length&&(s[0].style.opacity=Math.max(-n,0)),l.length&&(l[0].style.opacity=Math.max(n,0))}e.transform("translate3d("+a+"px, "+r+"px, 0px) rotateX("+o+"deg) rotateY("+i+"deg)")}},setTransition:function(t){if(w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.virtualTranslate&&0!==t){var n=!1;w.slides.eq(w.activeIndex).transitionEnd(function(){if(!n&&w&&L(this).hasClass(w.params.slideActiveClass)){n=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=0;e<t.length;e++)w.wrapper.trigger(t[e])}})}}},cube:{setTranslate:function(){var t,e=0;w.params.cube.shadow&&(w.isHorizontal()?(0===(t=w.wrapper.find(".swiper-cube-shadow")).length&&(t=L('<div class="swiper-cube-shadow"></div>'),w.wrapper.append(t)),t.css({height:w.width+"px"})):0===(t=w.container.find(".swiper-cube-shadow")).length&&(t=L('<div class="swiper-cube-shadow"></div>'),w.container.append(t)));for(var n=0;n<w.slides.length;n++){var i=w.slides.eq(n),o=90*n,a=Math.floor(o/360);w.rtl&&(o=-o,a=Math.floor(-o/360));var r=Math.max(Math.min(i[0].progress,1),-1),s=0,l=0,c=0;n%4==0?(s=4*-a*w.size,c=0):(n-1)%4==0?(s=0,c=4*-a*w.size):(n-2)%4==0?(s=w.size+4*a*w.size,c=w.size):(n-3)%4==0&&(s=-w.size,c=3*w.size+4*w.size*a),w.rtl&&(s=-s),w.isHorizontal()||(l=s,s=0);var u="rotateX("+(w.isHorizontal()?0:-o)+"deg) rotateY("+(w.isHorizontal()?o:0)+"deg) translate3d("+s+"px, "+l+"px, "+c+"px)";if(r<=1&&-1<r&&(e=90*n+90*r,w.rtl&&(e=90*-n-90*r)),i.transform(u),w.params.cube.slideShadows){var d=w.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),p=w.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===d.length&&(d=L('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),i.append(d)),0===p.length&&(p=L('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),i.append(p)),d.length&&(d[0].style.opacity=Math.max(-r,0)),p.length&&(p[0].style.opacity=Math.max(r,0))}}if(w.wrapper.css({"-webkit-transform-origin":"50% 50% -"+w.size/2+"px","-moz-transform-origin":"50% 50% -"+w.size/2+"px","-ms-transform-origin":"50% 50% -"+w.size/2+"px","transform-origin":"50% 50% -"+w.size/2+"px"}),w.params.cube.shadow)if(w.isHorizontal())t.transform("translate3d(0px, "+(w.width/2+w.params.cube.shadowOffset)+"px, "+-w.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+w.params.cube.shadowScale+")");else{var h=Math.abs(e)-90*Math.floor(Math.abs(e)/90),f=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),m=w.params.cube.shadowScale,g=w.params.cube.shadowScale/f,v=w.params.cube.shadowOffset;t.transform("scale3d("+m+", 1, "+g+") translate3d(0px, "+(w.height/2+v)+"px, "+-w.height/2/g+"px) rotateX(-90deg)")}var y=w.isSafari||w.isUiWebView?-w.size/2:0;w.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(w.isHorizontal()?0:e)+"deg) rotateY("+(w.isHorizontal()?-e:0)+"deg)")},setTransition:function(t){w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.cube.shadow&&!w.isHorizontal()&&w.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=w.translate,e=w.isHorizontal()?-t+w.width/2:-t+w.height/2,n=w.isHorizontal()?w.params.coverflow.rotate:-w.params.coverflow.rotate,i=w.params.coverflow.depth,o=0,a=w.slides.length;o<a;o++){var r=w.slides.eq(o),s=w.slidesSizesGrid[o],l=(e-r[0].swiperSlideOffset-s/2)/s*w.params.coverflow.modifier,c=w.isHorizontal()?n*l:0,u=w.isHorizontal()?0:n*l,d=-i*Math.abs(l),p=w.isHorizontal()?0:w.params.coverflow.stretch*l,h=w.isHorizontal()?w.params.coverflow.stretch*l:0;Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(c)<.001&&(c=0),Math.abs(u)<.001&&(u=0);var f="translate3d("+h+"px,"+p+"px,"+d+"px)  rotateX("+u+"deg) rotateY("+c+"deg)";if(r.transform(f),r[0].style.zIndex=1-Math.abs(Math.round(l)),w.params.coverflow.slideShadows){var m=w.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),g=w.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===m.length&&(m=L('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),r.append(m)),0===g.length&&(g=L('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),r.append(g)),m.length&&(m[0].style.opacity=0<l?l:0),g.length&&(g[0].style.opacity=0<-l?-l:0)}}w.browser.ie&&(w.wrapper[0].style.perspectiveOrigin=e+"px 50%")},setTransition:function(t){w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},w.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,l){if(void 0!==t&&(void 0===l&&(l=!0),0!==w.slides.length)){var c=w.slides.eq(t),e=c.find("."+w.params.lazyLoadingClass+":not(."+w.params.lazyStatusLoadedClass+"):not(."+w.params.lazyStatusLoadingClass+")");!c.hasClass(w.params.lazyLoadingClass)||c.hasClass(w.params.lazyStatusLoadedClass)||c.hasClass(w.params.lazyStatusLoadingClass)||(e=e.add(c[0])),0!==e.length&&e.each(function(){var i=L(this);i.addClass(w.params.lazyStatusLoadingClass);var o=i.attr("data-background"),a=i.attr("data-src"),r=i.attr("data-srcset"),s=i.attr("data-sizes");w.loadImage(i[0],a||o,r,s,!1,function(){if(o?(i.css("background-image",'url("'+o+'")'),i.removeAttr("data-background")):(r&&(i.attr("srcset",r),i.removeAttr("data-srcset")),s&&(i.attr("sizes",s),i.removeAttr("data-sizes")),a&&(i.attr("src",a),i.removeAttr("data-src"))),i.addClass(w.params.lazyStatusLoadedClass).removeClass(w.params.lazyStatusLoadingClass),c.find("."+w.params.lazyPreloaderClass+", ."+w.params.preloaderClass).remove(),w.params.loop&&l){var t=c.attr("data-swiper-slide-index");if(c.hasClass(w.params.slideDuplicateClass)){var e=w.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+w.params.slideDuplicateClass+")");w.lazy.loadImageInSlide(e.index(),!1)}else{var n=w.wrapper.children("."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');w.lazy.loadImageInSlide(n.index(),!1)}}w.emit("onLazyImageReady",w,c[0],i[0])}),w.emit("onLazyImageLoad",w,c[0],i[0])})}},load:function(){var t,e=w.params.slidesPerView;if("auto"===e&&(e=0),w.lazy.initialImageLoaded||(w.lazy.initialImageLoaded=!0),w.params.watchSlidesVisibility)w.wrapper.children("."+w.params.slideVisibleClass).each(function(){w.lazy.loadImageInSlide(L(this).index())});else if(1<e)for(t=w.activeIndex;t<w.activeIndex+e;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);else w.lazy.loadImageInSlide(w.activeIndex);if(w.params.lazyLoadingInPrevNext)if(1<e||w.params.lazyLoadingInPrevNextAmount&&1<w.params.lazyLoadingInPrevNextAmount){var n=w.params.lazyLoadingInPrevNextAmount,i=e,o=Math.min(w.activeIndex+i+Math.max(n,i),w.slides.length),a=Math.max(w.activeIndex-Math.max(i,n),0);for(t=w.activeIndex+e;t<o;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);for(t=a;t<w.activeIndex;t++)w.slides[t]&&w.lazy.loadImageInSlide(t)}else{var r=w.wrapper.children("."+w.params.slideNextClass);0<r.length&&w.lazy.loadImageInSlide(r.index());var s=w.wrapper.children("."+w.params.slidePrevClass);0<s.length&&w.lazy.loadImageInSlide(s.index())}},onTransitionStart:function(){w.params.lazyLoading&&(w.params.lazyLoadingOnTransitionStart||!w.params.lazyLoadingOnTransitionStart&&!w.lazy.initialImageLoaded)&&w.lazy.load()},onTransitionEnd:function(){w.params.lazyLoading&&!w.params.lazyLoadingOnTransitionStart&&w.lazy.load()}},w.scrollbar={isTouched:!1,setDragPosition:function(t){var e=w.scrollbar,n=(w.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-e.track.offset()[w.isHorizontal()?"left":"top"]-e.dragSize/2,i=-w.minTranslate()*e.moveDivider,o=-w.maxTranslate()*e.moveDivider;n<i?n=i:o<n&&(n=o),n=-n/e.moveDivider,w.updateProgress(n),w.setWrapperTranslate(n,!0)},dragStart:function(t){var e=w.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),w.params.scrollbarHide&&e.track.css("opacity",1),w.wrapper.transition(100),e.drag.transition(100),w.emit("onScrollbarDragStart",w)},dragMove:function(t){var e=w.scrollbar;e.isTouched&&(
t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),w.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),w.emit("onScrollbarDragMove",w))},dragEnd:function(){var t=w.scrollbar;t.isTouched&&(t.isTouched=!1,w.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),w.emit("onScrollbarDragEnd",w),w.params.scrollbarSnapOnRelease&&w.slideReset())},draggableEvents:!1!==w.params.simulateTouch||w.support.touch?w.touchEvents:w.touchEventsDesktop,enableDraggable:function(){var t=w.scrollbar,e=w.support.touch?t.track:document;L(t.track).on(t.draggableEvents.start,t.dragStart),L(e).on(t.draggableEvents.move,t.dragMove),L(e).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=w.scrollbar,e=w.support.touch?t.track:document;L(t.track).off(w.draggableEvents.start,t.dragStart),L(e).off(w.draggableEvents.move,t.dragMove),L(e).off(w.draggableEvents.end,t.dragEnd)},set:function(){if(w.params.scrollbar){var t=w.scrollbar;t.track=L(w.params.scrollbar),w.params.uniqueNavElements&&"string"==typeof w.params.scrollbar&&1<t.track.length&&1===w.container.find(w.params.scrollbar).length&&(t.track=w.container.find(w.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=L('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=w.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=w.size/w.virtualSize,t.moveDivider=t.divider*(t.trackSize/w.size),t.dragSize=t.trackSize*t.divider,w.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",1<=t.divider?t.track[0].style.display="none":t.track[0].style.display="",w.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(w.params.scrollbar){var t,e=w.scrollbar,n=(w.translate,e.dragSize);t=(e.trackSize-e.dragSize)*w.progress,w.rtl&&w.isHorizontal()?0<(t=-t)?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t):t<0?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),w.isHorizontal()?(w.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(w.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=n+"px"),w.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){w.params.scrollbar&&w.scrollbar.drag.transition(t)}},w.controller={LinearSpline:function(t,e){var n,i;this.x=t,this.y=e,this.lastIndex=t.length-1,this.x.length,this.interpolate=function(t){return t?(i=s(this.x,t),n=i-1,(t-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var o,a,r,s=function(t,e){for(a=-1,o=t.length;1<o-a;)t[r=o+a>>1]<=e?a=r:o=r;return o}},getInterpolateFunction:function(t){w.controller.spline||(w.controller.spline=w.params.loop?new w.controller.LinearSpline(w.slidesGrid,t.slidesGrid):new w.controller.LinearSpline(w.snapGrid,t.snapGrid))},setTranslate:function(e,t){function n(t){e=t.rtl&&"horizontal"===t.params.direction?-w.translate:w.translate,"slide"===w.params.controlBy&&(w.controller.getInterpolateFunction(t),o=-w.controller.spline.interpolate(-e)),o&&"container"!==w.params.controlBy||(i=(t.maxTranslate()-t.minTranslate())/(w.maxTranslate()-w.minTranslate()),o=(e-w.minTranslate())*i+t.minTranslate()),w.params.controlInverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setWrapperTranslate(o,!1,w),t.updateActiveIndex()}var i,o,a=w.params.control;if(w.isArray(a))for(var r=0;r<a.length;r++)a[r]!==t&&a[r]instanceof F&&n(a[r]);else a instanceof F&&t!==a&&n(a)},setTransition:function(e,t){function n(t){t.setWrapperTransition(e,w),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){o&&(t.params.loop&&"slide"===w.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var i,o=w.params.control;if(w.isArray(o))for(i=0;i<o.length;i++)o[i]!==t&&o[i]instanceof F&&n(o[i]);else o instanceof F&&t!==o&&n(o)}},w.hashnav={onHashCange:function(){var t=document.location.hash.replace("#","");t!==w.slides.eq(w.activeIndex).attr("data-hash")&&w.slideTo(w.wrapper.children("."+w.params.slideClass+'[data-hash="'+t+'"]').index())},attachEvents:function(t){var e=t?"off":"on";L(window)[e]("hashchange",w.hashnav.onHashCange)},setHash:function(){if(w.hashnav.initialized&&w.params.hashnav)if(w.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+w.slides.eq(w.activeIndex).attr("data-hash")||"");else{var t=w.slides.eq(w.activeIndex),e=t.attr("data-hash")||t.attr("data-history");document.location.hash=e||""}},init:function(){if(w.params.hashnav&&!w.params.history){w.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t){for(var e=0,n=0,i=w.slides.length;n<i;n++){var o=w.slides.eq(n);if((o.attr("data-hash")||o.attr("data-history"))===t&&!o.hasClass(w.params.slideDuplicateClass)){var a=o.index();w.slideTo(a,e,w.params.runCallbacksOnInit,!0)}}w.params.hashnavWatchState&&w.hashnav.attachEvents()}}},destroy:function(){w.params.hashnavWatchState&&w.hashnav.attachEvents(!0)}},w.history={init:function(){if(w.params.history){if(!window.history||!window.history.pushState)return w.params.history=!1,void(w.params.hashnav=!0);w.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,w.params.runCallbacksOnInit),w.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){w.history.paths=w.history.getPathValues(),w.history.scrollToSlide(w.params.speed,w.history.paths.value,!1)},getPathValues:function(){var t=window.location.pathname.slice(1).split("/"),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory:function(t,e){if(w.history.initialized&&w.params.history){var n=w.slides.eq(e),i=this.slugify(n.attr("data-history"));window.location.pathname.includes(t)||(i=t+"/"+i),w.params.replaceState?window.history.replaceState(null,null,i):window.history.pushState(null,null,i)}},slugify:function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,n){if(e)for(var i=0,o=w.slides.length;i<o;i++){var a=w.slides.eq(i);if(this.slugify(a.attr("data-history"))===e&&!a.hasClass(w.params.slideDuplicateClass)){var r=a.index();w.slideTo(r,t,n)}}else w.slideTo(0,t,n)}},w.disableKeyboardControl=function(){w.params.keyboardControl=!1,L(document).off("keydown",i)},w.enableKeyboardControl=function(){w.params.keyboardControl=!0,L(document).on("keydown",i)},w.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},w.params.mousewheelControl&&(w.mousewheel.event=-1<navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":o()?"wheel":"mousewheel"),w.disableMousewheelControl=function(){if(!w.mousewheel.event)return!1;var t=w.container;return"container"!==w.params.mousewheelEventsTarged&&(t=L(w.params.mousewheelEventsTarged)),t.off(w.mousewheel.event,a),!0},w.enableMousewheelControl=function(){if(!w.mousewheel.event)return!1;var t=w.container;return"container"!==w.params.mousewheelEventsTarged&&(t=L(w.params.mousewheelEventsTarged)),t.on(w.mousewheel.event,a),!0},w.parallax={setTranslate:function(){w.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,w.progress)}),w.slides.each(function(){var t=L(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(n){void 0===n&&(n=w.params.speed),w.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=L(this),e=parseInt(t.attr("data-swiper-parallax-duration"),10)||n;0===n&&(e=0),t.transition(e)})}},w.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:w.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY,i=t.targetTouches[1].pageX,o=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-e,2)+Math.pow(o-n,2))},onGestureStart:function(t){var e=w.zoom;if(!w.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;e.gesture.scaleStart=e.getDistanceBetweenTouches(t)}return e.gesture.slide&&e.gesture.slide.length||(e.gesture.slide=L(this),0===e.gesture.slide.length&&(e.gesture.slide=w.slides.eq(w.activeIndex)),e.gesture.image=e.gesture.slide.find("img, svg, canvas"),e.gesture.imageWrap=e.gesture.image.parent("."+w.params.zoomContainerClass),e.gesture.zoomMax=e.gesture.imageWrap.attr("data-swiper-zoom")||w.params.zoomMax,0!==e.gesture.imageWrap.length)?(e.gesture.image.transition(0),void(e.isScaling=!0)):void(e.gesture.image=void 0)},onGestureChange:function(t){var e=w.zoom;if(!w.support.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;e.gesture.scaleMove=e.getDistanceBetweenTouches(t)}e.gesture.image&&0!==e.gesture.image.length&&(w.support.gestures?e.scale=t.scale*e.currentScale:e.scale=e.gesture.scaleMove/e.gesture.scaleStart*e.currentScale,e.scale>e.gesture.zoomMax&&(e.scale=e.gesture.zoomMax-1+Math.pow(e.scale-e.gesture.zoomMax+1,.5)),e.scale<w.params.zoomMin&&(e.scale=w.params.zoomMin+1-Math.pow(w.params.zoomMin-e.scale+1,.5)),e.gesture.image.transform("translate3d(0,0,0) scale("+e.scale+")"))},onGestureEnd:function(t){var e=w.zoom;!w.support.gestures&&("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2)||e.gesture.image&&0!==e.gesture.image.length&&(e.scale=Math.max(Math.min(e.scale,e.gesture.zoomMax),w.params.zoomMin),e.gesture.image.transition(w.params.speed).transform("translate3d(0,0,0) scale("+e.scale+")"),e.currentScale=e.scale,e.isScaling=!1,1===e.scale&&(e.gesture.slide=void 0))},onTouchStart:function(t,e){var n=t.zoom;n.gesture.image&&0!==n.gesture.image.length&&(n.image.isTouched||("android"===t.device.os&&e.preventDefault(),n.image.isTouched=!0,n.image.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n.image.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(t){var e=w.zoom;if(e.gesture.image&&0!==e.gesture.image.length&&(w.allowClick=!1,e.image.isTouched&&e.gesture.slide)){e.image.isMoved||(e.image.width=e.gesture.image[0].offsetWidth,e.image.height=e.gesture.image[0].offsetHeight,e.image.startX=w.getTranslate(e.gesture.imageWrap[0],"x")||0,e.image.startY=w.getTranslate(e.gesture.imageWrap[0],"y")||0,e.gesture.slideWidth=e.gesture.slide[0].offsetWidth,e.gesture.slideHeight=e.gesture.slide[0].offsetHeight,e.gesture.imageWrap.transition(0));var n=e.image.width*e.scale,i=e.image.height*e.scale;if(!(n<e.gesture.slideWidth&&i<e.gesture.slideHeight)){if(e.image.minX=Math.min(e.gesture.slideWidth/2-n/2,0),e.image.maxX=-e.image.minX,e.image.minY=Math.min(e.gesture.slideHeight/2-i/2,0),e.image.maxY=-e.image.minY,e.image.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,e.image.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!e.image.isMoved&&!e.isScaling){if(w.isHorizontal()&&Math.floor(e.image.minX)===Math.floor(e.image.startX)&&e.image.touchesCurrent.x<e.image.touchesStart.x||Math.floor(e.image.maxX)===Math.floor(e.image.startX)&&e.image.touchesCurrent.x>e.image.touchesStart.x)return void(e.image.isTouched=!1);if(!w.isHorizontal()&&Math.floor(e.image.minY)===Math.floor(e.image.startY)&&e.image.touchesCurrent.y<e.image.touchesStart.y||Math.floor(e.image.maxY)===Math.floor(e.image.startY)&&e.image.touchesCurrent.y>e.image.touchesStart.y)return void(e.image.isTouched=!1)}t.preventDefault(),t.stopPropagation(),e.image.isMoved=!0,e.image.currentX=e.image.touchesCurrent.x-e.image.touchesStart.x+e.image.startX,e.image.currentY=e.image.touchesCurrent.y-e.image.touchesStart.y+e.image.startY,e.image.currentX<e.image.minX&&(e.image.currentX=e.image.minX+1-Math.pow(e.image.minX-e.image.currentX+1,.8)),e.image.currentX>e.image.maxX&&(e.image.currentX=e.image.maxX-1+Math.pow(e.image.currentX-e.image.maxX+1,.8)),e.image.currentY<e.image.minY&&(e.image.currentY=e.image.minY+1-Math.pow(e.image.minY-e.image.currentY+1,.8)),e.image.currentY>e.image.maxY&&(e.image.currentY=e.image.maxY-1+Math.pow(e.image.currentY-e.image.maxY+1,.8)),e.velocity.prevPositionX||(e.velocity.prevPositionX=e.image.touchesCurrent.x),e.velocity.prevPositionY||(e.velocity.prevPositionY=e.image.touchesCurrent.y),e.velocity.prevTime||(e.velocity.prevTime=Date.now()),e.velocity.x=(e.image.touchesCurrent.x-e.velocity.prevPositionX)/(Date.now()-e.velocity.prevTime)/2,e.velocity.y=(e.image.touchesCurrent.y-e.velocity.prevPositionY)/(Date.now()-e.velocity.prevTime)/2,Math.abs(e.image.touchesCurrent.x-e.velocity.prevPositionX)<2&&(e.velocity.x=0),Math.abs(e.image.touchesCurrent.y-e.velocity.prevPositionY)<2&&(e.velocity.y=0),e.velocity.prevPositionX=e.image.touchesCurrent.x,e.velocity.prevPositionY=e.image.touchesCurrent.y,e.velocity.prevTime=Date.now(),e.gesture.imageWrap.transform("translate3d("+e.image.currentX+"px, "+e.image.currentY+"px,0)")}}},onTouchEnd:function(t){var e=t.zoom;if(e.gesture.image&&0!==e.gesture.image.length){if(!e.image.isTouched||!e.image.isMoved)return e.image.isTouched=!1,void(e.image.isMoved=!1);e.image.isTouched=!1,e.image.isMoved=!1;var n=300,i=300,o=e.velocity.x*n,a=e.image.currentX+o,r=e.velocity.y*i,s=e.image.currentY+r;0!==e.velocity.x&&(n=Math.abs((a-e.image.currentX)/e.velocity.x)),0!==e.velocity.y&&(i=Math.abs((s-e.image.currentY)/e.velocity.y));var l=Math.max(n,i);e.image.currentX=a,e.image.currentY=s;var c=e.image.width*e.scale,u=e.image.height*e.scale;e.image.minX=Math.min(e.gesture.slideWidth/2-c/2,0),e.image.maxX=-e.image.minX,e.image.minY=Math.min(e.gesture.slideHeight/2-u/2,0),e.image.maxY=-e.image.minY,e.image.currentX=Math.max(Math.min(e.image.currentX,e.image.maxX),e.image.minX),e.image.currentY=Math.max(Math.min(e.image.currentY,e.image.maxY),e.image.minY),e.gesture.imageWrap.transition(l).transform("translate3d("+e.image.currentX+"px, "+e.image.currentY+"px,0)")}},onTransitionEnd:function(t){var e=t.zoom;e.gesture.slide&&t.previousIndex!==t.activeIndex&&(e.gesture.image.transform("translate3d(0,0,0) scale(1)"),e.gesture.imageWrap.transform("translate3d(0,0,0)"),e.gesture.slide=e.gesture.image=e.gesture.imageWrap=void 0,e.scale=e.currentScale=1)},toggleZoom:function(t,e){var n,i,o,a,r,s,l,c,u,d,p,h,f,m,g,v,y=t.zoom;(y.gesture.slide||(y.gesture.slide=t.clickedSlide?L(t.clickedSlide):t.slides.eq(t.activeIndex),y.gesture.image=y.gesture.slide.find("img, svg, canvas"),y.gesture.imageWrap=y.gesture.image.parent("."+t.params.zoomContainerClass)),y.gesture.image&&0!==y.gesture.image.length)&&("undefined"==typeof y.image.touchesStart.x&&e?(n="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,i="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(n=y.image.touchesStart.x,i=y.image.touchesStart.y),y.scale&&1!==y.scale?(y.scale=y.currentScale=1,y.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),y.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),y.gesture.slide=void 0):(y.scale=y.currentScale=y.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,e?(g=y.gesture.slide[0].offsetWidth,v=y.gesture.slide[0].offsetHeight,o=y.gesture.slide.offset().left+g/2-n,a=y.gesture.slide.offset().top+v/2-i,l=y.gesture.image[0].offsetWidth,c=y.gesture.image[0].offsetHeight,u=l*y.scale,d=c*y.scale,f=-(p=Math.min(g/2-u/2,0)),m=-(h=Math.min(v/2-d/2,0)),(r=o*y.scale)<p&&(r=p),f<r&&(r=f),(s=a*y.scale)<h&&(s=h),m<s&&(s=m)):s=r=0,y.gesture.imageWrap.transition(300).transform("translate3d("+r+"px, "+s+"px,0)"),y.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")")))},attachEvents:function(t){var n=t?"off":"on";if(w.params.zoom){var e=(w.slides,!("touchstart"!==w.touchEvents.start||!w.support.passiveListener||!w.params.passiveListeners)&&{passive:!0,capture:!1});w.support.gestures?(w.slides[n]("gesturestart",w.zoom.onGestureStart,e),w.slides[n]("gesturechange",w.zoom.onGestureChange,e),w.slides[n]("gestureend",w.zoom.onGestureEnd,e)):"touchstart"===w.touchEvents.start&&(w.slides[n](w.touchEvents.start,w.zoom.onGestureStart,e),w.slides[n](w.touchEvents.move,w.zoom.onGestureChange,e),w.slides[n](w.touchEvents.end,w.zoom.onGestureEnd,e)),w[n]("touchStart",w.zoom.onTouchStart),w.slides.each(function(t,e){0<L(e).find("."+w.params.zoomContainerClass).length&&L(e)[n](w.touchEvents.move,w.zoom.onTouchMove)}),w[n]("touchEnd",w.zoom.onTouchEnd),w[n]("transitionEnd",w.zoom.onTransitionEnd),w.params.zoomToggle&&w.on("doubleTap",w.zoom.toggleZoom)}},init:function(){w.zoom.attachEvents()},destroy:function(){w.zoom.attachEvents(!0)}},w._plugins=[],w.plugins){var N=w.plugins[j](w,w.params[j]);N&&w._plugins.push(N)}return w.callPlugins=function(t,e,n,i,o,a){for(var r=0;r<w._plugins.length;r++)t in w._plugins[r]&&w._plugins[r][t](e,n,i,o,a)},w.emitterEventListeners={},w.emit=function(t,e,n,i,o,a){var r;if(w.params[t]&&w.params[t](e,n,i,o,a),w.emitterEventListeners[t])for(r=0;r<w.emitterEventListeners[t].length;r++)w.emitterEventListeners[t][r](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);w.callPlugins&&w.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.on=function(t,e){return t=u(t),w.emitterEventListeners[t]||(w.emitterEventListeners[t]=[]),w.emitterEventListeners[t].push(e),w},w.off=function(t,e){var n;if(t=u(t),void 0===e)return w.emitterEventListeners[t]=[],w;if(w.emitterEventListeners[t]&&0!==w.emitterEventListeners[t].length){for(n=0;n<w.emitterEventListeners[t].length;n++)w.emitterEventListeners[t][n]===e&&w.emitterEventListeners[t].splice(n,1);return w}},w.once=function(a,r){a=u(a);var s=function(t,e,n,i,o){r(t,e,n,i,o),w.off(a,s)};return w.on(a,s),w},w.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(L(t.target).is(w.params.nextButton)?(w.onClickNext(t),w.isEnd?w.a11y.notify(w.params.lastSlideMessage):w.a11y.notify(w.params.nextSlideMessage)):L(t.target).is(w.params.prevButton)&&(w.onClickPrev(t),w.isBeginning?w.a11y.notify(w.params.firstSlideMessage):w.a11y.notify(w.params.prevSlideMessage)),L(t.target).is("."+w.params.bulletClass)&&L(t.target)[0].click())},liveRegion:L('<span class="'+w.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=w.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){w.params.nextButton&&w.nextButton&&0<w.nextButton.length&&(w.a11y.makeFocusable(w.nextButton),w.a11y.addRole(w.nextButton,"button"),w.a11y.addLabel(w.nextButton,w.params.nextSlideMessage)),w.params.prevButton&&w.prevButton&&0<w.prevButton.length&&(w.a11y.makeFocusable(w.prevButton),w.a11y.addRole(w.prevButton,"button"),w.a11y.addLabel(w.prevButton,w.params.prevSlideMessage)),L(w.container).append(w.a11y.liveRegion)},initPagination:function(){w.params.pagination&&w.params.paginationClickable&&w.bullets&&w.bullets.length&&w.bullets.each(function(){var t=L(this);w.a11y.makeFocusable(t),w.a11y.addRole(t,"button"),w.a11y.addLabel(t,w.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){w.a11y.liveRegion&&0<w.a11y.liveRegion.length&&w.a11y.liveRegion.remove()}},w.init=function(){w.params.loop&&w.createLoop(),w.updateContainerSize(),w.updateSlidesSize(),w.updatePagination(),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.set(),w.params.scrollbarDraggable&&w.scrollbar.enableDraggable()),"slide"!==w.params.effect&&w.effects[w.params.effect]&&(w.params.loop||w.updateProgress(),w.effects[w.params.effect].setTranslate()),w.params.loop?w.slideTo(w.params.initialSlide+w.loopedSlides,0,w.params.runCallbacksOnInit):(w.slideTo(w.params.initialSlide,0,w.params.runCallbacksOnInit),0===w.params.initialSlide&&(w.parallax&&w.params.parallax&&w.parallax.setTranslate(),w.lazy&&w.params.lazyLoading&&(w.lazy.load(),w.lazy.initialImageLoaded=!0))),w.attachEvents(),w.params.observer&&w.support.observer&&w.initObservers(),w.params.preloadImages&&!w.params.lazyLoading&&w.preloadImages(),w.params.zoom&&w.zoom&&w.zoom.init(),w.params.autoplay&&w.startAutoplay(),w.params.keyboardControl&&w.enableKeyboardControl&&w.enableKeyboardControl(),w.params.mousewheelControl&&w.enableMousewheelControl&&w.enableMousewheelControl(),w.params.hashnavReplaceState&&(w.params.replaceState=w.params.hashnavReplaceState),w.params.history&&w.history&&w.history.init(),w.params.hashnav&&w.hashnav&&w.hashnav.init(),w.params.a11y&&w.a11y&&w.a11y.init(),w.emit("onInit",w)},w.cleanupStyles=function(){w.container.removeClass(w.classNames.join(" ")).removeAttr("style"),w.wrapper.removeAttr("style"),w.slides&&w.slides.length&&w.slides.removeClass([w.params.slideVisibleClass,w.params.slideActiveClass,w.params.slideNextClass,w.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),w.paginationContainer&&w.paginationContainer.length&&w.paginationContainer.removeClass(w.params.paginationHiddenClass),w.bullets&&w.bullets.length&&w.bullets.removeClass(w.params.bulletActiveClass),w.params.prevButton&&L(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.nextButton&&L(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.track&&w.scrollbar.track.length&&w.scrollbar.track.removeAttr("style"),w.scrollbar.drag&&w.scrollbar.drag.length&&w.scrollbar.drag.removeAttr("style"))},w.destroy=function(t,e){w.detachEvents(),w.stopAutoplay(),w.params.scrollbar&&w.scrollbar&&w.params.scrollbarDraggable&&w.scrollbar.disableDraggable(),w.params.loop&&w.destroyLoop(),e&&w.cleanupStyles(),w.disconnectObservers(),w.params.zoom&&w.zoom&&w.zoom.destroy(),w.params.keyboardControl&&w.disableKeyboardControl&&w.disableKeyboardControl(),w.params.mousewheelControl&&w.disableMousewheelControl&&w.disableMousewheelControl(),w.params.a11y&&w.a11y&&w.a11y.destroy(),w.params.history&&!w.params.replaceState&&window.removeEventListener("popstate",w.history.setHistoryPopState),w.params.hashnav&&w.hashnav&&w.hashnav.destroy(),w.emit("onDestroy"),!1!==t&&(w=null)},w.init(),w}};F.prototype={isSafari:(l=navigator.userAgent.toLowerCase(),0<=l.indexOf("safari")&&l.indexOf("chrome")<0&&l.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&1<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&1<window.navigator.maxTouchPoints,lteIE9:(s=document.createElement("div"),s.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===s.getElementsByTagName("i").length)},device:(n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),o=n.match(/(iPad).*OS\s([\d_]+)/),a=n.match(/(iPod)(.*OS\s([\d_]+))?/),r=!o&&n.match(/(iPhone\sOS)\s([\d_]+)/),{ios:o||r||a,android:i}),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||(e=document.createElement("div").style,"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n++)if(e[n]in t)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveListener",null,e)}catch(t){}return t}(),gestures:"ongesturestart"in window},plugins:{}};for(var H=function(){var l=function(t){var e=this,n=0;for(n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,this},c=function(t,e){var n=[],i=0;if(t&&!e&&t instanceof l)return t;if(t)if("string"==typeof t){var o,a,r=t.trim();if(0<=r.indexOf("<")&&0<=r.indexOf(">")){var s="div";for(0===r.indexOf("<li")&&(s="ul"),0===r.indexOf("<tr")&&(s="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(s="tr"),0===r.indexOf("<tbody")&&(s="table"),0===r.indexOf("<option")&&(s="select"),(a=document.createElement(s)).innerHTML=t,i=0;i<a.childNodes.length;i++)n.push(a.childNodes[i])}else for(o=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],i=0;i<o.length;i++)o[i]&&n.push(o[i])}else if(t.nodeType||t===window||t===document)n.push(t);else if(0<t.length&&t[0].nodeType)for(i=0;i<t.length;i++)n.push(t[i]);return new l(n)};return l.prototype={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),n=0;n<e.length;n++)for(var i=0;i<this.length;i++)this[i].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var i=0;i<this.length;i++)this[i].classList.remove(e[n]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var i=0;i<this.length;i++)this[i].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,e);else for(var i in t)this[n][i]=t[i],this[n].setAttribute(i,t[i]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if(void 0!==e){for(var n=0;n<this.length;n++){var i=this[n];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[t]=e}return this}if(this[0]){var o=this[0].getAttribute("data-"+t);return o||(this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0)}},transform:function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},on:function(t,o,a,e){function n(t){var e=t.target;if(c(e).is(o))a.call(e,t);else for(var n=c(e).parents(),i=0;i<n.length;i++)c(n[i]).is(o)&&a.call(n[i],t)}var i,r,s=t.split(" ");for(i=0;i<this.length;i++)if("function"==typeof o||!1===o)for("function"==typeof o&&(a=arguments[1],e=arguments[2]||!1),r=0;r<s.length;r++)this[i].addEventListener(s[r],a,e);else for(r=0;r<s.length;r++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i].dom7LiveListeners.push({listener:a,liveListener:n}),this[i].addEventListener(s[r],n,e);return this},off:function(t,e,n,i){for(var o=t.split(" "),a=0;a<o.length;a++)for(var r=0;r<this.length;r++)if("function"==typeof e||!1===e)"function"==typeof e&&(n=arguments[1],i=arguments[2]||!1),this[r].removeEventListener(o[a],n,i);else if(this[r].dom7LiveListeners)for(var s=0;s<this[r].dom7LiveListeners.length;s++)this[r].dom7LiveListeners[s].listener===n&&this[r].removeEventListener(o[a],this[r].dom7LiveListeners[s].liveListener,i);return this},once:function(e,n,i,o){function a(t){i(t),r.off(e,n,a,o)}var r=this;"function"==typeof n&&(n=!1,i=arguments[1],o=arguments[2]),r.on(e,n,a,o)},trigger:function(t,e){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(n){(i=document.createEvent("Event")).initEvent(t,!0,!0),i.detail=e}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){function n(t){if(t.target===this)for(e.call(this,t),i=0;i<o.length;i++)a.off(o[i],n)}var i,o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(i=0;i<o.length;i++)a.on(o[i],n);return this},width:function(){return this[0]===window?window.innerWidth:0<this.length?parseFloat(this.css("width")):null},outerWidth:function(t){return 0<this.length?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:0<this.length?parseFloat(this.css("height")):null},outerHeight:function(t){return 0<this.length?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(0<this.length){var t=this[0],e=t.getBoundingClientRect(),n=document.body,i=t.clientTop||n.clientTop||0,o=t.clientLeft||n.clientLeft||0,a=window.pageYOffset||t.scrollTop,r=window.pageXOffset||t.scrollLeft;return{top:e.top+a-i,left:e.left+r-o}}return null},css:function(t,e){var n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n++)for(var i in t)this[n].style[i]=t[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2!==arguments.length||"string"!=typeof t)return this;for(n=0;n<this.length;n++)this[n].style[t]=e;return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e++)this[e].textContent=t;return this},is:function(t){if(!this[0])return!1;var e,n;if("string"==typeof t){var i=this[0];if(i===document)return t===document;if(i===window)return t===window;if(i.matches)return i.matches(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector)return i.mozMatchesSelector(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);for(e=c(t),n=0;n<e.length;n++)if(e[n]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof l){for(e=t.nodeType?[t]:t,n=0;n<e.length;n++)if(e[n]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}},eq:function(t){if(void 0===t)return this;var e,n=this.length;return n-1<t?new l([]):t<0?new l((e=n+t)<0?[]:[this[e]]):new l([this[t]])},append:function(t){var e,n;for(e=0;e<this.length;e++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)this[e].appendChild(i.firstChild)}else if(t instanceof l)for(n=0;n<t.length;n++)this[e].appendChild(t[n]);else this[e].appendChild(t);return this},prepend:function(t){var e,n;for(e=0;e<this.length;e++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;0<=n;n--)this[e].insertBefore(i.childNodes[n],this[e].childNodes[0])}else if(t instanceof l)for(n=0;n<t.length;n++)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},insertBefore:function(t){for(var e=c(t),n=0;n<this.length;n++)if(1===e.length)e[0].parentNode.insertBefore(this[n],e[0]);else if(1<e.length)for(var i=0;i<e.length;i++)e[i].parentNode.insertBefore(this[n].cloneNode(!0),e[i])},insertAfter:function(t){for(var e=c(t),n=0;n<this.length;n++)if(1===e.length)e[0].parentNode.insertBefore(this[n],e[0].nextSibling);else if(1<e.length)for(var i=0;i<e.length;i++)e[i].parentNode.insertBefore(this[n].cloneNode(!0),e[i].nextSibling)},next:function(t){return new l(0<this.length?t?this[0].nextElementSibling&&c(
this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var e=[],n=this[0];if(!n)return new l([]);for(;n.nextElementSibling;){var i=n.nextElementSibling;t?c(i).is(t)&&e.push(i):e.push(i),n=i}return new l(e)},prev:function(t){return new l(0<this.length?t?this[0].previousElementSibling&&c(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var e=[],n=this[0];if(!n)return new l([]);for(;n.previousElementSibling;){var i=n.previousElementSibling;t?c(i).is(t)&&e.push(i):e.push(i),n=i}return new l(e)},parent:function(t){for(var e=[],n=0;n<this.length;n++)t?c(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode);return c(c.unique(e))},parents:function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n].parentNode;i;)t?c(i).is(t)&&e.push(i):e.push(i),i=i.parentNode;return c(c.unique(e))},find:function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n].querySelectorAll(t),o=0;o<i.length;o++)e.push(i[o]);return new l(e)},children:function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n].childNodes,o=0;o<i.length;o++)t?1===i[o].nodeType&&c(i[o]).is(t)&&e.push(i[o]):1===i[o].nodeType&&e.push(i[o]);return new l(c.unique(e))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,e,n=this;for(t=0;t<arguments.length;t++){var i=c(arguments[t]);for(e=0;e<i.length;e++)n[n.length]=i[e],n.length++}return n}},c.fn=l.prototype,c.unique=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},c}(),u=["jQuery","Zepto","Dom7"],R=0;R<u.length;R++)window[u[R]]&&t(window[u[R]]);(c=void 0===H?window.Dom7||window.Zepto||window.jQuery:H)&&("transitionEnd"in c.fn||(c.fn.transitionEnd=function(e){function n(t){if(t.target===this)for(e.call(this,t),i=0;i<o.length;i++)a.off(o[i],n)}var i,o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(i=0;i<o.length;i++)a.on(o[i],n);return this}),"transform"in c.fn||(c.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this}),"transition"in c.fn||(c.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this}),"outerWidth"in c.fn||(c.fn.outerWidth=function(t){return 0<this.length?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=F}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(f){"use strict";var m="animsition",g={init:function(o){o=f.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}},o),g.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var t=g.supportCheck.call(this,o);return t||!(0<o.browser.length)||t&&this.length?(g.optionCheck.call(this,o)&&f("."+o.overlayClass).length<=0&&g.addOverlay.call(this,o),o.loading&&f("."+o.loadingClass).length<=0&&g.addLoading.call(this,o),this.each(function(){var i=this,t=f(this),e=f(window),n=f(document);t.data(m)||(o=f.extend({},o),t.data(m,{options:o}),o.timeout&&g.addTimer.call(i),o.onLoadEvent&&e.on("load."+m,function(){g.settings.timer&&clearTimeout(g.settings.timer),g["in"].call(i)}),e.on("pageshow."+m,function(t){t.originalEvent.persisted&&g["in"].call(i)}),e.on("unload."+m,function(){}),n.on("click."+m,o.linkElement,function(t){t.preventDefault();var e=f(this),n=e.attr("href");2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(n,"_blank"):g.out.call(i,e,n)}))})):("console"in window||(window.console={},window.console.log=function(t){return t}),this.length||console.log("Animsition: Element does not exist on page."),t||console.log("Animsition: Does not support this browser."),g.destroy.call(this))},addOverlay:function(t){f(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){f(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var t=f(this).data(m).options;f(t.loadingParentElement).children("."+t.loadingClass).fadeOut().remove()},addTimer:function(){var t=this,e=f(this).data(m).options;g.settings.timer=setTimeout(function(){g["in"].call(t),f(window).off("load."+m)},e.timeoutCountdown)},supportCheck:function(t){var e=f(this),n=t.browser,i=n.length,o=!1;0===i&&(o=!0);for(var a=0;a<i;a++)if("string"==typeof e.css(n[a])){o=!0;break}return o},optionCheck:function(t){var e=f(this);return!(!t.overlay&&!e.data(g.settings.data.overlay))},animationCheck:function(t,e,n){var i=f(this).data(m).options,o=typeof t,a=!e&&"number"===o,r=e&&"string"===o&&0<t.length;return a||r?t=t:e&&n?t=i.inClass:!e&&n?t=i.inDuration:e&&!n?t=i.outClass:e||n||(t=i.outDuration),t},"in":function(){var t=this,e=f(this),n=e.data(m).options,i=e.data(g.settings.data.inDuration),o=e.data(g.settings.data.inClass),a=g.animationCheck.call(t,i,!1,!0),r=g.animationCheck.call(t,o,!0,!0),s=g.optionCheck.call(t,n),l=e.data(m).outClass;n.loading&&g.removeLoading.call(t),l&&e.removeClass(l),s?g.inOverlay.call(t,r,a):g.inDefault.call(t,r,a)},inDefault:function(t,e){var n=f(this);n.css({"animation-duration":e+"ms"}).addClass(t).trigger(g.settings.events.inStart).animateCallback(function(){n.removeClass(t).css({opacity:1}).trigger(g.settings.events.inEnd)})},inOverlay:function(t,e){var n=f(this),i=n.data(m).options;n.css({opacity:1}).trigger(g.settings.events.inStart),f(i.overlayParentElement).children("."+i.overlayClass).css({"animation-duration":e+"ms"}).addClass(t).animateCallback(function(){n.trigger(g.settings.events.inEnd)})},out:function(t,e){var n=this,i=f(this),o=i.data(m).options,a=t.data(g.settings.data.outClass),r=i.data(g.settings.data.outClass),s=t.data(g.settings.data.outDuration),l=i.data(g.settings.data.outDuration),c=a||r,u=s||l,d=g.animationCheck.call(n,c,!0,!1),p=g.animationCheck.call(n,u,!1,!1),h=g.optionCheck.call(n,o);i.data(m).outClass=d,h?g.outOverlay.call(n,d,p,e):g.outDefault.call(n,d,p,e)},outDefault:function(t,e,n){var i=f(this),o=i.data(m).options;i.css({"animation-duration":e+1+"ms"}).addClass(t).trigger(g.settings.events.outStart).animateCallback(function(){i.trigger(g.settings.events.outEnd),o.transition(n)})},outOverlay:function(t,e,n){var i=this,o=f(this),a=o.data(m).options,r=o.data(g.settings.data.inClass),s=g.animationCheck.call(i,r,!0,!0);f(a.overlayParentElement).children("."+a.overlayClass).css({"animation-duration":e+1+"ms"}).removeClass(s).addClass(t).trigger(g.settings.events.outStart).animateCallback(function(){o.trigger(g.settings.events.outEnd),a.transition(n)})},destroy:function(){return this.each(function(){var t=f(this);f(window).off("."+m),t.css({opacity:1}).removeData(m)})}};f.fn.animateCallback=function(e){var n="animationend webkitAnimationEnd";return this.each(function(){var t=f(this);t.on(n,function(){return t.off(n),e.call(this)})})},f.fn.animsition=function(t){return g[t]?g[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void f.error("Method "+t+" does not exist on jQuery."+m):g.init.apply(this,arguments)}}),function(){function l(){A.keyboardSupport&&f("keydown",n)}function a(){if(!D&&document.body){D=!0;var t=document.body,e=document.documentElement,n=window.innerHeight,i=t.scrollHeight;if(j=0<=document.compatMode.indexOf("CSS")?e:t,_=t,l(),top!=self)O=!0;else if(n<i&&(t.offsetHeight<=n||e.offsetHeight<=n)){var o,a=document.createElement("div");a.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+j.scrollHeight+"px",document.body.appendChild(a),T=function(){o||(o=setTimeout(function(){M||(a.style.height="0",a.style.height=j.scrollHeight+"px",o=null)},500))},setTimeout(T,10),f("resize",T);var r={attributes:!0,childList:!0,characterData:!1};if(($=new U(T)).observe(t,r),j.offsetHeight<=n){var s=document.createElement("div");s.style.clear="both",t.appendChild(s)}}A.fixedBackground||M||(t.style.backgroundAttachment="scroll",e.style.backgroundAttachment="scroll")}}function t(){$&&$.disconnect(),o(V,e),o("mousedown",i),o("keydown",n),o("resize",T),o("load",a)}function u(u,d,p){if(g(d,p),1!=A.accelerationMax){var t=Date.now()-q;if(t<A.accelerationDelta){var e=(1+50/t)/2;1<e&&(e=Math.min(e,A.accelerationMax),d*=e,p*=e)}q=Date.now()}if(R.push({x:d,y:p,lastX:d<0?.99:-.99,lastY:p<0?.99:-.99,start:Date.now()}),!B){var h=u===document.body,f=function(){for(var t=Date.now(),e=0,n=0,i=0;i<R.length;i++){var o=R[i],a=t-o.start,r=a>=A.animationTime,s=r?1:a/A.animationTime;A.pulseAlgorithm&&(s=C(s));var l=o.x*s-o.lastX>>0,c=o.y*s-o.lastY>>0;e+=l,n+=c,o.lastX+=l,o.lastY+=c,r&&(R.splice(i,1),i--)}h?window.scrollBy(e,n):(e&&(u.scrollLeft+=e),n&&(u.scrollTop+=n)),d||p||(R=[]),R.length?G(f,u,1e3/A.frameRate+1):B=!1};G(f,u,0),B=!0}}function e(t){D||a();var e=t.target,n=p(e);if(!n||t.defaultPrevented||t.ctrlKey)return!0;if(m(_,"embed")||m(e,"embed")&&/\.pdf/i.test(e.src)||m(_,"object")||e.shadowRoot)return!0;var i=-t.wheelDeltaX||t.deltaX||0,o=-t.wheelDeltaY||t.deltaY||0;if(L&&(t.wheelDeltaX&&y(t.wheelDeltaX,120)&&(i=t.wheelDeltaX/Math.abs(t.wheelDeltaX)*-120),t.wheelDeltaY&&y(t.wheelDeltaY,120)&&(o=t.wheelDeltaY/Math.abs(t.wheelDeltaY)*-120)),i||o||(o=-t.wheelDelta||0),1===t.deltaMode&&(i*=40,o*=40),!A.touchpadSupport&&v(o))return!0;1.2<Math.abs(i)&&(i*=A.stepSize/120),1.2<Math.abs(o)&&(o*=A.stepSize/120),u(n,i,o),t.preventDefault(),d()}function n(t){var e=t.target,n=t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.keyCode!==F.spacebar;document.body.contains(_)||(_=document.activeElement);var i=/^(textarea|select|embed|object)$/i,o=/^(button|submit|radio|checkbox|file|color|image)$/i;if(t.defaultPrevented||i.test(e.nodeName)||m(e,"input")&&!o.test(e.type)||m(_,"video")||w(t)||e.isContentEditable||n)return!0;if((m(e,"button")||m(e,"input")&&o.test(e.type))&&t.keyCode===F.spacebar)return!0;if(m(e,"input")&&"radio"==e.type&&H[t.keyCode])return!0;var a=0,r=0,s=p(_),l=s.clientHeight;switch(s==document.body&&(l=window.innerHeight),t.keyCode){case F.up:r=-A.arrowScroll;break;case F.down:r=A.arrowScroll;break;case F.spacebar:r=-(t.shiftKey?1:-1)*l*.9;break;case F.pageup:r=.9*-l;break;case F.pagedown:r=.9*l;break;case F.home:r=-s.scrollTop;break;case F.end:var c=s.scrollHeight-s.scrollTop-l;r=0<c?c+10:0;break;case F.left:a=-A.arrowScroll;break;case F.right:a=A.arrowScroll;break;default:return!0}u(s,a,r),t.preventDefault(),d()}function i(t){_=t.target}function d(){clearTimeout(I),I=setInterval(function(){X={}},1e3)}function r(t,e){for(var n=t.length;n--;)X[W(t[n])]=e;return e}function p(t){var e=[],n=document.body,i=j.scrollHeight;do{var o=X[W(t)];if(o)return r(e,o);if(e.push(t),i===t.scrollHeight){var a=c(j)&&c(n)||h(j);if(O&&s(j)||!O&&a)return r(e,Q())}else if(s(t)&&h(t))return r(e,t)}while(t=t.parentElement)}function s(t){return t.clientHeight+10<t.scrollHeight}function c(t){return"hidden"!==getComputedStyle(t,"").getPropertyValue("overflow-y")}function h(t){var e=getComputedStyle(t,"").getPropertyValue("overflow-y");return"scroll"===e||"auto"===e}function f(t,e){window.addEventListener(t,e,!1)}function o(t,e){window.removeEventListener(t,e,!1)}function m(t,e){return(t.nodeName||"").toLowerCase()===e.toLowerCase()}function g(t,e){t=0<t?1:-1,e=0<e?1:-1,z.x===t&&z.y===e||(z.x=t,z.y=e,R=[],q=0)}function v(t){if(t)return N.length||(N=[t,t,t]),t=Math.abs(t),N.push(t),N.shift(),clearTimeout(E),E=setTimeout(function(){window.localStorage&&(localStorage.SS_deltaBuffer=N.join(","))},1e3),!b(120)&&!b(100)}function y(t,e){return Math.floor(t/e)==t/e}function b(t){return y(N[0],t)&&y(N[1],t)&&y(N[2],t)}function w(t){var e=t.target,n=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(n=e.classList&&e.classList.contains("html5-video-controls"))break}while(e=e.parentNode);return n}function x(t){var e,n;return(t*=A.pulseScale)<1?e=t-(1-Math.exp(-t)):(t-=1,e=(n=Math.exp(-1))+(1-Math.exp(-t))*(1-n)),e*A.pulseNormalize}function C(t){return 1<=t?1:t<=0?0:(1==A.pulseNormalize&&(A.pulseNormalize/=x(1)),x(t))}function S(t){for(var e in t)P.hasOwnProperty(e)&&(A[e]=t[e])}var _,$,T,k,I,E,P={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!1,fixedBackground:!0,excluded:""},A=P,M=!1,O=!1,z={x:0,y:0},D=!1,j=document.documentElement,N=[],L=/^Mac/.test(navigator.platform),F={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},H={37:1,38:1,39:1,40:1},R=[],B=!1,q=Date.now(),W=(k=0,function(t){return t.uniqueID||(t.uniqueID=k++)}),X={};window.localStorage&&localStorage.SS_deltaBuffer&&(N=localStorage.SS_deltaBuffer.split(","));var Y,V,G=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t,e,n){window.setTimeout(t,n||1e3/60)},U=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Q=function(){if(!Y){var t=document.createElement("div");t.style.cssText="height:10000px;width:1px;",document.body.appendChild(t);var e=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),Y=document.body.scrollTop!=e?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(t)}return Y},K=window.navigator.userAgent,Z=/Edge/.test(K),J=/chrome/i.test(K)&&!Z,tt=/safari/i.test(K)&&!Z,et=/mobile/i.test(K),nt=/Windows NT 6.1/i.test(K)&&/rv:11/i.test(K),it=(J||tt||nt)&&!et;"onwheel"in document.createElement("div")?V="wheel":"onmousewheel"in document.createElement("div")&&(V="mousewheel"),V&&it&&(f(V,e),f("mousedown",i),f("load",a)),S.destroy=t,window.SmoothScrollOptions&&S(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return S}):"object"==typeof exports?module.exports=S:window.SmoothScroll=S}(),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(s,l,c){var n={init:function(t,e){this.$elem=s(e),this.options=s.extend({},s.fn.owlCarousel.options,this.$elem.data(),t),this.userOptions=t,this.loadContent()},loadContent:function(){function t(t){var e,n="";if("function"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(n+=t.owl[e].item);i.$elem.html(n)}i.logIn()}var e,i=this;"function"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),"string"==typeof i.options.jsonPath?(e=i.options.jsonPath,s.getJSON(e,t)):i.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),this.onStartup()},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;l.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;if(!1!==t.$elem.is(":visible"))return!1;t.$elem.css({opacity:0}),l.clearInterval(t.autoPlayInterval),l.clearInterval(t.checkVisible),t.checkVisible=l.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),l.clearInterval(t.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var t,e;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if((t=s(this.options.responsiveBaseWidth).width())>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),e=0;e<this.options.itemsCustom.length;e+=1)this.options.itemsCustom[e][0]<=t&&(this.options.items=this.options.itemsCustom[e][1]);else t<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),t<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),t<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),t<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),t<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var t,e,n=this;if(!0!==n.options.responsive)return!1;e=s(l).width(),n.resizer=function(){s(l).width()!==e&&(!1!==n.options.autoPlay&&l.clearInterval(n.autoPlayInterval),l.clearTimeout(t),t=l.setTimeout(function(){e=s(l).width(),n.updateVars()},n.options.responsiveRefreshRate))},s(l).resize(n.resizer)},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var n=this,i=0,o=n.itemsAmount-n.options.items;n.$owlItems.each(function(t){var e=s(this);e.css({width:n.itemWidth}).data("owl-item",Number(t)),0!=t%n.options.items&&t!==o||o<t||(i+=1),e.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var t,e,n=0,i=0;for(this.positionsInArray=[0],this.pagesInArray=[],t=0;t<this.itemsAmount;t+=1)i+=this.itemWidth,this.positionsInArray.push(-i),!0===this.options.scrollPerPage&&((e=(e=s(this.$owlItems[t])).data("owl-roundPages"))!==n&&(this.pagesInArray[n]=this.positionsInArray[t],n=e))},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=s('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,t=s('<div class="owl-buttons"/>');e.owlControls.append(t),e.buttonPrev=s("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=s("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""}),t.append(e.buttonPrev).append(e.buttonNext),t.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),t.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(t){t.preventDefault(),s(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=s('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(t){t.preventDefault(),Number(s(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(s(this).data("owl-page")),!0)})},updatePagination:function(){var t,e,n,i,o,a;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),t=0,e=this.itemsAmount-this.itemsAmount%this.options.items,i=0;i<this.itemsAmount;i+=1)0==i%this.options.items&&(t+=1,e===i&&(n=this.itemsAmount-this.options.items),o=s("<div/>",{"class":"owl-page"}),a=s("<span></span>",{text:!0===this.options.paginationNumbers?t:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),o.append(a),o.data("owl-page",e===i?n:i),o.data("owl-roundPages",t),this.paginationWrapper.append(o));this.checkPagination()},checkPagination:function(){var t=this;if(!1===t.options.pagination)return!1;t.paginationWrapper.find(".owl-page").each(function(){s(this).data("owl-roundPages")===s(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),s(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),this.currentItem<0){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,e,n){var i=this;return!i.isTransition&&("function"==typeof i.options.beforeMove&&i.options.beforeMove.apply(this,[i.$elem]),t>=i.maximumItem?t=i.maximumItem:t<=0&&(t=0),i.currentItem=i.owl.currentItem=t,!1!==i.options.transitionStyle&&"drag"!==n&&1===i.options.items&&!0===i.browser.support3d?(i.swapSpeed(0),!0===i.browser.support3d?i.transition3d(i.positionsInArray[t]):i.css2slide(i.positionsInArray[t],1),i.afterGo(),i.singleItemTransition(),!1):(t=i.positionsInArray[t],!0===i.browser.support3d?(!(i.isCss3Finish=!1)===e?(i.swapSpeed("paginationSpeed"),l.setTimeout(function(){i.isCss3Finish=!0},i.options.paginationSpeed)):"rewind"===e?(i.swapSpeed(i.options.rewindSpeed),l.setTimeout(function(){i.isCss3Finish=!0},i.options.rewindSpeed)):(i.swapSpeed("slideSpeed"),l.setTimeout(function(){i.isCss3Finish=!0},i.options.slideSpeed)),i.transition3d(t)):!0===e?i.css2slide(t,i.options.paginationSpeed):"rewind"===e?i.css2slide(t,i.options.rewindSpeed):i.css2slide(t,i.options.slideSpeed),void i.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:t<=0&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",l.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;if(!(t.apStatus="play")===t.options.autoPlay)return!1;l.clearInterval(t.autoPlayInterval),t.autoPlayInterval=l.setInterval(function(){t.next(!0)},t.options.autoPlay)},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var n=this;n.isCssFinish=!1,n.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||n.options.slideSpeed,complete:function(){n.isCssFinish=!0}})},checkBrowser:function(){var t=c.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in l||l.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(t){t.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(t){return s(t.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function i(t){"on"===t?(s(c).on(a.ev_types.move,e),s(c).on(a.ev_types.end,o)):"off"===t&&(s(c).off(a.ev_types.move),s(c).off(a.ev_types.end))}function e(t){t=t.originalEvent||t||l.event,a.newPosX=n(t).x-r.offsetX,a.newPosY=n(t).y-r.offsetY,a.newRelativeX=a.newPosX-r.relativePos,"function"==typeof a.options.startDragging&&!0!==r.dragging&&0!==a.newRelativeX&&(r.dragging=!0,a.options.startDragging.apply(a,[a.$elem])),(8<a.newRelativeX||a.newRelativeX<-8)&&!0===a.browser.isTouch&&(void 0!==t.preventDefault?t.preventDefault():t.returnValue=!1,r.sliding=!0),(10<a.newPosY||a.newPosY<-10)&&!1===r.sliding&&s(c).off("touchmove.owl"),a.newPosX=Math.max(Math.min(a.newPosX,a.newRelativeX/5),a.maximumPixels+a.newRelativeX/5),!0===a.browser.support3d?a.transition3d(a.newPosX):a.css2move(a.newPosX)}function o(t){var e;(t=t.originalEvent||t||l.event).target=t.target||t.srcElement,!(r.dragging=!1)!==a.browser.isTouch&&a.$owlWrapper.removeClass("grabbing"),a.dragDirection=a.newRelativeX<0?a.owl.dragDirection="left":a.owl.dragDirection="right",0!==a.newRelativeX&&(e=a.getNewPosition(),a.goTo(e,!1,"drag"),r.targetElement===t.target&&!0!==a.browser.isTouch&&(s(t.target).on("click.disable",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),s(t.target).off("click.disable")}),e=(t=s._data(t.target,"events").click).pop(),t.splice(0,0,e))),i("off")}var a=this,r={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};a.isCssFinish=!0,a.$elem.on(a.ev_types.start,".owl-wrapper",function(t){var e;if(3===(t=t.originalEvent||t||l.event).which)return!1;if(!(a.itemsAmount<=a.options.items)){if(!1===a.isCssFinish&&!a.options.dragBeforeAnimFinish||!1===a.isCss3Finish&&!a.options.dragBeforeAnimFinish)return!1;!1!==a.options.autoPlay&&l.clearInterval(a.autoPlayInterval),!0===a.browser.isTouch||a.$owlWrapper.hasClass("grabbing")||a.$owlWrapper.addClass("grabbing"),a.newPosX=0,a.newRelativeX=0,s(this).css(a.removeTransition()),e=s(this).position(),r.relativePos=e.left,r.offsetX=n(t).x-e.left,r.offsetY=n(t).y-e.top,i("on"),r.sliding=!1,r.targetElement=t.target||t.srcElement}})},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var n=this,i=!0===n.options.scrollPerPage?n.pagesInArray:n.positionsInArray,o=n.newPosX,a=null;return s.each(i,function(t,e){o-n.itemWidth/20>i[t+1]&&o-n.itemWidth/20<e&&"left"===n.moveDirection()?(a=e,n.currentItem=!0===n.options.scrollPerPage?s.inArray(a,n.positionsInArray):t):o+n.itemWidth/20<e&&o+n.itemWidth/20>(i[t+1]||i[t]-n.itemWidth)&&"right"===n.moveDirection()&&(!0===n.options.scrollPerPage?(a=i[t+1]||i[i.length-1],
n.currentItem=s.inArray(a,n.positionsInArray)):(a=i[t+1],n.currentItem=t+1))}),n.currentItem},moveDirection:function(){var t;return this.newRelativeX<0?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var n=this;n.$elem.on("owl.next",function(){n.next()}),n.$elem.on("owl.prev",function(){n.prev()}),n.$elem.on("owl.play",function(t,e){n.options.autoPlay=e,n.play(),n.hoverStatus="play"}),n.$elem.on("owl.stop",function(){n.stop(),n.hoverStatus="stop"}),n.$elem.on("owl.goTo",function(t,e){n.goTo(e)}),n.$elem.on("owl.jumpTo",function(t,e){n.jumpTo(e)})},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var t,e,n,i;if(!1===this.options.lazyLoad)return!1;for(t=0;t<this.itemsAmount;t+=1)"loaded"!==(e=s(this.$owlItems[t])).data("owl-loaded")&&(n=e.data("owl-item"),"string"!=typeof(i=e.find(".lazyOwl")).data("src")?e.data("owl-loaded","loaded"):(void 0===e.data("owl-loaded")&&(i.hide(),e.addClass("loading").data("owl-loaded","checked")),(!0!==this.options.lazyFollow||n>=this.currentItem)&&n<this.currentItem+this.options.items&&i.length&&this.lazyPreload(e,i)))},lazyPreload:function(t,e){function n(){t.data("owl-loaded","loaded").removeClass("loading"),e.removeAttr("data-src"),"fade"===a.options.lazyEffect?e.fadeIn(400):e.show(),"function"==typeof a.options.afterLazyLoad&&a.options.afterLazyLoad.apply(this,[a.$elem])}function i(){r+=1,a.completeImg(e.get(0))||!0===o?n():r<=100?l.setTimeout(i,100):n()}var o,a=this,r=0;"DIV"===e.prop("tagName")?(e.css("background-image","url("+e.data("src")+")"),o=!0):e[0].src=e.data("src"),i()},autoHeight:function(){function t(){var t=s(i.$owlItems[i.currentItem]).height();i.wrapperOuter.css("height",t+"px"),i.wrapperOuter.hasClass("autoHeight")||l.setTimeout(function(){i.wrapperOuter.addClass("autoHeight")},0)}function e(){n+=1,i.completeImg(o.get(0))?t():n<=100?l.setTimeout(e,100):i.wrapperOuter.css("height","")}var n,i=this,o=s(i.$owlItems[i.currentItem]).find("img");void 0!==o.get(0)?(n=0,e()):t()},completeImg:function(t){return!(!t.complete||"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth)},onVisibleItems:function(){var t;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],t=this.currentItem;t<this.currentItem+this.options.items;t+=1)this.visibleItems.push(t),!0===this.options.addClassActive&&s(this.$owlItems[t]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,n=t.inClass,i=t.$owlItems.eq(t.currentItem),o=t.$owlItems.eq(t.prevItem),a=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],r=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":r+"px","-moz-perspective-origin":r+"px","perspective-origin":r+"px"}),o.css({position:"relative",left:a+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endPrev=!0,o.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(o,e)}),i.addClass(n).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endCurrent=!0,i.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(i,n)})},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),s(c).off(".owl owl"),s(l).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),l.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(t){t=s.extend({},this.userOptions,t),this.unWrap(),this.init(t,this.$elem)},addItem:function(t,e){var n;return!!t&&(0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),(n=void 0===e||-1===e?-1:e)>=this.$userItems.length||-1===n?this.$userItems.eq(-1).after(t):this.$userItems.eq(n).before(t),void this.setVars()))},removeItem:function(t){if(0===this.$elem.children().length)return!1;t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),this.setVars()}};s.fn.owlCarousel=function(e){return this.each(function(){if(!0===s(this).data("owl-init"))return!1;s(this).data("owl-init",!0);var t=Object.create(n);t.init(e,this),s.data(this,"owlCarousel",t)})},s.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:l,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+n,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),a[this.key]=this,n+=1}var n=0,a={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete a[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var n in a)e.push(a[n]);for(var i=0,o=e.length;i<o;i++)e[i][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function n(t){this.element=t,this.Adapter=g.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},g=window.Waypoint,t=window.onload;n.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},n.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},n.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,g.requestAnimationFrame(t))})},n.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||g.isTouch)&&(e.didScroll=!0,g.requestAnimationFrame(t))})},n.prototype.handleResize=function(){g.Context.refreshAll()},n.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],o=i.newScroll>i.oldScroll?i.forward:i.backward;for(var a in this.waypoints[n]){var r=this.waypoints[n][a],s=i.oldScroll<r.triggerPoint,l=i.newScroll>=r.triggerPoint;(s&&l||!s&&!l)&&(r.queueTrigger(o),t[r.group.id]=r.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},n.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},n.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},n.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},n.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,o=t.length;i<o;i++)t[i].destroy()},n.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),i={};for(var o in this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var a=t[o];for(var r in this.waypoints[o]){var s,l,c,u,d=this.waypoints[o][r],p=d.options.offset,h=d.triggerPoint,f=0,m=null==h;d.element!==d.element.window&&(f=d.adapter.offset()[a.offsetProp]),"function"==typeof p?p=p.apply(d):"string"==typeof p&&(p=parseFloat(p),-1<d.options.offset.indexOf("%")&&(p=Math.ceil(a.contextDimension*p/100))),s=a.contextScroll-a.contextOffset,d.triggerPoint=f+s-p,l=h<a.oldScroll,c=d.triggerPoint>=a.oldScroll,u=!l&&!c,!m&&(l&&c)?(d.queueTrigger(a.backward),i[d.group.id]=d.group):!m&&u?(d.queueTrigger(a.forward),i[d.group.id]=d.group):m&&a.oldScroll>=d.triggerPoint&&(d.queueTrigger(a.forward),i[d.group.id]=d.group)}}return g.requestAnimationFrame(function(){for(var t in i)i[t].flushTriggers()}),this},n.findOrCreateByElement=function(t){return n.findByElement(t)||new n(t)},n.refreshAll=function(){for(var t in o)o[t].refresh()},n.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){t&&t(),n.refreshAll()},g.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},g.Context=n}(),function(){"use strict";function r(t,e){return t.triggerPoint-e.triggerPoint}function s(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},i=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],n="up"===t||"left"===t;e.sort(n?s:r);for(var i=0,o=e.length;i<o;i+=1){var a=e[i];(a.options.continuous||i===e.length-1)&&a.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(r);var e=i.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(r);var e=i.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return n[t.axis][t.name]||new e(t)},i.Group=e}(),function(){"use strict";function n(t){this.$element=i(t)}var i=window.jQuery,t=window.Waypoint;i.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){n.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),i.each(["extend","inArray","isEmptyObject"],function(t,e){n[e]=i[e]}),t.adapters.push({name:"jquery",Adapter:n}),t.Adapter=n}(),function(){"use strict";function t(o){return function(t,e){var n=[],i=t;return o.isFunction(arguments[0])&&((i=o.extend({},e)).handler=arguments[0]),this.each(function(){var t=o.extend({},i,{element:this});"string"==typeof t.context&&(t.context=o(this).closest(t.context)[0]),n.push(new a(t))}),n}}var a=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(u){var d,i,p,o,h,e,l="Close",c="BeforeClose",n="AfterClose",a="BeforeAppend",f="MarkupParse",m="Open",r="Change",s="mfp",g="."+s,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",t=function(){},w=!!window.jQuery,x=u(window),C=function(t,e){d.ev.on(s+t+g,e)},S=function(t,e,n,i){var o=document.createElement("div");return o.className="mfp-"+t,n&&(o.innerHTML=n),i?e&&e.appendChild(o):(o=u(o),e&&o.appendTo(e)),o},_=function(t,e){d.ev.triggerHandler(s+t,e),d.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),d.st.callbacks[t]&&d.st.callbacks[t].apply(d,u.isArray(e)?e:[e]))},$=function(t){return t===e&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=u(d.st.closeMarkup.replace("%title%",d.st.tClose)),e=t),d.currTemplate.closeBtn},T=function(){u.magnificPopup.instance||((d=new t).init(),u.magnificPopup.instance=d)},k=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(t),d.isIOS=/iphone|ipad|ipod/gi.test(t),d.supportsTransition=k(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),p=u(document),d.popupsCache={}},open:function(t){var e;if(!1===t.isObj){d.items=t.items.toArray(),d.index=0;var n,i=t.items;for(e=0;e<i.length;e++)if((n=i[e]).parsed&&(n=n.el[0]),n===t.el[0]){d.index=e;break}}else d.items=u.isArray(t.items)?t.items:[t.items],d.index=t.index||0;if(!d.isOpen){d.types=[],h="",t.mainEl&&t.mainEl.length?d.ev=t.mainEl.eq(0):d.ev=p,t.key?(d.popupsCache[t.key]||(d.popupsCache[t.key]={}),d.currTemplate=d.popupsCache[t.key]):d.currTemplate={},d.st=u.extend(!0,{},u.magnificPopup.defaults,t),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=S("bg").on("click"+g,function(){d.close()}),d.wrap=S("wrap").attr("tabindex",-1).on("click"+g,function(t){d._checkIfClose(t.target)&&d.close()}),d.container=S("container",d.wrap)),d.contentContainer=S("content"),d.st.preloader&&(d.preloader=S("preloader",d.container,d.st.tLoading));var o=u.magnificPopup.modules;for(e=0;e<o.length;e++){var a=o[e];a=a.charAt(0).toUpperCase()+a.slice(1),d["init"+a].call(d)}_("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(C(f,function(t,e,n,i){n.close_replaceWith=$(i.type)}),h+=" mfp-close-btn-in"):d.wrap.append($())),d.st.alignTop&&(h+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:x.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:p.height(),position:"absolute"}),d.st.enableEscapeKey&&p.on("keyup"+g,function(t){27===t.keyCode&&d.close()}),x.on("resize"+g,function(){d.updateSize()}),d.st.closeOnContentClick||(h+=" mfp-auto-cursor"),h&&d.wrap.addClass(h);var r=d.wH=x.height(),s={};if(d.fixedContentPos&&d._hasScrollBar(r)){var l=d._getScrollbarSize();l&&(s.marginRight=l)}d.fixedContentPos&&(d.isIE7?u("body, html").css("overflow","hidden"):s.overflow="hidden");var c=d.st.mainClass;return d.isIE7&&(c+=" mfp-ie7"),c&&d._addClassToMFP(c),d.updateItemHTML(),_("BuildControls"),u("html").css(s),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||u(document.body)),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(v),d._setFocus()):d.bgOverlay.addClass(v),p.on("focusin"+g,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(r),_(m),t}d.updateItemHTML()},close:function(){d.isOpen&&(_(c),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(y),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){_(l);var t=y+" "+v+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(t+=d.st.mainClass+" "),d._removeClassFromMFP(t),d.fixedContentPos){var e={marginRight:""};d.isIE7?u("body, html").css("overflow",""):e.overflow="",u("html").css(e)}p.off("keyup"+g+" focusin"+g),d.ev.off(g),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&u(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,_(n)},updateSize:function(t){if(d.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*e;d.wrap.css("height",n),d.wH=n}else d.wH=t||x.height();d.fixedContentPos||d.wrap.css("height",d.wH),_("Resize")},updateItemHTML:function(){var t=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),t.parsed||(t=d.parseEl(d.index));var e=t.type;if(_("BeforeChange",[d.currItem?d.currItem.type:"",e]),d.currItem=t,!d.currTemplate[e]){var n=!!d.st[e]&&d.st[e].markup;_("FirstMarkupParse",n),d.currTemplate[e]=!n||u(n)}o&&o!==t.type&&d.container.removeClass("mfp-"+o+"-holder");var i=d["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,d.currTemplate[e]);d.appendContent(i,e),t.preloaded=!0,_(r,t),o=t.type,d.container.prepend(d.contentContainer),_("AfterChange")},appendContent:function(t,e){(d.content=t)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[e]?d.content.find(".mfp-close").length||d.content.append($()):d.content=t:d.content="",_(a),d.container.addClass("mfp-"+e+"-holder"),d.contentContainer.append(d.content)},parseEl:function(t){var e,n=d.items[t];if(n.tagName?n={el:u(n)}:(e=n.type,n={data:n,src:n.src}),n.el){for(var i=d.types,o=0;o<i.length;o++)if(n.el.hasClass("mfp-"+i[o])){e=i[o];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=e||d.st.type||"inline",n.index=t,n.parsed=!0,d.items[t]=n,_("ElementParse",n),d.items[t]},addGroup:function(e,n){var t=function(t){t.mfpEl=this,d._openClick(t,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,t)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,t):(n.items=e).off(i).on(i,t))},_openClick:function(t,e,n){if((void 0!==n.midClick?n.midClick:u.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var i=void 0!==n.disableOn?n.disableOn:u.magnificPopup.defaults.disableOn;if(i)if(u.isFunction(i)){if(!i.call(d))return!0}else if(x.width()<i)return!0;t.type&&(t.preventDefault(),d.isOpen&&t.stopPropagation()),n.el=u(t.mfpEl),n.delegate&&(n.items=e.find(n.delegate)),d.open(n)}},updateStatus:function(t,e){if(d.preloader){i!==t&&d.container.removeClass("mfp-s-"+i),e||"loading"!==t||(e=d.st.tLoading);var n={status:t,text:e};_("UpdateStatus",n),t=n.status,e=n.text,d.preloader.html(e),d.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(t){if(!u(t).hasClass(b)){var e=d.st.closeOnContentClick,n=d.st.closeOnBgClick;if(e&&n)return!0;if(!d.content||u(t).hasClass("mfp-close")||d.preloader&&t===d.preloader[0])return!0;if(t===d.content[0]||u.contains(d.content[0],t)){if(e)return!0}else if(n&&u.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){d.bgOverlay.addClass(t),d.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),d.wrap.removeClass(t)},_hasScrollBar:function(t){return(d.isIE7?p.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(t){return t.target===d.wrap[0]||u.contains(d.wrap[0],t.target)?void 0:(d._setFocus(),!1)},_parseMarkup:function(o,t,e){var a;e.data&&(t=u.extend(e.data,t)),_(f,[o,t,e]),u.each(t,function(t,e){if(void 0===e||!1===e)return!0;if(1<(a=t.split("_")).length){var n=o.find(g+"-"+a[0]);if(0<n.length){var i=a[1];"replaceWith"===i?n[0]!==e[0]&&n.replaceWith(e):"img"===i?n.is("img")?n.attr("src",e):n.replaceWith(u("<img>").attr("src",e).attr("class",n.attr("class"))):n.attr(a[1],e)}}else o.find(g+"-"+t).html(e)})},_getScrollbarSize:function(){if(void 0===d.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),d.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d.scrollbarSize}},u.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return T(),(t=t?u.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(u.magnificPopup.defaults[t]=e.options),u.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(t,e){T();var n=u(this);if("string"==typeof t)if("open"===t){var i,o=w?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(e,10)||0;o.items?i=o.items[a]:(i=n,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),d._openClick({mfpEl:i},n,o)}else d.isOpen&&d[t].apply(d,Array.prototype.slice.call(arguments,1));else t=u.extend(!0,{},t),w?n.data("magnificPopup",t):n[0].magnificPopup=t,d.addGroup(n,t);return n};var I,E,P,A="inline",M=function(){P&&(E.after(P.addClass(I)).detach(),P=null)};u.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(A),C(l+"."+A,function(){M()})},getInline:function(t,e){if(M(),t.src){var n=d.st.inline,i=u(t.src);if(i.length){var o=i[0].parentNode;o&&o.tagName&&(E||(I=n.hiddenClass,E=S(I),I="mfp-"+I),P=i.after(E).detach().removeClass(I)),d.updateStatus("ready")}else d.updateStatus("error",n.tNotFound),i=u("<div>");return t.inlineElement=i}return d.updateStatus("ready"),d._parseMarkup(e,{},t),e}}});var O,z="ajax",D=function(){O&&u(document.body).removeClass(O)},j=function(){D(),d.req&&d.req.abort()};u.magnificPopup.registerModule(z,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(z),O=d.st.ajax.cursor,C(l+"."+z,j),C("BeforeChange."+z,j)},getAjax:function(o){O&&u(document.body).addClass(O),d.updateStatus("loading");var t=u.extend({url:o.src,success:function(t,e,n){var i={data:t,xhr:n};_("ParseAjax",i),d.appendContent(u(i.data),z),o.finished=!0,D(),d._setFocus(),setTimeout(function(){d.wrap.addClass(v)},16),d.updateStatus("ready"),_("AjaxContentAdded")},error:function(){D(),o.finished=o.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",o.src))}},d.st.ajax.settings);return d.req=u.ajax(t),""}}});var N,L=function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=d.st.image.titleSrc;if(e){if(u.isFunction(e))return e.call(d,t);if(t.el)return t.el.attr(e)||""}return""};u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=d.st.image,e=".image";d.types.push("image"),C(m+e,function(){"image"===d.currItem.type&&t.cursor&&u(document.body).addClass(t.cursor)}),C(l+e,function(){t.cursor&&u(document.body).removeClass(t.cursor),x.off("resize"+g)}),C("Resize"+e,d.resizeImage),d.isLowIE&&C("AfterChange",d.resizeImage)},resizeImage:function(){var t=d.currItem;if(t&&t.img&&d.st.image.verticalFit){var e=0;d.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",d.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,N&&clearInterval(N),t.isCheckingImgSize=!1,_("ImageHasSize",t),t.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(t){N&&clearInterval(N),N=setInterval(function(){return 0<i.naturalWidth?void d._onImageHasSize(e):(200<n&&clearInterval(N),void(3===++n?o(10):40===n?o(50):100===n&&o(500)))},t)};o(1)},getImage:function(t,e){var n=0,i=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,_("ImageLoadComplete")):++n<200?setTimeout(i,100):o())},o=function(){t&&(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("error",a.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},a=d.st.image,r=e.find(".mfp-img");if(r.length){var s=document.createElement("img");s.className="mfp-img",t.el&&t.el.find("img").length&&(s.alt=t.el.find("img").attr("alt")),t.img=u(s).on("load.mfploader",i).on("error.mfploader",o),s.src=t.src,r.is("img")&&(t.img=t.img.clone()),0<(s=t.img[0]).naturalWidth?t.hasSize=!0:s.width||(t.hasSize=!1)}return d._parseMarkup(e,{title:L(t),img_replaceWith:t.img},t),d.resizeImage(),t.hasSize?(N&&clearInterval(N),t.loadError?(e.addClass("mfp-loading"),d.updateStatus("error",a.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),d.findImageSize(t))),e}}});var F,H=function(){return void 0===F&&(F=void 0!==document.createElement("p").style.MozTransform),F};u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,a=d.st.zoom,e=".zoom";if(a.enabled&&d.supportsTransition){var n,i,o=a.duration,r=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+a.duration/1e3+"s "+a.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=n,e.css(i),e},s=function(){d.content.css("visibility","visible")};C("BuildControls"+e,function(){if(d._allowZoom()){if(clearTimeout(n),d.content.css("visibility","hidden"),!(t=d._getItemToZoom()))return void s();(i=r(t)).css(d._getOffset()),d.wrap.append(i),n=setTimeout(function(){i.css(d._getOffset(!0)),n=setTimeout(function(){s(),setTimeout(function(){i.remove(),t=i=null,_("ZoomAnimationEnded")},16)},o)},16)}}),C(c+e,function(){if(d._allowZoom()){if(clearTimeout(n),d.st.removalDelay=o,!t){if(!(t=d._getItemToZoom()))return;i=r(t)}i.css(d._getOffset(!0)),d.wrap.append(i),d.content.css("visibility","hidden"),setTimeout(function(){i.css(d._getOffset())},16)}}),C(l+e,function(){d._allowZoom()&&(s(),i&&i.remove(),t=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(t){var e,n=(e=t?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),i=parseInt(e.css("padding-top"),10),o=parseInt(e.css("padding-bottom"),10);n.top-=u(window).scrollTop()-i;var a={width:e.width(),height:(w?e.innerHeight():e[0].offsetHeight)-o-i};return H()?a["-moz-transform"]=a.transform="translate("+n.left+"px,"+n.top+"px)":(a.left=n.left,a.top=n.top),a}}});var R="iframe",B="//about:blank",q=function(t){if(d.currTemplate[R]){var e=d.currTemplate[R].find("iframe");e.length&&(t||(e[0].src=B),d.isIE8&&e.css("display",t?"block":"none"))}};u.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(R),C("BeforeChange",function(t,e,n){e!==n&&(e===R?q():n===R&&q(!0))}),C(l+"."+R,function(){q()})},getIframe:function(t,e){var n=t.src,i=d.st.iframe;u.each(i.patterns,function(){return-1<n.indexOf(this.index)?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var o={};return i.srcAction&&(o[i.srcAction]=n),d._parseMarkup(e,o,t),d.updateStatus("ready"),e}}});var W=function(t){var e=d.items.length;return e-1<t?t-e:t<0?e+t:t},X=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=d.st.gallery,t=".mfp-gallery";return d.direction=!0,!(!a||!a.enabled)&&(h+=" mfp-gallery",C(m+t,function(){a.navigateByImgClick&&d.wrap.on("click"+t,".mfp-img",function(){return 1<d.items.length?(d.next(),!1):void 0}),p.on("keydown"+t,function(t){37===t.keyCode?d.prev(
):39===t.keyCode&&d.next()})}),C("UpdateStatus"+t,function(t,e){e.text&&(e.text=X(e.text,d.currItem.index,d.items.length))}),C(f+t,function(t,e,n,i){var o=d.items.length;n.counter=1<o?X(a.tCounter,i.index,o):""}),C("BuildControls"+t,function(){if(1<d.items.length&&a.arrows&&!d.arrowLeft){var t=a.arrowMarkup,e=d.arrowLeft=u(t.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(b),n=d.arrowRight=u(t.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(b);e.click(function(){d.prev()}),n.click(function(){d.next()}),d.container.append(e.add(n))}}),C(r+t,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),void C(l+t,function(){p.off(t),d.wrap.off("click"+t),d.arrowRight=d.arrowLeft=null}))},next:function(){d.direction=!0,d.index=W(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=W(d.index-1),d.updateItemHTML()},goTo:function(t){d.direction=t>=d.index,d.index=t,d.updateItemHTML()},preloadNearbyImages:function(){var t,e=d.st.gallery.preload,n=Math.min(e[0],d.items.length),i=Math.min(e[1],d.items.length);for(t=1;t<=(d.direction?i:n);t++)d._preloadItem(d.index+t);for(t=1;t<=(d.direction?n:i);t++)d._preloadItem(d.index-t)},_preloadItem:function(t){if(t=W(t),!d.items[t].preloaded){var e=d.items[t];e.parsed||(e=d.parseEl(t)),_("LazyLoad",e),"image"===e.type&&(e.img=u('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,_("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var Y="retina";u.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var n=d.st.retina,i=n.ratio;1<(i=isNaN(i)?i():i)&&(C("ImageHasSize."+Y,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),C("ElementParse."+Y,function(t,e){e.src=n.replaceSrc(e,i)}))}}}}),T()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(u){var d,i,p,o,h,e,l="Close",c="BeforeClose",n="AfterClose",a="BeforeAppend",f="MarkupParse",m="Open",r="Change",s="mfp",g="."+s,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",t=function(){},w=!!window.jQuery,x=u(window),C=function(t,e){d.ev.on(s+t+g,e)},S=function(t,e,n,i){var o=document.createElement("div");return o.className="mfp-"+t,n&&(o.innerHTML=n),i?e&&e.appendChild(o):(o=u(o),e&&o.appendTo(e)),o},_=function(t,e){d.ev.triggerHandler(s+t,e),d.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),d.st.callbacks[t]&&d.st.callbacks[t].apply(d,u.isArray(e)?e:[e]))},$=function(t){return t===e&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=u(d.st.closeMarkup.replace("%title%",d.st.tClose)),e=t),d.currTemplate.closeBtn},T=function(){u.magnificPopup.instance||((d=new t).init(),u.magnificPopup.instance=d)},k=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(t),d.isIOS=/iphone|ipad|ipod/gi.test(t),d.supportsTransition=k(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),p=u(document),d.popupsCache={}},open:function(t){var e;if(!1===t.isObj){d.items=t.items.toArray(),d.index=0;var n,i=t.items;for(e=0;e<i.length;e++)if((n=i[e]).parsed&&(n=n.el[0]),n===t.el[0]){d.index=e;break}}else d.items=u.isArray(t.items)?t.items:[t.items],d.index=t.index||0;if(!d.isOpen){d.types=[],h="",t.mainEl&&t.mainEl.length?d.ev=t.mainEl.eq(0):d.ev=p,t.key?(d.popupsCache[t.key]||(d.popupsCache[t.key]={}),d.currTemplate=d.popupsCache[t.key]):d.currTemplate={},d.st=u.extend(!0,{},u.magnificPopup.defaults,t),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=S("bg").on("click"+g,function(){d.close()}),d.wrap=S("wrap").attr("tabindex",-1).on("click"+g,function(t){d._checkIfClose(t.target)&&d.close()}),d.container=S("container",d.wrap)),d.contentContainer=S("content"),d.st.preloader&&(d.preloader=S("preloader",d.container,d.st.tLoading));var o=u.magnificPopup.modules;for(e=0;e<o.length;e++){var a=o[e];a=a.charAt(0).toUpperCase()+a.slice(1),d["init"+a].call(d)}_("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(C(f,function(t,e,n,i){n.close_replaceWith=$(i.type)}),h+=" mfp-close-btn-in"):d.wrap.append($())),d.st.alignTop&&(h+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:x.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:p.height(),position:"absolute"}),d.st.enableEscapeKey&&p.on("keyup"+g,function(t){27===t.keyCode&&d.close()}),x.on("resize"+g,function(){d.updateSize()}),d.st.closeOnContentClick||(h+=" mfp-auto-cursor"),h&&d.wrap.addClass(h);var r=d.wH=x.height(),s={};if(d.fixedContentPos&&d._hasScrollBar(r)){var l=d._getScrollbarSize();l&&(s.marginRight=l)}d.fixedContentPos&&(d.isIE7?u("body, html").css("overflow","hidden"):s.overflow="hidden");var c=d.st.mainClass;return d.isIE7&&(c+=" mfp-ie7"),c&&d._addClassToMFP(c),d.updateItemHTML(),_("BuildControls"),u("html").css(s),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||u(document.body)),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(v),d._setFocus()):d.bgOverlay.addClass(v),p.on("focusin"+g,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(r),_(m),t}d.updateItemHTML()},close:function(){d.isOpen&&(_(c),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(y),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){_(l);var t=y+" "+v+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(t+=d.st.mainClass+" "),d._removeClassFromMFP(t),d.fixedContentPos){var e={marginRight:""};d.isIE7?u("body, html").css("overflow",""):e.overflow="",u("html").css(e)}p.off("keyup"+g+" focusin"+g),d.ev.off(g),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&u(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,_(n)},updateSize:function(t){if(d.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*e;d.wrap.css("height",n),d.wH=n}else d.wH=t||x.height();d.fixedContentPos||d.wrap.css("height",d.wH),_("Resize")},updateItemHTML:function(){var t=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),t.parsed||(t=d.parseEl(d.index));var e=t.type;if(_("BeforeChange",[d.currItem?d.currItem.type:"",e]),d.currItem=t,!d.currTemplate[e]){var n=!!d.st[e]&&d.st[e].markup;_("FirstMarkupParse",n),d.currTemplate[e]=!n||u(n)}o&&o!==t.type&&d.container.removeClass("mfp-"+o+"-holder");var i=d["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,d.currTemplate[e]);d.appendContent(i,e),t.preloaded=!0,_(r,t),o=t.type,d.container.prepend(d.contentContainer),_("AfterChange")},appendContent:function(t,e){(d.content=t)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[e]?d.content.find(".mfp-close").length||d.content.append($()):d.content=t:d.content="",_(a),d.container.addClass("mfp-"+e+"-holder"),d.contentContainer.append(d.content)},parseEl:function(t){var e,n=d.items[t];if(n.tagName?n={el:u(n)}:(e=n.type,n={data:n,src:n.src}),n.el){for(var i=d.types,o=0;o<i.length;o++)if(n.el.hasClass("mfp-"+i[o])){e=i[o];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=e||d.st.type||"inline",n.index=t,n.parsed=!0,d.items[t]=n,_("ElementParse",n),d.items[t]},addGroup:function(e,n){var t=function(t){t.mfpEl=this,d._openClick(t,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,t)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,t):(n.items=e).off(i).on(i,t))},_openClick:function(t,e,n){if((void 0!==n.midClick?n.midClick:u.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var i=void 0!==n.disableOn?n.disableOn:u.magnificPopup.defaults.disableOn;if(i)if(u.isFunction(i)){if(!i.call(d))return!0}else if(x.width()<i)return!0;t.type&&(t.preventDefault(),d.isOpen&&t.stopPropagation()),n.el=u(t.mfpEl),n.delegate&&(n.items=e.find(n.delegate)),d.open(n)}},updateStatus:function(t,e){if(d.preloader){i!==t&&d.container.removeClass("mfp-s-"+i),e||"loading"!==t||(e=d.st.tLoading);var n={status:t,text:e};_("UpdateStatus",n),t=n.status,e=n.text,d.preloader.html(e),d.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(t){if(!u(t).hasClass(b)){var e=d.st.closeOnContentClick,n=d.st.closeOnBgClick;if(e&&n)return!0;if(!d.content||u(t).hasClass("mfp-close")||d.preloader&&t===d.preloader[0])return!0;if(t===d.content[0]||u.contains(d.content[0],t)){if(e)return!0}else if(n&&u.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){d.bgOverlay.addClass(t),d.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),d.wrap.removeClass(t)},_hasScrollBar:function(t){return(d.isIE7?p.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(t){return t.target===d.wrap[0]||u.contains(d.wrap[0],t.target)?void 0:(d._setFocus(),!1)},_parseMarkup:function(o,t,e){var a;e.data&&(t=u.extend(e.data,t)),_(f,[o,t,e]),u.each(t,function(t,e){if(void 0===e||!1===e)return!0;if(1<(a=t.split("_")).length){var n=o.find(g+"-"+a[0]);if(0<n.length){var i=a[1];"replaceWith"===i?n[0]!==e[0]&&n.replaceWith(e):"img"===i?n.is("img")?n.attr("src",e):n.replaceWith(u("<img>").attr("src",e).attr("class",n.attr("class"))):n.attr(a[1],e)}}else o.find(g+"-"+t).html(e)})},_getScrollbarSize:function(){if(void 0===d.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),d.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d.scrollbarSize}},u.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return T(),(t=t?u.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(u.magnificPopup.defaults[t]=e.options),u.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(t,e){T();var n=u(this);if("string"==typeof t)if("open"===t){var i,o=w?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(e,10)||0;o.items?i=o.items[a]:(i=n,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),d._openClick({mfpEl:i},n,o)}else d.isOpen&&d[t].apply(d,Array.prototype.slice.call(arguments,1));else t=u.extend(!0,{},t),w?n.data("magnificPopup",t):n[0].magnificPopup=t,d.addGroup(n,t);return n};var I,E,P,A="inline",M=function(){P&&(E.after(P.addClass(I)).detach(),P=null)};u.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(A),C(l+"."+A,function(){M()})},getInline:function(t,e){if(M(),t.src){var n=d.st.inline,i=u(t.src);if(i.length){var o=i[0].parentNode;o&&o.tagName&&(E||(I=n.hiddenClass,E=S(I),I="mfp-"+I),P=i.after(E).detach().removeClass(I)),d.updateStatus("ready")}else d.updateStatus("error",n.tNotFound),i=u("<div>");return t.inlineElement=i}return d.updateStatus("ready"),d._parseMarkup(e,{},t),e}}});var O,z="ajax",D=function(){O&&u(document.body).removeClass(O)},j=function(){D(),d.req&&d.req.abort()};u.magnificPopup.registerModule(z,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(z),O=d.st.ajax.cursor,C(l+"."+z,j),C("BeforeChange."+z,j)},getAjax:function(o){O&&u(document.body).addClass(O),d.updateStatus("loading");var t=u.extend({url:o.src,success:function(t,e,n){var i={data:t,xhr:n};_("ParseAjax",i),d.appendContent(u(i.data),z),o.finished=!0,D(),d._setFocus(),setTimeout(function(){d.wrap.addClass(v)},16),d.updateStatus("ready"),_("AjaxContentAdded")},error:function(){D(),o.finished=o.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",o.src))}},d.st.ajax.settings);return d.req=u.ajax(t),""}}});var N,L=function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=d.st.image.titleSrc;if(e){if(u.isFunction(e))return e.call(d,t);if(t.el)return t.el.attr(e)||""}return""};u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=d.st.image,e=".image";d.types.push("image"),C(m+e,function(){"image"===d.currItem.type&&t.cursor&&u(document.body).addClass(t.cursor)}),C(l+e,function(){t.cursor&&u(document.body).removeClass(t.cursor),x.off("resize"+g)}),C("Resize"+e,d.resizeImage),d.isLowIE&&C("AfterChange",d.resizeImage)},resizeImage:function(){var t=d.currItem;if(t&&t.img&&d.st.image.verticalFit){var e=0;d.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",d.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,N&&clearInterval(N),t.isCheckingImgSize=!1,_("ImageHasSize",t),t.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(t){N&&clearInterval(N),N=setInterval(function(){return 0<i.naturalWidth?void d._onImageHasSize(e):(200<n&&clearInterval(N),void(3===++n?o(10):40===n?o(50):100===n&&o(500)))},t)};o(1)},getImage:function(t,e){var n=0,i=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,_("ImageLoadComplete")):++n<200?setTimeout(i,100):o())},o=function(){t&&(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("error",a.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},a=d.st.image,r=e.find(".mfp-img");if(r.length){var s=document.createElement("img");s.className="mfp-img",t.el&&t.el.find("img").length&&(s.alt=t.el.find("img").attr("alt")),t.img=u(s).on("load.mfploader",i).on("error.mfploader",o),s.src=t.src,r.is("img")&&(t.img=t.img.clone()),0<(s=t.img[0]).naturalWidth?t.hasSize=!0:s.width||(t.hasSize=!1)}return d._parseMarkup(e,{title:L(t),img_replaceWith:t.img},t),d.resizeImage(),t.hasSize?(N&&clearInterval(N),t.loadError?(e.addClass("mfp-loading"),d.updateStatus("error",a.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),d.findImageSize(t))),e}}});var F,H=function(){return void 0===F&&(F=void 0!==document.createElement("p").style.MozTransform),F};u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,a=d.st.zoom,e=".zoom";if(a.enabled&&d.supportsTransition){var n,i,o=a.duration,r=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+a.duration/1e3+"s "+a.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=n,e.css(i),e},s=function(){d.content.css("visibility","visible")};C("BuildControls"+e,function(){if(d._allowZoom()){if(clearTimeout(n),d.content.css("visibility","hidden"),!(t=d._getItemToZoom()))return void s();(i=r(t)).css(d._getOffset()),d.wrap.append(i),n=setTimeout(function(){i.css(d._getOffset(!0)),n=setTimeout(function(){s(),setTimeout(function(){i.remove(),t=i=null,_("ZoomAnimationEnded")},16)},o)},16)}}),C(c+e,function(){if(d._allowZoom()){if(clearTimeout(n),d.st.removalDelay=o,!t){if(!(t=d._getItemToZoom()))return;i=r(t)}i.css(d._getOffset(!0)),d.wrap.append(i),d.content.css("visibility","hidden"),setTimeout(function(){i.css(d._getOffset())},16)}}),C(l+e,function(){d._allowZoom()&&(s(),i&&i.remove(),t=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(t){var e,n=(e=t?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),i=parseInt(e.css("padding-top"),10),o=parseInt(e.css("padding-bottom"),10);n.top-=u(window).scrollTop()-i;var a={width:e.width(),height:(w?e.innerHeight():e[0].offsetHeight)-o-i};return H()?a["-moz-transform"]=a.transform="translate("+n.left+"px,"+n.top+"px)":(a.left=n.left,a.top=n.top),a}}});var R="iframe",B="//about:blank",q=function(t){if(d.currTemplate[R]){var e=d.currTemplate[R].find("iframe");e.length&&(t||(e[0].src=B),d.isIE8&&e.css("display",t?"block":"none"))}};u.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(R),C("BeforeChange",function(t,e,n){e!==n&&(e===R?q():n===R&&q(!0))}),C(l+"."+R,function(){q()})},getIframe:function(t,e){var n=t.src,i=d.st.iframe;u.each(i.patterns,function(){return-1<n.indexOf(this.index)?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var o={};return i.srcAction&&(o[i.srcAction]=n),d._parseMarkup(e,o,t),d.updateStatus("ready"),e}}});var W=function(t){var e=d.items.length;return e-1<t?t-e:t<0?e+t:t},X=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=d.st.gallery,t=".mfp-gallery";return d.direction=!0,!(!a||!a.enabled)&&(h+=" mfp-gallery",C(m+t,function(){a.navigateByImgClick&&d.wrap.on("click"+t,".mfp-img",function(){return 1<d.items.length?(d.next(),!1):void 0}),p.on("keydown"+t,function(t){37===t.keyCode?d.prev():39===t.keyCode&&d.next()})}),C("UpdateStatus"+t,function(t,e){e.text&&(e.text=X(e.text,d.currItem.index,d.items.length))}),C(f+t,function(t,e,n,i){var o=d.items.length;n.counter=1<o?X(a.tCounter,i.index,o):""}),C("BuildControls"+t,function(){if(1<d.items.length&&a.arrows&&!d.arrowLeft){var t=a.arrowMarkup,e=d.arrowLeft=u(t.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(b),n=d.arrowRight=u(t.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(b);e.click(function(){d.prev()}),n.click(function(){d.next()}),d.container.append(e.add(n))}}),C(r+t,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),void C(l+t,function(){p.off(t),d.wrap.off("click"+t),d.arrowRight=d.arrowLeft=null}))},next:function(){d.direction=!0,d.index=W(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=W(d.index-1),d.updateItemHTML()},goTo:function(t){d.direction=t>=d.index,d.index=t,d.updateItemHTML()},preloadNearbyImages:function(){var t,e=d.st.gallery.preload,n=Math.min(e[0],d.items.length),i=Math.min(e[1],d.items.length);for(t=1;t<=(d.direction?i:n);t++)d._preloadItem(d.index+t);for(t=1;t<=(d.direction?n:i);t++)d._preloadItem(d.index-t)},_preloadItem:function(t){if(t=W(t),!d.items[t].preloaded){var e=d.items[t];e.parsed||(e=d.parseEl(t)),_("LazyLoad",e),"image"===e.type&&(e.img=u('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,_("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var Y="retina";u.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var n=d.st.retina,i=n.ratio;1<(i=isNaN(i)?i():i)&&(C("ImageHasSize."+Y,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),C("ElementParse."+Y,function(t,e){e.src=n.replaceSrc(e,i)}))}}}}),T()}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(1-Math.pow(2,-10*e/o))+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var a=1.70158,r=0,s=i;if(0==e)return n;if(1==(e/=o))return n+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/r)+n},easeOutElastic:function(t,e,n,i,o){var a=1.70158,r=0,s=i;if(0==e)return n;if(1==(e/=o))return n+i;if(r||(r=.3*o),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*o-a)*(2*Math.PI)/r)+i+n},easeInOutElastic:function(t,e,n,i,o){var a=1.70158,r=0,s=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(r||(r=o*(.3*1.5)),s<Math.abs(i)){s=i;a=r/4}else a=r/(2*Math.PI)*Math.asin(i/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/r)*-.5+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/r)*.5+i+n},easeInBack:function(t,e,n,i,o,a){return a==undefined&&(a=1.70158),i*(e/=o)*e*((a+1)*e-a)+n},easeOutBack:function(t,e,n,i,o,a){return a==undefined&&(a=1.70158),i*((e=e/o-1)*e*((a+1)*e+a)+1)+n},easeInOutBack:function(t,e,n,i,o,a){return a==undefined&&(a=1.70158),(e/=o/2)<1?i/2*(e*e*((1+(a*=1.525))*e-a))+n:i/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return e<o/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),function(n){n.fn.countdown=function(t,h){function e(){var t=new Date(f.date)-g();if(t<0)return clearInterval(v),void(h&&"function"==typeof h&&h());var e=1e3,n=60*e,i=60*n,o=24*i,a=Math.floor(t/o),r=Math.floor(t%o/i),s=Math.floor(t%i/n),l=Math.floor(t%n/e),c=1===a?f.day:f.days,u=1===r?f.hour:f.hours,d=1===s?f.minute:f.minutes,p=1===l?f.second:f.seconds;a=2<=String(a).length?a:"0"+a,r=2<=String(r).length?r:"0"+r,s=2<=String(s).length?s:"0"+s,l=2<=String(l).length?l:"0"+l,m.find(".days").text(a),m.find(".hours").text(r),m.find(".minutes").text(s),m.find(".seconds").text(l),m.find(".days_text").text(c),m.find(".hours_text").text(u),m.find(".minutes_text").text(d),m.find(".seconds_text").text(p)}var f=n.extend({date:null,offset:null,day:"Day",days:"Days",hour:"Hour",hours:"Hours",minute:"Minute",minutes:"Mins",second:"Sec",seconds:"Secs"},t);f.date||n.error("Date is not defined."),Date.parse(f.date)||n.error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.");var m=this,g=function(){var t=new Date,e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e+36e5*f.offset)},v=setInterval(e,1e3)}}(jQuery),function(c,s,m,g){"use strict";function n(t){var e=t.currentTarget,n=t.data?t.data.options:{},i=n.selector?m(n.selector):t.data?t.data.items:[],o=m(e).attr("data-fancybox")||"",a=0,r=m.fancybox.getInstance();t.preventDefault(),t.stopPropagation(),r&&r.current.opts.$orig.is(e)||(o?(a=(i=i.length?i.filter('[data-fancybox="'+o+'"]'):m('[data-fancybox="'+o+'"]')).index(e))<0&&(a=0):i=[e],m.fancybox.open(i,n,a))}if(m){if(m.fn.fancybox)return m.error("fancyBox already initialized");var o={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:m.noop,beforeLoad:m.noop,afterLoad:m.noop,beforeShow:m.noop,afterShow:m.noop,beforeClose:m.noop,afterClose:m.noop,onActivate:m.noop,onDeactivate:m.noop,clickContent:function(t){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t){return"image"===t.type&&"toggleControls"},clickSlide:function(t){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t){return"image"===t.type&&"zoom"},dblclickSlide:function(t){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},d=m(c),r=m(s),a=0,i=function(t){return t&&t.hasOwnProperty&&t instanceof m},p=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||function(t){return c.setTimeout(t,1e3/60)},h=function(){var t,e=s.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(e.style[t]!==g)return n[t]}(),f=function(t){return t&&t.length&&t[0].offsetHeight},l=function(t,e,n){var i=this;i.opts=m.extend(!0,{index:n},o,e||{}),e&&m.isArray(e.buttons)&&(i.opts.buttons=e.buttons),i.id=i.opts.id||++a,i.group=[],i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=null,i.createGroup(t),i.group.length&&(i.$lastFocus=m(s.activeElement).blur(),i.slides={},i.init(t))};m.extend(l.prototype,{init:function(){var t,e,n,i=this,o=i.group[i.currIndex].opts;i.scrollTop=r.scrollTop(),i.scrollLeft=r.scrollLeft(),m.fancybox.getInstance()||m.fancybox.isMobile||"hidden"===m("body").css("overflow")||(t=m("body").width(),m("html").addClass("fancybox-enabled"),1<(t=m("body").width()-t)&&m("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+t+"px; }</style>")),n="",m.each(o.buttons,function(t,e){n+=o.btnTpl[e]||""}),e=m(i.translate(i,o.baseTpl.replace("{{BUTTONS}}",n))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+i.id).addClass(o.baseClass).data("FancyBox",i).prependTo(o.parentEl),i.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption"].forEach(function(t){i.$refs[t]=e.find(".fancybox-"+t)}),(!o.arrows||i.group.length<2)&&e.find(".fancybox-navigation").remove(),o.infobar||i.$refs.infobar.remove(),o.toolbar||i.$refs.toolbar.remove(),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var n=i[e];return n===g?t:n})},createGroup:function(t){var c=this,e=m.makeArray(t);m.each(e,function(t,e){var n,i,o,a,r={},s={},l=[];m.isPlainObject(e)?s=(r=e).opts||e:"object"===m.type(e)&&m(e).length?(n=m(e),l=n.data(),
s="options"in l?l.options:{},s="object"===m.type(s)?s:{},r.src="src"in l?l.src:s.src||n.attr("href"),["width","height","thumb","type","filter"].forEach(function(t){t in l&&(s[t]=l[t])}),"srcset"in l&&(s.image={srcset:l.srcset}),s.$orig=n,r.type||r.src||(r.type="inline",r.src=e)):r={type:"html",src:e+""},r.opts=m.extend(!0,{},c.opts,s),m.fancybox.isMobile&&(r.opts=m.extend(!0,{},r.opts,r.opts.mobile)),i=r.type||r.opts.type,o=r.src||"",!i&&o&&(o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":o.match(/\.(pdf)((\?|#).*)?$/i)?i="pdf":"#"===o.charAt(0)&&(i="inline")),r.type=i,r.index=c.group.length,r.opts.$orig&&!r.opts.$orig.length&&delete r.opts.$orig,!r.opts.$thumb&&r.opts.$orig&&(r.opts.$thumb=r.opts.$orig.find("img:first")),r.opts.$thumb&&!r.opts.$thumb.length&&delete r.opts.$thumb,"function"===m.type(r.opts.caption)?r.opts.caption=r.opts.caption.apply(e,[c,r]):"caption"in l&&(r.opts.caption=l.caption),r.opts.caption=r.opts.caption===g?"":r.opts.caption+"","ajax"===i&&(1<(a=o.split(/\s+/,2)).length&&(r.src=a.shift(),r.opts.filter=a.shift())),"auto"==r.opts.smallBtn&&(-1<m.inArray(i,["html","inline","ajax"])?(r.opts.toolbar=!1,r.opts.smallBtn=!0):r.opts.smallBtn=!1),"pdf"===i&&(r.type="iframe",r.opts.iframe.preload=!1),r.opts.modal&&(r.opts=m.extend(!0,r.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(r)})},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),i.close(t)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),i.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),i.next()}),d.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?p(function(){i.update()}):(i.$refs.stage.hide(),setTimeout(function(){i.$refs.stage.show(),i.update()},500))}),r.on("focusin.fb",function(t){var e=m.fancybox?m.fancybox.getInstance():null;e.isClosing||!e.current||!e.current.opts.trapFocus||m(t.target).hasClass("fancybox-container")||m(t.target).is(s)||e&&"fixed"!==m(t.target).css("position")&&!e.$refs.container.has(t.target).length&&(t.stopPropagation(),e.focus(),d.scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))}),r.on("keydown.fb",function(t){var e=i.current,n=t.keyCode||t.which;if(e&&e.opts.keyboard&&!m(t.target).is("input")&&!m(t.target).is("textarea"))return 8===n||27===n?(t.preventDefault(),void i.close(t)):37===n||38===n?(t.preventDefault(),void i.previous()):39===n||40===n?(t.preventDefault(),void i.next()):void i.trigger("afterKeydown",t,n)}),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1}),i.idleInterval=c.setInterval(function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())},1e3))},removeEvents:function(){var t=this;d.off("orientationchange.fb resize.fb"),r.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),t.idleInterval&&(c.clearInterval(t.idleInterval),t.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,i){var e,n,o,a,r,s,l,c=this,u=c.group.length;if(!(c.isSliding||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),!(n=c.current?c.current.opts.loop:c.opts.loop)&&(t<0||u<=t))return!1;if(e=c.firstRun=null===c.firstRun,!(u<2&&!e&&c.isSliding)){if(a=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,o=c.createSlide(t),1<u&&((n||0<o.index)&&c.createSlide(t-1),(n||o.index<u-1)&&c.createSlide(t+1)),c.current=o,c.currIndex=o.index,c.currPos=o.pos,c.trigger("beforeShow",e),c.updateControls(),s=m.fancybox.getTranslate(o.$slide),o.isMoved=(0!==s.left||0!==s.top)&&!o.$slide.hasClass("fancybox-animated"),o.forcedDuration=g,m.isNumeric(i)?o.forcedDuration=i:i=o.opts[e?"animationDuration":"transitionDuration"],i=parseInt(i,10),e)return o.opts.animationEffect&&i&&c.$refs.container.css("transition-duration",i+"ms"),c.$refs.container.removeClass("fancybox-is-hidden"),f(c.$refs.container),c.$refs.container.addClass("fancybox-is-open"),o.$slide.addClass("fancybox-slide--current"),c.loadSlide(o),void c.preload();m.each(c.slides,function(t,e){m.fancybox.stop(e.$slide)}),o.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),o.isMoved?(r=Math.round(o.$slide.width()),m.each(c.slides,function(t,e){var n=e.pos-o.pos;m.fancybox.animate(e.$slide,{top:0,left:n*r+n*e.opts.gutter},i,function(){e.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===c.currPos&&(o.isMoved=!1,c.complete())})})):c.$refs.stage.children().removeAttr("style"),o.isLoaded?c.revealContent(o):c.loadSlide(o),c.preload(),a.pos!==o.pos&&(l="fancybox-slide--"+(a.pos>o.pos?"next":"previous"),a.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),a.isComplete=!1,i&&(o.isMoved||o.opts.transitionEffect)&&(o.isMoved?a.$slide.addClass(l):(l="fancybox-animated "+l+" fancybox-fx-"+o.opts.transitionEffect,m.fancybox.animate(a.$slide,l,i,function(){a.$slide.removeClass(l).removeAttr("style")}))))}}},createSlide:function(t){var e,n,i=this;return n=(n=t%i.group.length)<0?i.group.length+n:n,!i.slides[t]&&i.group[n]&&(e=m('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=m.extend(!0,{},i.group[n],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,n){var i,o,a,r,s,l=this,c=l.current,u=c.$content,d=parseInt(c.$slide.width(),10),p=parseInt(c.$slide.height(),10),h=c.width,f=c.height;"image"!=c.type||c.hasError||!u||l.isAnimating||(m.fancybox.stop(u),l.isAnimating=!0,t=t===g?.5*d:t,e=e===g?.5*p:e,r=h/(i=m.fancybox.getTranslate(u)).width,s=f/i.height,o=.5*d-.5*h,a=.5*p-.5*f,d<h&&(0<(o=i.left*r-(t*r-t))&&(o=0),o<d-h&&(o=d-h)),p<f&&(0<(a=i.top*s-(e*s-e))&&(a=0),a<p-f&&(a=p-f)),l.updateCursor(h,f),m.fancybox.animate(u,{top:a,left:o,scaleX:r,scaleY:s},n||330,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,n=this,i=n.current,o=i.$content;"image"!=i.type||i.hasError||!o||n.isAnimating||(m.fancybox.stop(o),n.isAnimating=!0,e=n.getFitPos(i),n.updateCursor(e.width,e.height),m.fancybox.animate(o,{top:e.top,left:e.left,scaleX:e.width/o.width(),scaleY:e.height/o.height()},t||330,function(){n.isAnimating=!1}))},getFitPos:function(t){var e,n,i,o,a,r=this,s=t.$content,l=t.width,c=t.height,u=t.opts.margin;return!(!s||!s.length||!l&&!c)&&("number"===m.type(u)&&(u=[u,u]),2==u.length&&(u=[u[0],u[1],u[0],u[1]]),d.width()<800&&(u=[0,0,0,0]),e=parseInt(r.$refs.stage.width(),10)-(u[1]+u[3]),n=parseInt(r.$refs.stage.height(),10)-(u[0]+u[2]),i=Math.min(1,e/l,n/c),o=Math.floor(i*l),a=Math.floor(i*c),{top:Math.floor(.5*(n-a))+u[0],left:Math.floor(.5*(e-o))+u[3],width:o,height:a})},update:function(){var n=this;m.each(n.slides,function(t,e){n.updateSlide(e)})},updateSlide:function(t){var e=this,n=t.$content;n&&(t.width||t.height)&&(m.fancybox.stop(n),m.fancybox.setTranslate(n,e.getFitPos(t)),t.pos===e.currPos&&e.updateCursor()),t.$slide.trigger("refresh"),e.trigger("onUpdate",t)},updateCursor:function(t,e){var n=this,i=n.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");n.current&&!n.isClosing&&(n.isZoomable()?(i.addClass("fancybox-is-zoomable"),(t!==g&&e!==g?t<n.current.width&&e<n.current.height:n.isScaledDown())?i.addClass("fancybox-can-zoomIn"):n.current.opts.touch?i.addClass("fancybox-can-drag"):i.addClass("fancybox-can-zoomOut")):n.current.opts.touch&&i.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing)return!!("image"===n.type&&n.isLoaded&&!n.hasError&&("zoom"===n.opts.clickContent||m.isFunction(n.opts.clickContent)&&"zoom"===n.opts.clickContent(n))&&(t=e.getFitPos(n),n.width>t.width||n.height>t.height))},isScaledDown:function(){var t=this.current,e=t.$content,n=!1;return e&&(n=(n=m.fancybox.getTranslate(e)).width<t.width||n.height<t.height),n},canPan:function(){var t=this,e=t.current,n=e.$content,i=!1;return n&&(i=t.getFitPos(e),i=1<Math.abs(n.width()-i.width)||1<Math.abs(n.height()-i.height)),i},loadSlide:function(n){var t,e,i,o=this;if(!n.isLoading&&!n.isLoaded){switch(n.isLoading=!0,o.trigger("beforeLoad",n),t=n.type,(e=n.$slide).off("refresh").trigger("onReset").addClass("fancybox-slide--"+(t||"unknown")).addClass(n.opts.slideClass),t){case"image":o.setImage(n);break;case"iframe":o.setIframe(n);break;case"html":o.setContent(n,n.src||n.content);break;case"inline":m(n.src).length?o.setContent(n,m(n.src)):o.setError(n);break;case"ajax":o.showLoading(n),i=m.ajax(m.extend({},n.opts.ajax.settings,{url:n.src,success:function(t,e){"success"===e&&o.setContent(n,t)},error:function(t,e){t&&"abort"!==e&&o.setError(n)}})),e.one("onReset",function(){i.abort()});break;default:o.setError(n)}return!0}},setImage:function(t){var e,n,i,o,a=this,r=t.opts.image.srcset;if(r){i=c.devicePixelRatio||1,o=c.innerWidth*i,(n=r.split(",").map(function(t){var i={};return t.trim().split(/\s+/).forEach(function(t,e){var n=parseInt(t.substring(0,t.length-1),10);return 0===e?i.url=t:void(n&&(i.value=n,i.postfix=t[t.length-1]))}),i})).sort(function(t,e){return t.value-e.value});for(var s=0;s<n.length;s++){var l=n[s];if("w"===l.postfix&&l.value>=o||"x"===l.postfix&&l.value>=i){e=l;break}}!e&&n.length&&(e=n[n.length-1]),e&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value))}t.$content=m('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=m("<img />").one("error",function(){m(this).remove(),t.$ghost=null,a.setBigImage(t)}).one("load",function(){a.afterLoad(t),a.setBigImage(t)}).addClass("fancybox-image").appendTo(t.$content).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):a.setBigImage(t)},setBigImage:function(t){var e=this,n=m("<img />");t.$image=n.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&n.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout(function(){t.timouts=null,t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),n[0].complete?n.trigger("load"):n[0].error?n.trigger("error"):t.timouts=setTimeout(function(){n[0].complete||t.hasError||e.showLoading(t)},100)},setIframe:function(a){var r,t=this,s=a.opts.iframe,e=a.$slide;a.$content=m('<div class="fancybox-content'+(s.preload?" fancybox-is-hidden":"")+'"></div>').css(s.css).appendTo(e),r=m(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(a.$content),s.preload?(t.showLoading(a),r.on("load.fb error.fb",function(){this.isReady=1,a.$slide.trigger("refresh"),t.afterLoad(a)}),e.on("refresh.fb",function(){var t,e,n,i,o=a.$content;if(1===r[0].isReady){try{t=r.contents().find("body")}catch(a){}t&&t.length&&(s.css.width===g||s.css.height===g)&&(e=r[0].contentWindow.document.documentElement.scrollWidth,n=Math.ceil(t.outerWidth(!0)+(o.width()-e)),i=Math.ceil(t.outerHeight(!0)),o.css({width:s.css.width===g?n+(o.outerWidth()-o.innerWidth()):s.css.width,height:s.css.height===g?i+(o.outerHeight()-o.innerHeight()):s.css.height})),o.removeClass("fancybox-is-hidden")}})):this.afterLoad(a),r.attr("src",a.src),!0===a.opts.smallBtn&&a.$content.prepend(t.translate(a,a.opts.btnTpl.smallBtn)),e.one("onReset",function(){try{m(this).find("iframe").hide().attr("src","//about:blank")}catch(a){}m(this).empty(),a.isLoaded=!1})},setContent:function(t,e){var n=this;n.isClosing||(n.hideLoading(t),t.$slide.empty(),i(e)&&e.parent().length?(e.parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=m("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===m.type(e)&&(3===(e=m("<div>").append(m.trim(e)).contents())[0].nodeType&&(e=m("<div>").html(e))),t.opts.filter&&(e=m("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(m(this).empty(),t.isLoaded=!1)}),t.$content=m(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=m(n.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content.filter("div").first())),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("fancybox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=m(e.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&m('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,n,i,o,a,r=this,s=t.$slide,l=!1;return e=t.opts[r.firstRun?"animationEffect":"transitionEffect"],i=t.opts[r.firstRun?"animationDuration":"transitionDuration"],i=parseInt(t.forcedDuration===g?i:t.forcedDuration,10),!t.isMoved&&t.pos===r.currPos&&i||(e=!1),"zoom"!==e||t.pos===r.currPos&&i&&"image"===t.type&&!t.hasError&&(l=r.getThumbPos(t))||(e="fade"),"zoom"===e?((a=r.getFitPos(t)).scaleX=a.width/l.width,a.scaleY=a.height/l.height,delete a.width,delete a.height,"auto"==(o=t.opts.zoomOpacity)&&(o=.1<Math.abs(t.width/t.height-l.width/l.height)),o&&(l.opacity=.1,a.opacity=1),m.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),f(t.$content),void m.fancybox.animate(t.$content,a,i,function(){r.complete()})):(r.updateSlide(t),e?(m.fancybox.stop(s),n="fancybox-animated fancybox-slide--"+(t.pos>r.prevPos?"next":"previous")+" fancybox-fx-"+e,s.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(n),t.$content.removeClass("fancybox-is-hidden"),f(s),void m.fancybox.animate(s,"fancybox-slide--current",i,function(){s.removeClass(n).removeAttr("style"),t.pos===r.currPos&&r.complete()},!0)):(f(s),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===r.currPos&&r.complete())))},getThumbPos:function(t){var e,n=this,i=!1,o=function(t){for(var e=t[0],i=e.getBoundingClientRect(),n=[];null!==e.parentElement;)"hidden"!==m(e.parentElement).css("overflow")&&"auto"!==m(e.parentElement).css("overflow")||n.push(e.parentElement.getBoundingClientRect()),e=e.parentElement;return n.every(function(t){var e=Math.min(i.right,t.right)-Math.max(i.left,t.left),n=Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top);return 0<e&&0<n})&&0<i.bottom&&0<i.right&&i.left<m(c).width()&&i.top<m(c).height()},a=t.opts.$thumb,r=a?a.offset():0;return r&&a[0].ownerDocument===s&&o(a)&&(e=n.$refs.stage.offset(),i={top:r.top-e.top+parseFloat(a.css("border-top-width")||0),left:r.left-e.left+parseFloat(a.css("border-left-width")||0),width:a.width(),height:a.height(),scaleX:1,scaleY:1}),i},complete:function(){var n=this,t=n.current,i={};t.isMoved||!t.isLoaded||t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),f(t.$slide),t.$slide.addClass("fancybox-slide--complete"),m.each(n.slides,function(t,e){e.pos>=n.currPos-1&&e.pos<=n.currPos+1?i[e.pos]=e:e&&(m.fancybox.stop(e.$slide),e.$slide.unbind().remove())}),n.slides=i,n.updateCursor(),n.trigger("afterShow"),(m(s.activeElement).is("[disabled]")||t.opts.autoFocus&&"image"!=t.type&&"iframe"!==t.type)&&n.focus())},preload:function(){var t,e,n=this;n.group.length<2||(t=n.slides[n.currPos+1],e=n.slides[n.currPos-1],t&&"image"===t.type&&n.loadSlide(t),e&&"image"===e.type&&n.loadSlide(e))},focus:function(){var t,e=this.current;this.isClosing||(t=(t=e&&e.isComplete?e.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null)&&t.length?t:this.$refs.container).focus()},activate:function(){var e=this;m(".fancybox-container").each(function(){var t=m(this).data("FancyBox");t&&t.uid!==e.uid&&!t.isClosing&&t.trigger("onDeactivate")}),e.current&&(0<e.$refs.container.index()&&e.$refs.container.prependTo(s.body),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){var n,i,o,a,r,s,l=this,c=l.current,u=function(){l.cleanUp(t)};return!l.isClosing&&(!(l.isClosing=!0)===l.trigger("beforeClose",t)?(l.isClosing=!1,p(function(){l.update()}),!1):(l.removeEvents(),c.timouts&&clearTimeout(c.timouts),o=c.$content,n=c.opts.animationEffect,i=m.isNumeric(e)?e:n?c.opts.animationDuration:0,c.$slide.off(h).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),c.$slide.siblings().trigger("onReset").remove(),i&&l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),l.hideLoading(c),l.hideControls(),l.updateCursor(),"zoom"!==n||!0!==t&&o&&i&&"image"===c.type&&!c.hasError&&(s=l.getThumbPos(c))||(n="fade"),"zoom"===n?(m.fancybox.stop(o),(r=m.fancybox.getTranslate(o)).width=r.width*r.scaleX,r.height=r.height*r.scaleY,"auto"==(a=c.opts.zoomOpacity)&&(a=.1<Math.abs(c.width/c.height-s.width/s.height)),a&&(s.opacity=0),r.scaleX=r.width/s.width,r.scaleY=r.height/s.height,r.width=s.width,r.height=s.height,m.fancybox.setTranslate(c.$content,r),m.fancybox.animate(c.$content,s,i,u)):n&&i?!0===t?setTimeout(u,i):m.fancybox.animate(c.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+n,i,u):u(),!0))},cleanUp:function(t){var e,n=this;n.current.$slide.trigger("onReset"),n.$refs.container.empty().remove(),n.trigger("afterClose",t),n.$lastFocus&&n.current.opts.backFocus&&n.$lastFocus.focus(),n.current=null,(e=m.fancybox.getInstance())?e.activate():(d.scrollTop(n.scrollTop).scrollLeft(n.scrollLeft),m("html").removeClass("fancybox-enabled"),m("#fancybox-style-noscroll").remove())},trigger:function(t,e){var n,i=Array.prototype.slice.call(arguments,1),o=this,a=e&&e.opts?e:o.current;return a?i.unshift(a):a=o,i.unshift(o),m.isFunction(a.opts[t])&&(n=a.opts[t].apply(a,i)),!1===n?n:void("afterClose"===t?r.trigger(t+".fb",i):o.$refs.container.trigger(t+".fb",i))},updateControls:function(){var t=this,e=t.current,n=e.index,i=e.opts,o=i.caption,a=t.$refs.caption;e.$slide.trigger("refresh"),t.$caption=o&&o.length?a.html(o):null,t.isHiddenControls||t.showControls(),m("[data-fancybox-count]").html(t.group.length),m("[data-fancybox-index]").html(n+1),m("[data-fancybox-prev]").prop("disabled",!i.loop&&n<=0),m("[data-fancybox-next]").prop("disabled",!i.loop&&n>=t.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),m.fancybox={version:"3.1.25",defaults:o,getInstance:function(t){var e=m('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return e instanceof l&&("string"===m.type(t)?e[t].apply(e,n):"function"===m.type(t)&&t.apply(e,n),e)},open:function(t,e,n){return new l(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),r.off("click.fb-start")},isMobile:s.createTouch!==g&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(t=s.createElement("div"),c.getComputedStyle&&c.getComputedStyle(t).getPropertyValue("transform")&&!(s.documentMode&&s.documentMode<11)),getTranslate:function(t){var e;if(!t||!t.length)return!1;if((e=t.eq(0).css("transform"))&&-1!==e.indexOf("matrix")?e=(e=(e=e.split("(")[1]).split(")")[0]).split(","):e=[],e.length)e=(e=10<e.length?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]]).map(parseFloat);else{e=[0,0,1,1];var n=/\.*translate\((.*)px,(.*)px\)/i.exec(t.eq(0).attr("style"));n&&(e[0]=parseFloat(n[2]),e[1]=parseFloat(n[1]))}return{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()}},setTranslate:function(t,e){var n="",i={};if(t&&e)return e.left===g&&e.top===g||(n=(e.left===g?t.position().left:e.left)+"px, "+(e.top===g?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==g&&e.scaleY!==g&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),e.opacity!==g&&(i.opacity=e.opacity),e.width!==g&&(i.width=e.width),e.height!==g&&(i.height=e.height),t.css(i)},animate:function(e,n,t,i,o){var a=h||"transitionend";m.isFunction(t)&&(i=t,t=null),m.isPlainObject(n)||e.removeAttr("style"),e.on(a,function(t){(!t||!t.originalEvent||e.is(t.originalEvent.target)&&"z-index"!=t.originalEvent.propertyName)&&(e.off(a),m.isPlainObject(n)?n.scaleX!==g&&n.scaleY!==g&&(e.css("transition-duration","0ms"),n.width=Math.round(e.width()*n.scaleX),n.height=Math.round(e.height()*n.scaleY),n.scaleX=1,n.scaleY=1,m.fancybox.setTranslate(e,n)):!0!==o&&e.removeClass(n),m.isFunction(i)&&i(t))}),m.isNumeric(t)&&e.css("transition-duration",t+"ms"),m.isPlainObject(n)?m.fancybox.setTranslate(e,n):e.addClass(n),e.data("timer",setTimeout(function(){e.trigger("transitionend")},t+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(h)}},m.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?m("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},n):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},n),this},r.on("click.fb-start","[data-fancybox]",n)}var t}(window,document,window.jQuery||jQuery),function(h){"use strict";var f=function(n,t,e){if(n)return e=e||"","object"===h.type(e)&&(e=h.param(e,!0)),h.each(t,function(t,e){n=n.replace("$"+t,e||"")}),e.length&&(n+=(0<n.indexOf("?")?"&":"?")+e),n},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};h(document).on("onInit.fb",function(t,e){h.each(e.group,function(t,o){var e,a,r,s,l,c,u,d=o.src||"",p=!1;o.type||(e=h.extend(!0,{},n,o.opts.media),h.each(e,function(t,e){if(r=d.match(e.matcher),c={},u=t,r){if(p=e.type,e.paramPlace&&r[e.paramPlace]){"?"==(l=r[e.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var n=0;n<l.length;++n){var i=l[n].split("=",2);2==i.length&&(c[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return s=h.extend(!0,{},e.params,o.opts[t],c),d="function"===h.type(e.url)?e.url.call(this,r,s,o):f(e.url,r,s),a="function"===h.type(e.thumb)?e.thumb.call(this,r,s,o):f(e.thumb,r),"vimeo"===u&&(d=d.replace("&%23","#")),!1}}),p?(o.src=d,o.type=p,o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=a),"iframe"===p&&(h.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),o.contentProvider=u,o.opts.slideClass+=" fancybox-slide--"+("gmap_place"==u||"gmap_search"==u?"map":"video"))):o.type="image")})})}(window.jQuery),function(f,s,m){"use strict";var g=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||function(t){return f.setTimeout(t,1e3/60)},v=f.cancelAnimationFrame||f.webkitCancelAnimationFrame||f.mozCancelAnimationFrame||f.oCancelAnimationFrame||function(t){f.clearTimeout(t)},u=function(t){var e=[];for(var n in t=(t=t.originalEvent||t||f.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[n].pageX?e.push({x:t[n].pageX,y:t[n].pageY}):t[n].clientX&&e.push({x:t[n].clientX,y:t[n].clientY});return e},y=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},l=function(t){if(t.is("a,button,input,select,textarea")||m.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,n=t[0].attributes,i=n.length;e<i;e++)if("data-fancybox-"===n[e].nodeName.substr(0,14))return!0;return!1},n=function(t){var e=f.getComputedStyle(t)["overflow-y"],n=f.getComputedStyle(t)["overflow-x"],i=("scroll"===e||"auto"===e)&&t.scrollHeight>t.clientHeight,o=("scroll"===n||"auto"===n)&&t.scrollWidth>t.clientWidth;return i||o},c=function(t){for(var e=!1;!(e=n(t.get(0)))&&((t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body")););return e},i=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",m.proxy(e,"ontouchstart"))};i.prototype.destroy=function(){this.$container.off(".fb.touch")},i.prototype.ontouchstart=function(t){var e=this,n=m(t.target),i=e.instance,o=i.current,a=o.$content,r="touchstart"==t.type;if(r&&e.$container.off("mousedown.fb.touch"),!o||e.instance.isAnimating||e.instance.isClosing)return t.stopPropagation(),void t.preventDefault();if((!t.originalEvent||2!=t.originalEvent.button)&&n.length&&!l(n)&&!l(n.parent())&&!(t.originalEvent.clientX>n[0].clientWidth+n.offset().left)&&(e.startPoints=u(t),e.startPoints&&!(1<e.startPoints.length&&i.isSliding))){if(e.$target=n,e.$content=a,e.canTap=!0,m(s).off(".fb.touch"),m(s).on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",m.proxy(e,"ontouchend")),m(s).on(r?"touchmove.fb.touch":"mousemove.fb.touch",m.proxy(e,"ontouchmove")),!i.current.opts.touch&&!i.canPan()||!n.is(e.$stage)&&!e.$stage.find(n).length)return void(n.is("img")&&t.preventDefault());t.stopPropagation(),m.fancybox.isMobile&&(c(e.$target)||c(e.$target.parent()))||t.preventDefault(),e.canvasWidth=Math.round(o.$slide[0].clientWidth),e.canvasHeight=Math.round(o.$slide[0].clientHeight),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.sliderStartPos=e.sliderLastPos||{top:0,left:0},e.contentStartPos=m.fancybox.getTranslate(e.$content),e.contentLastPos=null,1!==e.startPoints.length||e.isZooming||(e.canTap=!i.isSliding,"image"===o.type&&(e.contentStartPos.width>e.canvasWidth+1||e.contentStartPos.height>e.canvasHeight+1)?(m.fancybox.stop(e.$content),e.$content.css("transition-duration","0ms"),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-controls--isGrabbing")),2!==e.startPoints.length||i.isAnimating||o.hasError||"image"!==o.type||!o.isLoaded&&!o.$ghost||(e.isZooming=!0,e.isSwiping=!1,e.isPanning=!1,m.fancybox.stop(e.$content),e.$content.css("transition-duration","0ms"),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-m(f).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-m(f).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=y(e.startPoints[0],e.startPoints[1]))}},i.prototype.ontouchmove=function(t){var e=this;if(e.newPoints=u(t),m.fancybox.isMobile&&(c(e.$target)||c(e.$target.parent())))return t.stopPropagation(),void(e.canTap=!1);if((e.instance.current.opts.touch||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.distanceX=y(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=y(e.newPoints[0],e.startPoints[0],"y"),e.distance=y(e.newPoints[0],e.startPoints[0]),0<e.distance)){if(!e.$target.is(e.$stage)&&!e.$stage.find(e.$target).length)return;t.stopPropagation(),t.preventDefault(),e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()}},i.prototype.onSwipe=function(){var t,i=this,e=i.isSwiping,n=i.sliderStartPos.left||0;!0===e?10<Math.abs(i.distance)&&(i.canTap=!1,i.instance.group.length<2&&i.instance.opts.touch.vertical?i.isSwiping="y":i.instance.isSliding||!1===i.instance.opts.touch.vertical||"auto"===i.instance.opts.touch.vertical&&800<m(f).width()?i.isSwiping="x":(t=Math.abs(180*Math.atan2(i.distanceY,i.distanceX)/Math.PI),i.isSwiping=45<t&&t<135?"y":"x"),i.instance.isSliding=i.isSwiping,i.startPoints=i.newPoints,m.each(i.instance.slides,function(t,e){m.fancybox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===i.instance.current.pos&&(i.sliderStartPos.left=m.fancybox.getTranslate(e.$slide).left)}),i.instance.SlideShow&&i.instance.SlideShow.isActive&&i.instance.SlideShow.stop()):("x"==e&&(0<i.distanceX&&(i.instance.group.length<2||0===i.instance.current.index&&!i.instance.current.opts.loop)?n+=Math.pow(i.distanceX,.8):i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)?n-=Math.pow(-i.distanceX,.8):n+=i.distanceX),i.sliderLastPos={top:"x"==e?0:i.sliderStartPos.top+i.distanceY,left:n},i.requestId&&(v(i.requestId),i.requestId=null),i.requestId=g(function(){i.sliderLastPos&&(m.each(i.instance.slides,function(t,e){var n=e.pos-i.instance.currPos;m.fancybox.setTranslate(e.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+n*i.canvasWidth+n*e.opts.gutter})}),i.$container.addClass("fancybox-is-sliding"))}))},i.prototype.onPan=function(){var t,e,n,i=this;i.canTap=!1,t=i.contentStartPos.width>i.canvasWidth?i.contentStartPos.left+i.distanceX:i.contentStartPos.left,e=i.contentStartPos.top+i.distanceY,(n=i.limitMovement(t,e,i.contentStartPos.width,i.contentStartPos.height)).scaleX=i.contentStartPos.scaleX,n.scaleY=i.contentStartPos.scaleY,i.contentLastPos=n,i.requestId&&(v(i.requestId),i.requestId=null),i.requestId=g(function(){m.fancybox.setTranslate(i.$content,i.contentLastPos)})},i.prototype.limitMovement=function(t,e,n,i){var o,a,r,s,l=this,c=l.canvasWidth,u=l.canvasHeight,d=l.contentStartPos.left,p=l.contentStartPos.top,h=l.distanceX,f=l.distanceY;return o=Math.max(0,.5*c-.5*n),a=Math.max(0,.5*u-.5*i),r=Math.min(c-n,.5*c-.5*n),s=Math.min(u-i,.5*u-.5*i),c<n&&(0<h&&o<t&&(t=o-1+Math.pow(-o+d+h,.8)||0),h<0&&t<r&&(t=r+1-Math.pow(r-d-h,.8)||0)),u<i&&(0<f&&a<e&&(e=a-1+Math.pow(-a+p+f,.8)||0),f<0&&e<s&&(e=s+1-Math.pow(s-p-f,.8)||0)),{top:e,left:t}},
i.prototype.limitPosition=function(t,e,n,i){var o=this,a=o.canvasWidth,r=o.canvasHeight;return a<n?t=(t=0<t?0:t)<a-n?a-n:t:t=Math.max(0,a/2-n/2),r<i?e=(e=0<e?0:e)<r-i?r-i:e:e=Math.max(0,r/2-i/2),{top:e,left:t}},i.prototype.onZoom=function(){var t=this,e=t.contentStartPos.width,n=t.contentStartPos.height,i=t.contentStartPos.left,o=t.contentStartPos.top,a=y(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,r=Math.floor(e*a),s=Math.floor(n*a),l=(e-r)*t.percentageOfImageAtPinchPointX,c=(n-s)*t.percentageOfImageAtPinchPointY,u=(t.newPoints[0].x+t.newPoints[1].x)/2-m(f).scrollLeft(),d=(t.newPoints[0].y+t.newPoints[1].y)/2-m(f).scrollTop(),p=u-t.centerPointStartX,h={top:o+(c+(d-t.centerPointStartY)),left:i+(l+p),scaleX:t.contentStartPos.scaleX*a,scaleY:t.contentStartPos.scaleY*a};t.canTap=!1,t.newWidth=r,t.newHeight=s,t.contentLastPos=h,t.requestId&&(v(t.requestId),t.requestId=null),t.requestId=g(function(){m.fancybox.setTranslate(t.$content,t.contentLastPos)})},i.prototype.ontouchend=function(t){var e=this,n=Math.max((new Date).getTime()-e.startTime,1),i=e.isSwiping,o=e.isPanning,a=e.isZooming;return e.endPoints=u(t),e.$container.removeClass("fancybox-controls--isGrabbing"),m(s).off(".fb.touch"),e.requestId&&(v(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.canTap?e.onTap(t):(e.speed=366,e.velocityX=e.distanceX/n*.5,e.velocityY=e.distanceY/n*.5,e.speedX=Math.max(.5*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityX)*e.speed)),void(o?e.endPanning():a?e.endZooming():e.endSwiping(i)))},i.prototype.endSwiping=function(t){var e=this,n=!1;e.instance.isSliding=!1,e.sliderLastPos=null,"y"==t&&50<Math.abs(e.distanceY)?(m.fancybox.animate(e.instance.current.$slide,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,opacity:0},150),n=e.instance.close(!0,300)):"x"==t&&50<e.distanceX&&1<e.instance.group.length?n=e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50&&1<e.instance.group.length&&(n=e.instance.next(e.speedX)),!1!==n||"x"!=t&&"y"!=t||e.instance.jumpTo(e.instance.current.index,150),e.$container.removeClass("fancybox-is-sliding")},i.prototype.endPanning=function(){var t,e,n,i=this;i.contentLastPos&&(!1===i.instance.current.opts.touch.momentum?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+i.velocityX*i.speed,e=i.contentLastPos.top+i.velocityY*i.speed),(n=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,n.height=i.contentStartPos.height,m.fancybox.animate(i.$content,n,330))},i.prototype.endZooming=function(){var t,e,n,i,o=this,a=o.instance.current,r=o.newWidth,s=o.newHeight;o.contentLastPos&&(t=o.contentLastPos.left,i={top:e=o.contentLastPos.top,left:t,width:r,height:s,scaleX:1,scaleY:1},m.fancybox.setTranslate(o.$content,i),r<o.canvasWidth&&s<o.canvasHeight?o.instance.scaleToFit(150):r>a.width||s>a.height?o.instance.scaleToActual(o.centerPointStartX,o.centerPointStartY,150):(n=o.limitPosition(t,e,r,s),m.fancybox.setTranslate(o.content,m.fancybox.getTranslate(o.$content)),m.fancybox.animate(o.$content,n,150)))},i.prototype.onTap=function(n){var t,i=this,e=m(n.target),o=i.instance,a=o.current,r=n&&u(n)||i.startPoints,s=r[0]?r[0].x-i.$stage.offset().left:0,l=r[0]?r[0].y-i.$stage.offset().top:0,c=function(t){var e=a.opts[t];if(m.isFunction(e)&&(e=e.apply(o,[a,n])),e)switch(e){case"close":o.close(i.startEvent);break;case"toggleControls":o.toggleControls(!0);break;case"next":o.next();break;case"nextOrClose":1<o.group.length?o.next():o.close(i.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(o.canPan()?o.scaleToFit():o.isScaledDown()?o.scaleToActual(s,l):o.group.length<2&&o.close(i.startEvent))}};if(!(n.originalEvent&&2==n.originalEvent.button||o.isSliding||s>e[0].clientWidth+e.offset().left)){if(e.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))t="Outside";else if(e.is(".fancybox-slide"))t="Slide";else{if(!o.current.$content||!o.current.$content.has(n.target).length)return;t="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,50<Math.abs(s-i.tapX)||50<Math.abs(l-i.tapY)||o.isSliding)return this;c("dblclick"+t)}else i.tapX=s,i.tapY=l,a.opts["dblclick"+t]&&a.opts["dblclick"+t]!==a.opts["click"+t]?i.tapped=setTimeout(function(){i.tapped=null,c("click"+t)},300):c("click"+t);return this}},m(s).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new i(e))}),m(s).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,window.jQuery),function(r,s){"use strict";var n=function(t){this.instance=t,this.init()};s.extend(n.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,e=t.instance.current;t.instance&&e&&(e.opts.loop||e.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),e.isComplete&&t.set())},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),s(r).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,i){var o=e&&e.SlideShow;i?o&&n.opts.slideShow.autoStart&&o.start():o&&o.isActive&&o.clear()},"afterShow.fb":function(t,e){var n=e&&e.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.fb":function(t,e,n,i,o){var a=e&&e.SlideShow;!a||!n.opts.slideShow||80!==o&&32!==o||s(r.activeElement).is("button,a,input")||(i.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),s(r).on("visibilitychange",function(){var t=s.fancybox.getInstance(),e=t&&t.SlideShow;e&&e.isActive&&(r.hidden?e.clear():e.set())})}(document,window.jQuery),function(a,e){"use strict";var n=function(){var t,e,n,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o={};for(e=0;e<i.length;e++)if((t=i[e])&&t[1]in a){for(n=0;n<t.length;n++)o[i[0][n]]=t[n];return o}return!1}();if(n){var o={request:function(t){(t=t||a.documentElement)[n.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){a[n.exitFullscreen]()},toggle:function(t){t=t||a.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(a[n.fullscreenElement])},enabled:function(){return Boolean(a[n.fullscreenEnabled])}};e(a).on({"onInit.fb":function(t,e){var n,i=e.$refs.toolbar.find("[data-fancybox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?((n=e.$refs.container).on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle(n[0])}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(n[0]),e.FullScreen=o):i.hide()},"afterKeydown.fb":function(t,e,n,i,o){e&&e.FullScreen&&70===o&&(i.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.fb":function(t){t&&t.FullScreen&&o.exit()}}),e(a).on(n.fullscreenchange,function(){var t=e.fancybox.getInstance();t.current&&"image"===t.current.type&&t.isAnimating&&(t.current.$content.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0)),t.trigger("onFullscreenChange",o.isFullscreen())})}else e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1)}(document,window.jQuery),function(t,s){"use strict";var n=function(t){this.instance=t,this.init()};s.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this,e=t.instance.group[0],n=t.instance.group[1];t.$button=t.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),1<t.instance.group.length&&t.instance.group[t.instance.currIndex].opts.thumbs&&("image"==e.type||e.opts.thumb||e.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(t.$button.on("click",function(){t.toggle()}),t.isActive=!0):(t.$button.hide(),t.isActive=!1)},create:function(){var n,i,t=this.instance;this.$grid=s('<div class="fancybox-thumbs"></div>').appendTo(t.$refs.container),n="<ul>",s.each(t.group,function(t,e){(i=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null))||"image"!==e.type||(i=e.src),i&&i.length&&(n+='<li data-index="'+t+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+i+'" /></li>')}),n+="</ul>",this.$list=s(n).appendTo(this.$grid).on("click","li",function(){t.jumpTo(s(this).data("index"))}),this.$list.find("img").hide().one("load",function(){var t,e,n,i,o=s(this).parent().removeClass("fancybox-thumbs-loading"),a=o.outerWidth(),r=o.outerHeight();t=this.naturalWidth||this.width,i=(e=this.naturalHeight||this.height)/r,1<=(n=t/a)&&1<=i&&(i<n?(t/=i,e=r):(t=a,e/=n)),s(this).css({width:Math.floor(t),height:Math.floor(e),"margin-top":Math.min(0,Math.floor(.3*r-.3*e)),"margin-left":Math.min(0,Math.floor(.5*a-.5*t))}).show()}).each(function(){this.src=s(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),s(t).on({"onInit.fb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new n(e))},"beforeShow.fb":function(t,e,n,i){var o=e&&e.Thumbs;if(o&&o.isActive){if(n.modal)return o.$button.hide(),void o.hide();i&&!0===e.opts.thumbs.autoStart&&o.show(),o.isVisible&&o.focus()}},"afterKeydown.fb":function(t,e,n,i,o){var a=e&&e.Thumbs;a&&a.isActive&&71===o&&(i.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==e.opts.thumbs.hideOnClose&&n.close()}})}(document,window.jQuery),function(a,r,s){"use strict";function o(){var t=r.location.hash.substr(1),e=t.split("-"),n=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return n<1&&(n=1),{hash:t,index:n,gallery:e.join("-")}}function e(t){var e;""!==t.gallery&&((e=s("[data-fancybox='"+s.escapeSelector(t.gallery)+"']").eq(t.index-1)).length||(e=s("#"+s.escapeSelector(t.gallery))),e.length&&(c=!1,e.trigger("click")))}function l(t){var e;return!!t&&((e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox"):""))}s.escapeSelector||(s.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,n)});var c=!0,u=null,d=null;s(function(){setTimeout(function(){!1!==s.fancybox.defaults.hash&&(s(a).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=l(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(t,e,n){var i;n&&!1!==n.opts.hash&&((i=l(e))&&""!==i&&(r.location.hash.indexOf(i)<0&&(e.opts.origHash=r.location.hash),u=i+(1<e.group.length?"-"+(n.index+1):""),"replaceState"in r.history?(d&&clearTimeout(d),d=setTimeout(function(){r.history[c?"pushState":"replaceState"]({},a.title,r.location.pathname+r.location.search+"#"+u),d=null,c=!1},300)):r.location.hash=u))},"beforeClose.fb":function(t,e,n){var i,o;d&&clearTimeout(d),!1!==n.opts.hash&&(i=l(e),o=e&&e.opts.origHash?e.opts.origHash:"",i&&""!==i&&("replaceState"in history?r.history.replaceState({},a.title,r.location.pathname+r.location.search+o):(r.location.hash=o,s(r).scrollTop(e.scrollTop).scrollLeft(e.scrollLeft))),u=null)}}),s(r).on("hashchange.fb",function(){var t=o();s.fancybox.getInstance()?!u||u===t.gallery+"-"+t.index||1===t.index&&u==t.gallery||(u=null,s.fancybox.close()):""!==t.gallery&&e(t)}),e(o()))},50)})}(document,window,window.jQuery),function(t){var I=t(window);t.fn.visible=function(t,e,n){if(!(this.length<1)){var i=1<this.length?this.eq(0):this,o=i.get(0),a=I.width(),r=I.height(),s=(n=n||"both",!0!==e||o.offsetWidth*o.offsetHeight);if("function"==typeof o.getBoundingClientRect){var l=o.getBoundingClientRect(),c=0<=l.top&&l.top<r,u=0<l.bottom&&l.bottom<=r,d=0<=l.left&&l.left<a,p=0<l.right&&l.right<=a,h=t?c||u:c&&u,f=t?d||p:d&&p;if("both"===n)return s&&h&&f;if("vertical"===n)return s&&h;if("horizontal"===n)return s&&f}else{var m=I.scrollTop(),g=m+r,v=I.scrollLeft(),y=v+a,b=i.offset(),w=b.top,x=w+i.height(),C=b.left,S=C+i.width(),_=!0===t?x:w,$=!0===t?w:x,T=!0===t?S:C,k=!0===t?C:S;if("both"===n)return!!s&&$<=g&&m<=_&&k<=y&&v<=T;if("vertical"===n)return!!s&&$<=g&&m<=_;if("horizontal"===n)return!!s&&k<=y&&v<=T}}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=s(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,o,a=[],r=t.split(/ +/);for(e=0,n=r.length;e<n;e++){if(i=l(r[e]),this.settings.diacritics)for(o in c)c.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),c[o]));a.push({string:r[e],regex:new RegExp(i,"i")})}return a},t.prototype.iterator=function(t,e){(r(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var o,a,r,s;t=this.prepareSearch(t,e),a=t.tokens,o=t.options.fields,r=a.length,s=t.options.nesting;var l,c=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},u=(l=o.length)?1===l?function(t,e){return c(f(e,o[0],s),t)}:function(t,e){for(var n=0,i=0;n<l;n++)i+=c(f(e,o[n],s),t);return i/l}:function(){return 0};return r?1===r?function(t){return u(a[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<r;n++){if((e=u(a[n],t))<=0)return 0;i+=e}return i/r}:function(t){for(var e=0,n=0;e<r;e++)n+=u(a[e],t);return n/r}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var e,i,o,a,r,s,l,c,u,d,p;if(p=!(t=(o=this).prepareSearch(t,n)).query&&n.sort_empty||n.sort,u=function(t,e){return"$score"===t?e.score:f(o.items[e.id],t,n.nesting)},r=[],p)for(e=0,i=p.length;e<i;e++)(t.query||"$score"!==p[e].field)&&r.push(p[e]);if(t.query){for(d=!0,e=0,i=r.length;e<i;e++)if("$score"===r[e].field){d=!1;break}d&&r.unshift({field:"$score",direction:"desc"})}else for(e=0,i=r.length;e<i;e++)if("$score"===r[e].field){r.splice(e,1);break}for(c=[],e=0,i=r.length;e<i;e++)c.push("desc"===r[e].direction?-1:1);return(s=r.length)?1===s?(a=r[0].field,l=c[0],function(t,e){return l*h(u(a,t),u(a,e))}):function(t,e){var n,i,o;for(n=0;n<s;n++)if(o=r[n].field,i=c[n]*h(u(o,t),u(o,e)))return i;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var n=(e=a({},e)).fields,i=e.sort,o=e.sort_empty;return n&&!r(n)&&(e.fields=[n]),i&&!r(i)&&(e.sort=[i]),o&&!r(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,n){var i,o,e,a,r=this;return o=this.prepareSearch(t,n),n=o.options,t=o.query,a=n.score||r.getScoreFunction(o),t.length?r.iterator(r.items,function(t,e){i=a(t),(!1===n.filter||0<i)&&o.items.push({score:i,id:e})}):r.iterator(r.items,function(t,e){o.items.push({score:1,id:e})}),(e=r.getSortFunction(o,n))&&o.items.sort(e),o.total=o.items.length,"number"==typeof n.limit&&(o.items=o.items.slice(0,n.limit)),o};var h=function(t,e){return"number"==typeof t&&"number"==typeof e||(t=n(String(t||"")),e=n(String(e||""))),e<t?1:t<e?-1:0},a=function(t){var e,n,i,o;for(e=1,n=arguments.length;e<n;e++)if(o=arguments[e])for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i]);return t},f=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},s=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},l=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},n=function(){var t,e,n,i,o="",a={};for(n in c)if(c.hasOwnProperty(n))for(o+=i=c[n].substring(2,c[n].length-1),t=0,e=i.length;t<e;t++)a[i.charAt(t)]=n;var r=new RegExp("["+o+"]","g");return function(t){return t.replace(r,function(t){return a[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(o){o.plugins={},o.prototype.initializePlugins=function(t){var e,n,i,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},r.isArray(t))for(e=0,n=t.length;e<n;e++)"string"==typeof t[e]?a.push(t[e]):(o.plugins.settings[t[e].name]=t[e].options,a.push(t[e].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(o.plugins.settings[i]=t[i],a.push(i));for(;a.length;)o.require(a.shift())},o.prototype.loadPlugin=function(t){var e=this,n=e.plugins,i=o.plugins[t];if(!o.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=i.fn.apply(e,[e.plugins.settings[t]||{}]),n.names.push(t)},o.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},o.define=function(t,e){o.plugins[t]={name:t,fn:e}}}},r={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(C,l,t){"use strict";var S=function(t,e){if("string"!=typeof e||e.length){var l="string"==typeof e?new RegExp(e,"i"):e,c=function(t){var e=0;if(3===t.nodeType){var n=t.data.search(l);if(0<=n&&0<t.data.length){var i=t.data.match(l),o=document.createElement("span");o.className="highlight";var a=t.splitText(n),r=(a.splitText(i[0].length),a.cloneNode(!0));o.appendChild(r),a.parentNode.replaceChild(o,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var s=0;s<t.childNodes.length;++s)s+=c(t.childNodes[s]);return e};return t.each(function(){c(this)})}};C.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var i=function(){};i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var e,n,v=/Mac/.test(navigator.userAgent),y=v?91:17,b=v?18:17,w=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(t){return void 0!==t},_=function(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""},u=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},o={before:function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},after:function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}}},d=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},p=function(n,i){var o;return function(){var t=this,e=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(t,e)},i)}},a=function(n,i,t){var e,o=n.trigger,a={};for(e in n.trigger=function(t){var e=t;if(-1===i.indexOf(e))return o.apply(n,arguments);a[e]=arguments},t.apply(n,[]),n.trigger=o,a)a.hasOwnProperty(e)&&o.apply(n,a[e])},x=function(n,t,e,i){n.on(t,e,function(t){for(var e=t.target;e&&e.parentNode!==n[0];)e=e.parentNode;return t.currentTarget=e,i.apply(this,[t])})},h=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},r=function(t,e,n){var i,o,a={};if(n)for(i=0,o=n.length;i<o;i++)a[n[i]]=t.css(n[i]);else a=t.css();e.css(a)},f=function(t,e){return t?(k.$testInput||(k.$testInput=C("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),k.$testInput.text(t),r(e,k.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),k.$testInput.width()):0},$=function(u){var d=null,t=function(t,e){var n,i,o,a,r,s,l,c;e=e||{},(t=t||window.event||{}).metaKey||t.altKey||(e.force||!1!==u.data("grow"))&&(n=u.val(),t.type&&"keydown"===t.type.toLowerCase()&&(o=48<=(i=t.keyCode)&&i<=57||65<=i&&i<=90||96<=i&&i<=111||186<=i&&i<=222||32===i,46===i||8===i?(c=h(u[0])).length?n=n.substring(0,c.start)+n.substring(c.start+c.length):8===i&&c.start?n=n.substring(0,c.start-1)+n.substring(c.start+1):46===i&&void 0!==c.start&&(n=n.substring(0,c.start)+n.substring(c.start+1)):o&&(s=t.shiftKey,l=String.fromCharCode(t.keyCode),n+=l=s?l.toUpperCase():l.toLowerCase())),a=u.attr("placeholder"),!n&&a&&(n=a),(r=f(n,u)+4)!==d&&(d=r,u.width(r),u.triggerHandler("resize")))};u.on("keydown keyup update blur",t),t()},T=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},k=function(t,e){var n,i,o,a,r=this;(a=t[0]).selectize=r;var s=window.getComputedStyle&&window.getComputedStyle(a,null);if(o=(o=s?s.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",C.extend(r,{order:0,settings:e,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++k.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?r.onSearchChange:p(r.onSearchChange,e.loadThrottle)}),r.sifter=new l(this.options,{diacritics:e.diacritics}),r.settings.options){for(n=0,i=r.settings.options.length;n<i;n++)r.registerOption(r.settings.options[n]);delete r.settings.options}if(r.settings.optgroups){for(n=0,i=r.settings.optgroups.length;n<i;n++)r.registerOptionGroup(r.settings.optgroups[n]);delete r.settings.optgroups}r.settings.mode=r.settings.mode||(1===r.settings.maxItems?"single":"multi"),"boolean"!=typeof r.settings.hideSelected&&(r.settings.hideSelected="multi"===r.settings.mode),r.initializePlugins(r.settings.plugins),r.setupCallbacks(),r.setupTemplates(),r.setup()};return i.mixin(k),void 0!==t?t.mixin(k):(e="Dependency MicroPlugin is missing",(n={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||(n={}),console.error("Selectize: "+e),n.explanation&&(console.group&&console.group(),console.error(n.explanation),console.group&&console.groupEnd())),C.extend(k.prototype,{setup:function(){var t,e,n,i,o,a,r,s,l,c,u=this,d=u.settings,p=u.eventNS,h=C(window),f=C(document),m=u.$input;if(r=u.settings.mode,s=m.attr("class")||"",t=C("<div>").addClass(d.wrapperClass).addClass(s).addClass(r),e=C("<div>").addClass(d.inputClass).addClass("items").appendTo(t),n=C('<input type="text" autocomplete="off" />').appendTo(e).attr("tabindex",m.is(":disabled")?"-1":u.tabIndex),a=C(d.dropdownParent||t),i=C("<div>").addClass(d.dropdownClass).addClass(r).hide().appendTo(a),o=C("<div>").addClass(d.dropdownContentClass).appendTo(i),(c=m.attr("id"))&&(n.attr("id",c+"-selectized"),C("label[for='"+c+"']").attr("for",c+"-selectized")),u.settings.copyClassesToDropdown&&i.addClass(s),t.css({width:m[0].style.width}),u.plugins.names.length&&(l="plugin-"+u.plugins.names.join(" plugin-"),t.addClass(l),i.addClass(l)),(null===d.maxItems||1<d.maxItems)&&1===u.tagType&&m.attr("multiple","multiple"),u.settings.placeholder&&n.attr("placeholder",d.placeholder),!u.settings.splitOn&&u.settings.delimiter){var g=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+g+"+\\s*")}m.attr("autocorrect")&&n.attr("autocorrect",m.attr("autocorrect")),m.attr("autocapitalize")&&n.attr("autocapitalize",m.attr("autocapitalize")),n[0].type=m[0].type,u.$wrapper=t,u.$control=e,u.$control_input=n,u.$dropdown=i,u.$dropdown_content=o,i.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(t){t.stopImmediatePropagation()}),i.on("mouseenter","[data-selectable]",function(){return u.onOptionHover.apply(u,arguments)}),i.on("mousedown click","[data-selectable]",function(){return u.onOptionSelect.apply(u,arguments)}),x(e,"mousedown","*:not(input)",function(){return u.onItemSelect.apply(u,arguments)}),$(n),e.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),n.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keyup:function(){return u.onKeyUp.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},blur:function(){return u.onBlur.apply(u,arguments)},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),f.on("keydown"+p,function(t){u.isCmdDown=t[v?"metaKey":"ctrlKey"],u.isCtrlDown=t[v?"altKey":"ctrlKey"],u.isShiftDown=t.shiftKey}),f.on("keyup"+p,function(t){t.keyCode===b&&(u.isCtrlDown=!1),16===t.keyCode&&(u.isShiftDown=!1),t.keyCode===y&&(u.isCmdDown=!1)}),f.on("mousedown"+p,function(t){if(u.isFocused){if(t.target===u.$dropdown[0]||t.target.parentNode===u.$dropdown[0])return!1;u.$control.has(t.target).length||t.target===u.$control[0]||u.blur(t.target)}}),h.on(["scroll"+p,"resize"+p].join(" "),function(){u.isOpen&&u.positionDropdown.apply(u,arguments)}),h.on("mousemove"+p,function(){u.ignoreHover=!1}),this.revertSettings={$children:m.children().detach(),tabindex:m.attr("tabindex")},m.attr("tabindex",-1).hide().after(u.$wrapper),C.isArray(d.items)&&(u.setValue(d.items),delete d.items),w&&m.on("invalid"+p,function(t){t.preventDefault(),u.isInvalid=!0,u.refreshState()}),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,m.is(":disabled")&&u.disable(),u.on("change",this.onChange),m.data("selectize",u),m.addClass("selectized"),u.trigger("initialize"),!0===d.preload&&u.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,e={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};t.settings.render=C.extend({},e,t.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",
option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused&&e.isOpen||(e.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,n=t.isDefaultPrevented();if(C(t.target),e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():n||e.setActiveItem(null),!1}else n||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var o=this;o.isFull()||o.isInputHidden||o.isLocked?t.preventDefault():o.settings.splitOn&&setTimeout(function(){var t=o.$control_input.val();if(t.match(o.settings.splitOn))for(var e=C.trim(t).split(o.settings.splitOn),n=0,i=e.length;n<i;n++)o.createItem(e[n])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(!e.isLocked){switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(v?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()}9!==t.keyCode&&t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(e){var n=this,i=n.settings.load;i&&(n.loadedSearches.hasOwnProperty(e)||(n.loadedSearches[e]=!0,n.load(function(t){i.apply(n,[e,t])})))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,n,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=C(t.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(e=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(e),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(e)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){a(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(t,e){var n,i,o,a,r,s,l,c,u=this;if("single"!==u.settings.mode){if(!(t=C(t)).length)return C(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(n=e&&e.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(c=u.$control.children(".active:last"),a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[c[0]]),(r=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))<a&&(l=a,a=r,r=l),i=a;i<=r;i++)s=u.$control[0].childNodes[i],-1===u.$activeItems.indexOf(s)&&(C(s).addClass("active"),u.$activeItems.push(s));e.preventDefault()}else"mousedown"===n&&u.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(o=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(o,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(C(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,e,n){var i,o,a,r,s,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(t=C(t)).length&&(l.$activeOption=t.addClass("active"),!e&&c(e)||(i=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),e=l.$dropdown_content.scrollTop()||0,s=(r=a=l.$activeOption.offset().top-l.$dropdown_content.offset().top+e)-i+o,i+e<a+o?l.$dropdown_content.stop().animate({scrollTop:s},n?l.settings.scrollDuration:0):a<e&&l.$dropdown_content.stop().animate({scrollTop:r},n?l.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}},search:function(t){var e,n,i,o=this,a=o.settings,r=this.getSearchOptions();if(a.score&&"function"!=typeof(i=o.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(o.lastQuery=t,n=o.sifter.search(t,C.extend(r,{score:i})),o.currentResults=n):n=C.extend(!0,{},o.currentResults),a.hideSelected)for(e=n.items.length-1;0<=e;e--)-1!==o.items.indexOf(_(n.items[e].id))&&n.items.splice(e,1);return n},refreshOptions:function(t){var e,n,i,o,a,r,s,l,c,u,d,p,h,f,m,g;void 0===t&&(t=!0);var v=this,y=C.trim(v.$control_input.val()),b=v.search(y),w=v.$dropdown_content,x=v.$activeOption&&_(v.$activeOption.attr("data-value"));for(o=b.items.length,"number"==typeof v.settings.maxOptions&&(o=Math.min(o,v.settings.maxOptions)),a={},r=[],e=0;e<o;e++)for(s=v.options[b.items[e].id],l=v.render("option",s),c=s[v.settings.optgroupField]||"",n=0,i=(u=C.isArray(c)?c:[c])&&u.length;n<i;n++)c=u[n],v.optgroups.hasOwnProperty(c)||(c=""),a.hasOwnProperty(c)||(a[c]=document.createDocumentFragment(),r.push(c)),a[c].appendChild(l);for(this.settings.lockOptgroupOrder&&r.sort(function(t,e){return(v.optgroups[t].$order||0)-(v.optgroups[e].$order||0)}),d=document.createDocumentFragment(),e=0,o=r.length;e<o;e++)c=r[e],v.optgroups.hasOwnProperty(c)&&a[c].childNodes.length?((p=document.createDocumentFragment()).appendChild(v.render("optgroup_header",v.optgroups[c])),p.appendChild(a[c]),d.appendChild(v.render("optgroup",C.extend({},v.optgroups[c],{html:T(p),dom:p})))):d.appendChild(a[c]);if(w.html(d),v.settings.highlight&&(w.removeHighlight(),b.query.length&&b.tokens.length))for(e=0,o=b.tokens.length;e<o;e++)S(w,b.tokens[e].regex);if(!v.settings.hideSelected)for(e=0,o=v.items.length;e<o;e++)v.getOption(v.items[e]).addClass("selected");(h=v.canCreate(y))&&(w.prepend(v.render("option_create",{input:y})),g=C(w[0].childNodes[0])),v.hasOptions=0<b.items.length||h,v.hasOptions?(0<b.items.length?((m=x&&v.getOption(x))&&m.length?f=m:"single"===v.settings.mode&&v.items.length&&(f=v.getOption(v.items[0])),f&&f.length||(f=g&&!v.settings.addPrecedence?v.getAdjacentOption(g,1):w.find("[data-selectable]:first"))):f=g,v.setActiveOption(f),t&&!v.isOpen&&v.open()):(v.setActiveOption(null),t&&v.isOpen&&v.close())},addOption:function(t){var e,n,i,o=this;if(C.isArray(t))for(e=0,n=t.length;e<n;e++)o.addOption(t[e]);else(i=o.registerOption(t))&&(o.userOptions[i]=!0,o.lastQuery=null,o.trigger("option_add",i,t))},registerOption:function(t){var e=_(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=_(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,e){var n,i,o,a,r,s,l,c=this;if(t=_(t),o=_(e[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=c.options[t].$order,o!==t&&(delete c.options[t],-1!==(a=c.items.indexOf(t))&&c.items.splice(a,1,o)),e.$order=e.$order||l,c.options[o]=e,r=c.renderCache.item,s=c.renderCache.option,r&&(delete r[t],delete r[o]),s&&(delete s[t],delete s[o]),-1!==c.items.indexOf(o)&&(n=c.getItem(t),i=C(c.render("item",e)),n.hasClass("active")&&i.addClass("active"),n.replaceWith(i)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=_(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={};var n=e.options;C.each(e.options,function(t){-1==e.items.indexOf(t)&&delete n[t]}),e.options=e.sifter.items=n,e.lastQuery=null,e.trigger("option_clear")},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,e){var n=this.$dropdown.find("[data-selectable]"),i=n.index(t)+e;return 0<=i&&i<n.length?n.eq(i):C()},getElementWithValue:function(t,e){if(void 0!==(t=_(t))&&null!==t)for(var n=0,i=e.length;n<i;n++)if(e[n].getAttribute("data-value")===t)return C(e[n]);return C()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(t,e){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var o=C.isArray(t)?t:[t],a=(i=0,o.length);i<a;i++)this.isPending=i<a-1,this.addItem(o[i],e);var r=this.$control[0];r.insertBefore(this.buffer,r.firstChild),this.buffer=null},addItem:function(s,l){a(this,l?[]:["change"],function(){var t,e,n,i,o,a=this,r=a.settings.mode;s=_(s),-1===a.items.indexOf(s)?a.options.hasOwnProperty(s)&&("single"===r&&a.clear(l),"multi"===r&&a.isFull()||(t=C(a.render("item",a.options[s])),o=a.isFull(),a.items.splice(a.caretPos,0,s),a.insertAtCaret(t),(!a.isPending||!o&&a.isFull())&&a.refreshState(),a.isSetup&&(n=a.$dropdown_content.find("[data-selectable]"),a.isPending||(e=a.getOption(s),i=a.getAdjacentOption(e,1).attr("data-value"),a.refreshOptions(a.isFocused&&"single"!==r),i&&a.setActiveOption(a.getOption(i))),!n.length||a.isFull()?a.close():a.isPending||a.positionDropdown(),a.updatePlaceholder(),a.trigger("item_add",s,t),a.isPending||a.updateOriginalInput({silent:l})))):"single"===r&&a.close()})},removeItem:function(t,e){var n,i,o,a=this;n=t instanceof C?t:a.getItem(t),t=_(n.attr("data-value")),-1!==(i=a.items.indexOf(t))&&(n.remove(),n.hasClass("active")&&(o=a.$activeItems.indexOf(n[0]),a.$activeItems.splice(o,1)),a.items.splice(i,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(t)&&a.removeOption(t,e),i<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:e}),a.positionDropdown(),a.trigger("item_remove",t,n))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||C.trim(i.$control_input.val()||"");var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return a(),!1;i.lock();var e="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},r=d(function(t){if(i.unlock(),!t||"object"!=typeof t)return a();var e=_(t[i.settings.valueField]);if("string"!=typeof e)return a();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),a(t)}),s=e.apply(this,[t,r]);return void 0!==s&&r(s),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var t=this,e=t.isFull(),n=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!C.isEmptyObject(t.options)).toggleClass("has-items",0<t.items.length),t.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,a=this;if(t=t||{},1===a.tagType){for(i=[],e=0,n=a.items.length;e<n;e++)o=a.options[a.items[e]][a.settings.labelField]||"",i.push('<option value="'+u(a.items[e])+'" selected="selected">'+u(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),a.$input.html(i.join(""))}else a.$input.val(a.getValue()),a.$input.attr("value",a.$input.val());a.isSetup&&(t.silent||a.trigger("change",a.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.isBlurring||t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t[0].getBoundingClientRect().width,top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),n=t[0],i=this.buffer||this.$control[0];0===e?i.insertBefore(n,i.firstChild):i.insertBefore(n,i.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(t){var e,n,i,o,a,r,s,l,c,u=this;if(i=t&&8===t.keyCode?-1:1,o=h(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(s=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),a=[],u.$activeItems.length){for(c=u.$control.children(".active:"+(0<i?"last":"first")),r=u.$control.children(":not(input)").index(c),0<i&&r++,e=0,n=u.$activeItems.length;e<n;e++)a.push(C(u.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(i<0&&0===o.start&&0===o.length?a.push(u.items[u.caretPos-1]):0<i&&o.start===u.$control_input.val().length&&a.push(u.items[u.caretPos]));if(!a.length||"function"==typeof u.settings.onDelete&&!1===u.settings.onDelete.apply(u,[a]))return!1;for(void 0!==r&&u.setCaret(r);a.length;)u.removeItem(a.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),s&&((l=u.getOption(s)).length&&u.setActiveOption(l)),!0},advanceSelection:function(t,e){var n,i,o,a,r,s=this;0!==t&&(s.rtl&&(t*=-1),n=0<t?"last":"first",i=h(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(a=s.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===a)&&!a&&s.advanceCaret(t,e)):(r=s.$control.children(".active:"+n)).length&&(o=s.$control.children(":not(input)").index(r),s.setActiveItem(null),s.setCaret(0<t?o+1:o)))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=0<t?"next":"prev",o.isShiftDown?(i=o.$control_input[n]()).length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault()):o.setCaret(o.caretPos+t))},setCaret:function(t){var e,n,i,o,a=this;if(t="single"===a.settings.mode?a.items.length:Math.max(0,Math.min(a.items.length,t)),!a.isPending)for(e=0,n=(i=a.$control.children(":not(input)")).length;e<n;e++)o=C(i[e]).detach(),e<t?a.$control_input.before(o):a.$control.append(o);a.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var t=this,e=t.eventNS,n=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--k.count&&k.$testInput&&(k.$testInput.remove(),k.$testInput=void 0),C(window).off(e),C(document).off(e),C(document.body).off(e),delete t.$input[0].selectize},render:function(t,e){var n,i,o="",a=!1,r=this;return"option"!==t&&"item"!==t||(a=!!(n=_(e[r.settings.valueField]))),a&&(c(r.renderCache[t])||(r.renderCache[t]={}),r.renderCache[t].hasOwnProperty(n))?r.renderCache[t][n]:(o=C(r.settings.render[t].apply(this,[e,u])),"option"===t||"option_create"===t?e[r.settings.disabledField]||o.attr("data-selectable",""):"optgroup"===t&&(i=e[r.settings.optgroupValueField]||"",o.attr("data-group",i),e[r.settings.disabledField]&&o.attr("data-disabled","")),"option"!==t&&"item"!==t||o.attr("data-value",n||""),a&&(r.renderCache[t][n]=o[0]),o[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),k.count=0,k.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},C.fn.selectize=function(o){var a=C.fn.selectize.defaults,u=C.extend({},a,o),d=u.dataAttr,p=u.labelField,h=u.valueField,f=u.disabledField,m=u.optgroupField,g=u.optgroupLabelField,v=u.optgroupValueField,r=function(t,e){var n,i,o,a,r=t.attr(d);if(r)for(e.options=JSON.parse(r),n=0,i=e.options.length;n<i;n++)e.items.push(e.options[n][h]);else{var s=C.trim(t.val()||"");if(!u.allowEmptyOption&&!s.length)return;for(n=0,i=(o=s.split(u.delimiter)).length;n<i;n++)(a={})[p]=o[n],a[h]=o[n],e.options.push(a);e.items=o}},s=function(t,r){var e,n,i,o,a=r.options,s={},l=function(t){var e=d&&t.attr(d);return"string"==typeof e&&e.length?JSON.parse(e):null},c=function(t,e){t=C(t);var n=_(t.val());if(n||u.allowEmptyOption)if(s.hasOwnProperty(n)){if(e){var i=s[n][m];i?C.isArray(i)?i.push(e):s[n][m]=[i,e]:s[n][m]=e}}else{var o=l(t)||{};o[p]=o[p]||t.text(),o[h]=o[h]||n,o[f]=o[f]||t.prop("disabled"),o[m]=o[m]||e,s[n]=o,a.push(o),t.is(":selected")&&r.items.push(n)}};for(r.maxItems=t.attr("multiple")?null:1,e=0,n=(o=t.children()).length;e<n;e++)"optgroup"===(i=o[e].tagName.toLowerCase())?function(t){var e,n,i,o,a;for((i=(t=C(t)).attr("label"))&&((o=l(t)||{})[g]=i,o[v]=i,o[f]=t.prop("disabled"),r.optgroups.push(o)),e=0,n=(a=C("option",t)).length;e<n;e++)c(a[e],i)}(o[e]):"option"===i&&c(o[e])};return this.each(function(){if(!this.selectize){var t=C(this),e=this.tagName.toLowerCase(),n=t.attr("placeholder")||t.attr("data-placeholder");n||u.allowEmptyOption||(n=t.children('option[value=""]').text());var i={placeholder:n,options:[],optgroups:[],items:[]};"select"===e?s(t,i):r(t,i),new k(t,C.extend(!0,{},a,i,o))}})},C.fn.selectize.defaults=k.defaults,C.fn.selectize.support={validity:w},k.define("drag_drop",function(){if(!C.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=(n=i.lock,function(){var t=i.$control.data("sortable");return t&&t.disable(),n.apply(i,arguments)}),i.unlock=(e=i.unlock,function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}),i.setup=(t=i.setup,function(){t.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var t=i.$activeItems?i.$activeItems.slice():null,e=[];n.children("[data-value]").each(function(){e.push(C(this).attr("data-value"))}),i.setValue(e),i.setActiveItem(t)}})})}var t,e,n}),k.define("dropdown_header",function(t){var e,n=this;t=C.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},t),n.setup=(e=n.setup,function(){e.apply(n,arguments),n.$dropdown_header=C(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)})}),k.define("optgroup_columns",function(s){var a,l=this;s=C.extend({equalizeWidth:!0,equalizeHeight:!0},s),this.getAdjacentOption=function(t,e){var n=t.closest("[data-group]").find("[data-selectable]"),i=n.index(t)+e;return 0<=i&&i<n.length?n.eq(i):C()},this.onKeyDown=(a=l.onKeyDown,function(t){var e,n,i,o;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?a.apply(this,arguments):(l.ignoreHover=!0,e=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((n=(i=(o=37===t.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(i.length-1,e))).length&&this.setActiveOption(n)))});var c=function(){var t,e=c.width,n=document;return void 0===e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=c.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},t=function(){var t,e,n,i,o,a,r;if((e=(r=C("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(s.equalizeHeight){for(t=n=0;t<e;t++)n=Math.max(n,r.eq(t).height());r.css({height:n})}s.equalizeWidth&&(a=l.$dropdown_content.innerWidth()-c(),i=Math.round(a/e),r.css({width:i}),1<e&&(o=a-i*(e-1),r.eq(e-1).css({width:o})))}};(s.equalizeHeight||s.equalizeWidth)&&(o.after(this,"positionDropdown",t),o.after(this,"refreshOptions",t))}),k.define("remove_button",function(t){var n,i,o,a,r,s;(t=C.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t),"single"!==this.settings.mode)?(a=n=this,r='<a href="javascript:void(0)" class="'+(i=t).className+'" tabindex="-1" title="'+u(i.title)+'">'+i.label+"</a>",s=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)},n.setup=(o=a.setup,function(){if(i.append){var e=a.settings.render.item;a.settings.render.item=function(t){return s(e.apply(n,arguments),r)}}o.apply(n,arguments),n.$control.on("click","."+i.className,function(t){if(t.preventDefault(),!a.isLocked){var e=C(t.currentTarget).parent();a.setActiveItem(e),a.deleteSelection()&&a.setCaret(a.items.length)}})})):function(n,i){i.className="remove-single";var o,a=n,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+u(i.title)+'">'+i.label+"</a>",s=function(t,e){return C("<span>").append(t).append(e)};n.setup=(o=a.setup,function(){if(i.append){var t=C(a.$input.context).attr("id"),e=(C("#"+t),a.settings.render.item);a.settings.render.item=function(t){return s(e.apply(n,arguments),r)}}o.apply(n,arguments),n.$control.on("click","."+i.className,function(t){t.preventDefault(),a.isLocked||a.clear()})})}(this,t)}),k.define("restore_on_backspace",function(i){var o,t=this;i.text=i.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(o=t.onKeyDown,function(t){var e,n;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(e=this.caretPos-1)&&e<this.items.length?(n=this.options[this.items[e]],this.deleteSelection(t)&&(this.setTextboxValue(i.text.apply(this,[n])),this.refreshOptions(!0)),void t.preventDefault()):o.apply(this,arguments)})}),k}),window.app={};var Logo=Backbone.Model.extend({constructor:function(t){this._logo={},this._ingredients=t,this._ingredients.new_version=!0,!_.isEmpty(this._ingredients.slogan)&&_.isEmpty(this._ingredients.slogan_alignment)&&("text_with_symbol"==this._ingredients.layout&&"left"==this._ingredients.symbol_alignment?this._ingredients.slogan_alignment="left":this._ingredients.slogan_alignment="center"),Backbone.Model.apply(this,t)},withSlogan:function(){return!_.isEmpty(this._ingredients.slogan)}}),LogoView=Backbone.View.extend({initialize:function(){},addLogoToEl:function(){var t=this.model._ingredients.db_id,e=this.model._ingredients.temp_logo_id,n=null,i="append",o=!1;switch(this.drawing_type){case"generator":n="atv-card atv-card-container swiper-slide",o=!0;break;case"specific":n="favorite dark-bg focus large",i="prepend",o=!0;break;case"favorite":n="atv-card atv-card-container favorite",o=!0;break;case"variation":case"color-variation":n="swiper-slide atv-card atv-card-container",o=!0;break;case"edit":n="disabled",o=!0;break;case"white_bg":n="disabled white-bg-preview";break;case"dark_foreground":case"inverse":n="disabled dark-preview"}this.model._ingredients.purchased&&(o=!1);var a='<div class="logo-container '+n+'" data-local-logo-id="'+e+'" data-db-logo-id="'+t+'">';a+='<div class="atv-card-layers">',a+='<div class="logo-option">',o&&(a+='<div class="logo-watermark"></div>'),a+='<div class="vheight"><div class="vcell">',a+="<svg></svg></div></div></div></div>",this.isPreviewMode()||(a+='<div class="atv-card-shadow"></div>'),a+="</div>",this.element=$(a),this.svg=SVG(this.element.find("svg")[0]),"append"==i?this.$el.append(this.element):"prepend"==i?this.$el.prepend(this.element):"before"==i&&this.$el.before(this.element)},isPreviewMode:function(){return"white_bg"==this.drawing_type||"dark_foreground"==this.drawing_type},cleanSvgWrapper:function(t){return(t=t.replace(/\<(\?xml|(\!DOCTYPE[^\>\[]+(\[[^\]]+)?))+[^>]+\>/g,"")).includes("<svg")&&(t=$(t).html()),t},drawPlainTextLayout:function(t,e,n){var i=!(2<arguments.length&&n!==undefined)||n,o=this._main_text.bbox(),a={h:0,w:0,y:0};this.model.withSlogan()&&(a=this._slogan_text.bbox()),t||(t=o.w>a.w?o.w:a.w),e||(e=o.h+a.h+16);var r,s=(e-o.h-a.h)/2,l=(t-o.w)/2-o.x,c=s-o.y;"left"==this.model._ingredients.slogan_alignment?r=l-a.x:"center"==this.model._ingredients.slogan_alignment?r=(t-a.w)/2-a.x:"right"==this.model._ingredients.slogan_alignment&&(r=l+o.w-a.w-a.x);var u=s+o.h-a.y+8;i&&(this._main_text.attr("transform","translate("+l+","+c+")"),a.h&&this._slogan_text.attr("transform","translate("+r+","+u+")")),this.svg.attr("height",e),this.svg.attr("width",t),(470<t||355<e)&&$(this.svg).attr("viewBox","0 0 "+t+" "+e)},drawMainText:function(){this._main_text=this.svg.group();var t=this.model._ingredients.main_text_path;t=this.cleanSvgWrapper(t),this._main_text.svg(t),this._main_text.attr("rel","mainfill").attr("name","main_text").attr("xmlns:name","main_text"),this._main_text.h=this._main_text.bbox().h,this._main_text.w=this._main_text.bbox().w,this.drawSlogan()},drawSlogan:function(){if(this.model.withSlogan()){this._slogan_text=this.svg.group();var t=this.model._ingredients.slogan_text_path;t=this.cleanSvgWrapper(t),this._slogan_text.svg(t),this._slogan_text.attr("rel","mainfill").attr("name","slogan_text").attr("xmlns:name","slogan_text"),this._slogan_text.h=this._slogan_text.bbox().h,this._slogan_text.w=this._slogan_text.bbox().w}},drawSymbol:function(){this.element.width(),this.element.height();var t=this.model._ingredients.asset_src;t=(t=this.cleanSvgWrapper(t)).replace(/#([0-9A-F][0-9A-F])([0-9A-F][0-9A-F])([0-9A-F][0-9A-F])/g,"").replace(/[\r\n\t]/g,"").replace(/<style .*?>(.*?)<\/style>/g,""),this._symbol=this.svg.group(),this._symbol.svg(t),this._symbol.attr("rel","mainfill").attr("name","symbol").attr("xmlns:name","symbol_mainfill")},drawTextWithSymbolLayout:function(t,e){var n=this._main_text.bbox(),i={h:0,w:0,y:0},o=this._symbol.bbox(),a=0;this.model.withSlogan()&&(i=this._slogan_text.bbox(),a=10);var r=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,f=void 0,m=this._main_text.y_offset||0,g=this.model.withSlogan()&&this._slogan_text.y_offset||0;if("text_with_text_in_symbol"!=this.model._ingredients.layout&&"text_with_text_as_symbol"!=this.model._ingredients.layout&&"multi_text_with_text_as_symbol"!=this.model._ingredients.layout)if(
this.model._ingredients.symbol_master_size&&!this.model._ingredients.symbol_scale){var v=this.model._ingredients.symbol_master_size;o.h;f=v/o.w}else if(this.model._ingredients.symbol_scale)f=this.model._ingredients.symbol_scale;else{var y=Math.floor(75*Math.random())+50;f=parseFloat(Math.min(y/o.h,y/o.w).toFixed(1))}else f=1;Number.isFinite(f)||(console.error("Fail with",this.model._ingredients),f=0),this.model._ingredients.symbol_scale=f,"left"==this.model._ingredients.symbol_alignment||"left"==this.model._ingredients.monogram_alignment?(t||(t=(n.w>i.w?n.w:i.w)+o.w*f+15),e||(e=o.h*f>n.h+i.h+m+g+a?o.h*f:n.h+i.h+m+g+a),p=(r=(t-Math.max(n.w,i.w)-o.w*f-15)/2)-o.x*f,h=(e-o.h*f)/2-o.y*f,c=r+o.w*f-n.x+15,l=(e-n.h-i.h+m-a)/2-n.y,d=(e-n.h-i.h+g-a)/2+n.h-i.y+a,"left"==this.model._ingredients.slogan_alignment?u=r+o.w*f-i.x+15:"center"==this.model._ingredients.slogan_alignment?u=r+o.w*f-i.x+15+(n.w-i.w)/2:"right"==this.model._ingredients.slogan_alignment&&(u=r+o.w*f-i.x+15+(n.w-i.w))):"right"==this.model._ingredients.symbol_alignment||"right"==this.model._ingredients.monogram_alignment?(t||(t=Math.max(n.w,i.w)+o.w*f+15),e||(e=o.h*f>n.h+i.h+m+g+a?o.h*f:n.h+i.h+m+g+a),c=(r=(t-Math.max(n.w,i.w)-o.w*f-15)/2)-n.x,l=(e-n.h-i.h+m-a)/2-n.y,d=(e-n.h-i.h+g-a)/2+n.h-i.y+a,"left"==this.model._ingredients.slogan_alignment?u=r-i.x:"center"==this.model._ingredients.slogan_alignment?u=r-i.x+(n.w-i.w)/2:"right"==this.model._ingredients.slogan_alignment&&(u=r-i.x+(n.w-i.w)),p=r+(n.w>i.w?n.w:i.w)+15-o.x*f,h=(e-o.h*f)/2-o.y*f):"bottom"==this.model._ingredients.symbol_alignment||"bottom"==this.model._ingredients.monogram_alignment?(t||(t=(t=n.w>i.w?n.w:i.w)>o.w*f?t:o.w*f),e||(e=o.h*f+n.h+i.h+15+a),s=(e-o.h*f-n.h-i.h-15-a)/2,c=(t-n.w)/2-n.x,l=s-n.y,"left"==this.model._ingredients.slogan_alignment?u=-i.x:"center"==this.model._ingredients.slogan_alignment?u=(t-i.w)/2-i.x:"right"==this.model._ingredients.slogan_alignment&&(u=t-i.w-i.x),d=s+n.h-i.y+a,p=(t-o.w*f)/2-o.x*f,h=s+n.h+i.h-o.y*f+15+a):(t||(t=(t=n.w>i.w?n.w:i.w)>o.w*f?t:o.w*f),e||(e=o.h*f+n.h+i.h+15+a),s=(e-o.h*f-n.h-i.h-15-a)/2,p=(t-o.w*f)/2-o.x*f,h=s-o.y*f,c=(t-n.w)/2-n.x,l=s+o.h*f-n.y+15,"left"==this.model._ingredients.slogan_alignment?u=-i.x:"center"==this.model._ingredients.slogan_alignment?u=(t-i.w)/2-i.x:"right"==this.model._ingredients.slogan_alignment&&(u=t-i.w-i.x),d=s+o.h*f+n.h-i.y+15+a),this._symbol.h=o.h*f,this._symbol.w=o.w*f,this._symbol.x=o.x*f,this._symbol.y=o.y*f,this._main_text.attr("transform","translate("+c+","+l+")"),i.h&&this._slogan_text.attr("transform","translate("+u+","+d+")"),this._symbol.attr("transform","translate("+p+","+h+") scale("+this.model._ingredients.symbol_scale+")"),this.drawPlainTextLayout(t,e,!1)},drawTextWithFilledContainer:function(){var t=this.model._ingredients.asset_src;t=this.cleanSvgWrapper(t);var e=this.model._ingredients.dark_bg?"#ffffff":this.model._ingredients.hex;t=t.replace(/#([0-9A-Fa-f][0-9A-Fa-f])([0-9A-Fa-f][0-9A-Fa-f])([0-9A-Fa-f][0-9A-Fa-f])/g,""),this._container=this.svg.group(),this._container.svg(t),this._container.attr("transform","translate(0,0) scale(1)").attr("rel","inversefill").attr("name","filled_container").attr("xmlns:name","filledContainer_inversefill"),this._container.attr("fill",e)},drawColors:function(){this.isPreviewMode()||this.element.find(".atv-card-layers").css("background-color",this.colorbg),"text_with_filled_container"==this.model._ingredients.layout||"text_and_symbol_with_filled_container"==this.model._ingredients.layout?(this.element.find('svg [rel="mainfill"]').attr("fill",this.colorbg),this.element.find('svg [rel="mainfill"] path').attr("fill",this.colorbg),this.element.find('svg [rel="mainfill"] path').css("fill",this.colorbg),this.element.find('svg [rel="inversefill"]').attr("fill",this.colorfill),this.element.find('svg [rel="inversefill"] path').attr("fill",this.colorfill),this.element.find('svg [rel="inversefill"] path').css("fill",this.colorfill)):"text_with_text_in_symbol"==this.model._ingredients.layout||"mulit_text_with_text_in_symbol"==this.model._ingredients.layout?(this.element.find('svg [rel="mainfill"]').attr("fill",this.colorfill),this.element.find('svg [rel="mainfill"] path').attr("fill",this.colorfill),this.element.find('svg [rel="mainfill"] path').css("fill",this.colorfill),this.element.find('svg [rel="inversefill"]').attr("fill",this.colorfill),this.element.find('svg [rel="inversefill"] g').attr("fill",this.colorfill),this.element.find('svg [rel="inversefill"] path').attr("fill",this.colorfill),this.element.find('svg [rel="inversefill"] path').css("fill",this.colorfill),this.element.find('svg [rel="symbolfill"]').attr("fill",this.colorbg),this.element.find('svg [rel="symbolfill"] path').attr("fill",this.colorbg),this.element.find('svg [rel="symbolfill"] path').css("fill",this.colorbg)):(this.element.find('svg [rel="mainfill"]').attr("fill",this.colorfill),this.element.find('svg [rel="mainfill"] g').attr("fill",this.colorfill),this.element.find('svg [rel="mainfill"] path').attr("fill",this.colorfill),this.element.find('svg [rel="mainfill"] path').css("fill",this.colorfill));var t=this.model._ingredients.icon_color,e=this.model._ingredients.container_color,n=this.model._ingredients.main_text_color,i=this.model._ingredients.slogan_text_color;_.isEmpty(t)||(this.element.find('svg [name="symbol"]').attr("fill",t),this.element.find('svg [name="symbol"] g').attr("fill",t),this.element.find('svg [name="symbol"] path').attr("fill",t),this.element.find('svg [name="symbol"] path').css("fill",t)),_.isEmpty(e)||(this.element.find('svg [name="filled_container"]').attr("fill",e),this.element.find('svg [name="filled_container"] g').attr("fill",e),this.element.find('svg [name="filled_container"] path').attr("fill",e),this.element.find('svg [name="filled_container"] path').css("fill",e),this.element.find('svg [name="outline_container"]').attr("fill",e),this.element.find('svg [name="outline_container"] g').attr("fill",e),this.element.find('svg [name="outline_container"] path').attr("fill",e),this.element.find('svg [name="outline_container"] path').css("fill",e)),_.isEmpty(n)||(this.element.find('svg [name="main_text"]').attr("fill",n),this.element.find('svg [name="main_text"] g').attr("fill",n),this.element.find('svg [name="main_text"] path').attr("fill",n),this.element.find('svg [name="main_text"] path').css("fill",n)),_.isEmpty(i)||(this.element.find('svg [name="slogan_text"]').attr("fill",i),this.element.find('svg [name="slogan_text"] g').attr("fill",i),this.element.find('svg [name="slogan_text"] path').attr("fill",i),this.element.find('svg [name="slogan_text"] path').css("fill",i))},positionTextWithFilledContainer:function(){var t=this._main_text.bbox(),e=this._slogan_text?this._slogan_text.bbox():{h:0,w:0},n=this.model._ingredients.container_scale;n||(n=(Math.max(t.w,e.w)+100)/this._container.bbox().w,n=parseFloat((.9*n).toFixed(1)),console.log(n)),this.model._ingredients.container_scale=n,Number.isFinite(n)||(console.error("Fail with",this.model._ingredients),n=0);var i=this._container.bbox().w*n,o=this._container.bbox().h*n,a=(o-this._container.bbox().h*n)/2-this._container.bbox().y,r=(i-this._container.bbox().w*n)/2-this._container.bbox().x,s=this.model._ingredients.dark_bg?this.model._ingredients.hex:"#ffffff";this._container.attr("transform","translate("+r+","+a+") scale("+n+")"),this._main_text.fill(s),this._slogan_text&&this._slogan_text.fill(s),this.drawPlainTextLayout(i,o)},drawTextWithOutlineContainer:function(){var t=this.model._ingredients.asset_src;t=t.replace(/#([0-9A-Fa-f][0-9A-Fa-f])([0-9A-Fa-f][0-9A-Fa-f])([0-9A-Fa-f][0-9A-Fa-f])/g,""),t=this.cleanSvgWrapper(t),this._container=this.svg.group(),this._container.svg(t),this._container.attr("transform","translate(0,0) scale(1)").attr("rel","mainfill").attr("name","outline_container").attr("xmlns:name","outlineContainer_mainfill"),this._container.attr("fill",this.colorfill)},positionTextWithOutlineContainer:function(){var t=this._main_text.bbox(),e=this.model.withSlogan()?this._slogan_text.bbox():{h:0,w:0},n=this.model._ingredients.container_scale;n||(n=((t.w>e.w?t.w:e.w)+100)/this._container.bbox().w,n=parseFloat(n.toFixed(1))),Number.isFinite(n)||(console.error("Fail with",this.model._ingredients),n=0);var i=this._container.bbox().w*n,o=this._container.bbox().h*n,a=(o-this._container.bbox().h*n)/2-this._container.bbox().y,r=(i-this._container.bbox().w*n)/2-this._container.bbox().x;this._container.attr("transform","translate("+r+","+a+") scale("+n+")"),this.model._ingredients.container_scale=n,this.drawPlainTextLayout(i,o)},getSvgCode:function(){return this.svg.svg()||this.element.find("svg")[0].outerHTML},render:function(t){switch(this.drawing_type=t,_.isEmpty(this.model._ingredients.background_color)?this.colorbg=this.model._ingredients.dark_bg?this.model._ingredients.hex:"#ffffff":this.colorbg=this.model._ingredients.background_color,this.colorfill=this.model._ingredients.dark_bg?"#ffffff":this.model._ingredients.hex,this.addLogoToEl(),this.model._ingredients.layout){case"plain_text":this.drawMainText(),this.drawPlainTextLayout();break;case"text_with_symbol":this.drawMainText(),this.drawSymbol(),this.drawTextWithSymbolLayout();break;case"text_with_filled_container":this.drawTextWithFilledContainer(),this.drawMainText(),this.positionTextWithFilledContainer();break;case"text_with_outline_container":this.drawMainText(),this.drawTextWithOutlineContainer(),this.positionTextWithOutlineContainer()}this.drawColors()}});if($.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return e?decodeURIComponent(decodeURI(e[1]).replace(/\+/g," ")):null},$(document).ready(function(){function e(t){return _.reduce($(t),function(t,e){return t+$(e).outerHeight()},0)}function o(t,e){$(".snackbar .message").text(t),$(".snackbar").removeClass("active pop"),$(".snackbar").addClass("active"),e?$(".snackbar .accept").removeClass("hidden"):setTimeout(function(){s()},2300)}function n(){return $('.symbol-finder input[name="symbol_search"]').val()}function i(){return parseInt($('.symbol-finder input[name="symbol_search"]').data("page"))||0}function a(t){$('.symbol-finder input[name="symbol_search"]').data("page",t)}function t(){var t=n(),e=i();a(e+1),_.isEmpty(t)?tt(e+1):r(t,e+1)}function r(n,i){$.ajax({type:"post",url:"/logos/symbol_pngs",data:{term:n,page:i,industry_id:ke},success:function(t){var e=t;0<e.length?e.length<15?ga("send","event","Wizard","Icons Found Less 15",n):ga("send","event","Wizard","Icons Found",n):ga("send","event","Wizard","Icons Not Found",n),g(e,{keep_previous:0!=i})},complete:u})}function s(){$(".snackbar").removeClass("active"),$(".snackbar .accept").addClass("hidden")}function l(){$(".main-menu").addClass("out"),$(".main-menu-overlay").fadeOut(300),$(".main-menu-close").removeClass("active"),setTimeout(function(){$(".main-menu-overlay, .main-menu, body").removeClass("active slide out noscroll")},300)}function c(t){$(".master-loading .message").text(""),$(".master-loading .message").text(t),$(".master-loading").removeClass("active pop"),$(".master-loading-overlay").fadeIn(200),$(".master-loading, .master-loading-outer, .master-loading-middle").addClass("active"),setTimeout(function(){$(".master-loading").addClass("pop")},10)}function u(){$(".master-loading").addClass("out"),$(".master-loading-overlay").fadeOut(200),setTimeout(function(){$(".master-loading, .master-loading-outer, .master-loading-middle, .master-loading-overlay").removeClass("active out pop")},250)}function d(t){$(".inline-loader").appendTo(".tab-content.primary.active"),$(".inline-loader").text(""),$(".inline-loader").text(t),$(".inline-loader").fadeIn(100)}function p(){$(".inline-loader").fadeOut(100)}function h(t){$("body").addClass("noscroll"),$(".modal").removeClass("active pop"),$(".modal-overlay").fadeIn(200),$(".modal"+t+", .modal-outer, .modal-middle").addClass("active"),setTimeout(function(){$(".modal"+t).addClass("pop")},10)}function f(){$(".modal").addClass("out"),$("body").removeClass("noscroll"),$(".modal-overlay").fadeOut(200),setTimeout(function(){$(".modal, .modal-outer, .modal-middle").removeClass("active out pop")},250)}function m(){ga("send","pageview","/event-icons-search-page"),a(0),goPage("#symbol-selection","right"),setTimeout(function(){$("#symbol-selection #symbol_search").focus()},100)}function g(t,e){for(e||(e={}),e.keep_previous||$(".symbol-finder-results").empty(),we=0;we<t.length;++we)$(".symbol-finder-results").append('<img data-src="'+t[we].preview_url_84+'" class="lazyload favorite-symbol-img" data-symbol-url="'+t[we].icon_url+'">')}function v(t){$(".symbol-finder-suggest").empty(),$(".symbol-finder-suggest").append("<div class='symbol-finder-suggest-item suggested'>"+I18n.t("js.generator.icons.suggested")+"</div>"),_.each(t,function(t){$(".symbol-finder-suggest").append("<div class='symbol-finder-suggest-item'>"+t+"</div>")})}function y(){goPage("#colors","right")}function b(t){$(".symbol-finder-suggest").html('<div class="loading button"></div>'),$.ajax({type:"get",url:"/logos/related_words",data:{term:t,industry_id:ke},success:function(t){v(t)},complete:function(){}})}function w(t,e,n,i,o){$(".alert p").text(t),e&&$(".alert p").append('<span class="sub">'+e+"</span>"),$(".alert .sub").text(e),$(".alert a.highlighted").text(n).attr("rel",i).attr("data-callback-info",o),$(".alert").removeClass("active pop"),$(".alert-overlay").fadeIn(200),$(".alert, .alert-outer, .alert-middle").addClass("active"),setTimeout(function(){$(".alert").addClass("pop")},10)}function x(){$(".alert").addClass("out"),$(".alert-overlay").fadeOut(200),setTimeout(function(){$(".alert, .alert-outer, .alert-middle").removeClass("active out pop")},250)}function C(){$(".mini-menu-overlay").removeClass("active"),$(".mini-menu").removeClass("active")}function S(t){var e=GoogleAuth.currentUser.get().getAuthResponse().id_token;t.find("input[name=google_token]").val(e),t.submit(),t.find("input[name=google_token]").val(""),window.hideMasterLoader()}function T(){E(),Ee=0,k()}function k(){fe=1,$("#master-generator .inline-loader-generator").addClass("active"),P()}function I(){$(".generator-button").removeClass("hidden")}function E(){$(".generator-button").addClass("hidden")}function P(){$.ajax({type:"post",url:"/logos/"+Ce+"/generate_versions",data:{offset:Pe},success:function(t){for(var e=0;e<t.length;++e)De=t[e],B(),$("#master-generator").hasClass("active")&&Y("generator");Pe+=t.length,W()}})}function A(){for(var t in de)De=de[t],B(),Y("favorite")}function M(t){t&&(_.extend(de,t),z())}function O(t,e){de[t]=e,z()}function z(){$('.main-menu a[data-page="#favorites"] .count').text(_.size(de))}function D(t){t&&$("form[data-payment-form] input[name=logo_id]").val(t)}function j(){Ye.edit_available?$("#logo-presentation .sub-top a").removeClass("disabled"):($("#logo-presentation .sub-top a.logo-edit").addClass("disabled"),K())}function N(i){$(".order-sum-value").each(function(){var t=$(this).is("input"),e=parseInt(t?$(this).val():$(this).text()),n=parseInt(e*parseFloat((100-i)/100));t?$(this).val(n):$(this).text(n)})}function L(){F(),it(),at()}function F(){Ye.purchased?($(".button.get-logo, .button.favorite").addClass("display-none"),$(".button.download-logo").removeClass("display-none"),"processed"==Ye.png_processing_state?($(".button.download-logo .download-spinner").hide(),$(".button.download-logo").removeClass("disabled").removeAttr("disabled").attr("href",window.location.origin+"/logos/"+ye+"/download")):($(".button.download-logo .download-spinner").show(),$(".button.download-logo").addClass("disabled").attr("disabled","disabled").attr("href","javascript:void(0)"),setTimeout(H,2e3))):($(".button.get-logo, .button.favorite, #logo-presentation .sub-top").removeClass("display-none"),$(".button.download-logo").addClass("display-none").attr("href","javascript:void(0)"))}function H(){$.ajax({type:"get",url:"/logos/"+ye+".json",success:function(t){t.db_id==ye&&("processed"==t.png_processing_state&&(Ye=t),F())}})}function R(t,e){$("input[name=customerNumber]").val(e),$("input[name=cps_email]").val(t),setJivoSiteUserParams(t,e)}function B(){Ae=new Date,Me=Ae.getTime(),Oe=Me+Math.floor(1e5*Math.random()+1),(Ie[Oe]=De).temp_id=Oe,D(ze=De.db_id),Se=De.purchased,be=De.company_name,xe=De.slogan,De.main_font,De.main_all_caps,De.main_no_caps,De.main_letter_spacing,De.main_weight,De.bold_light_possible,parseFloat(De.main_size),parseFloat(De.main_size),parseFloat(De.symbol_scale),symbol_src=De.symbol_src,symbol_name=De.symbol_name,symbol_weight=De.symbol_weight,symbol_container_src=De.symbol_container_src,symbol_container_name=De.symbol_container_name,De.symbol_container_type,symbol_container_weight=De.symbol_container_weight,De.symbol_container_x_offset,De.symbol_container_y_offset,symbol_container_can_be_placed=De.symbol_container_can_be_placed,container_type=De.container_type,container_src=De.container_src,De.container_can_contain,De.container_x_offset,De.container_y_offset,container_weight=De.container_weight,parseFloat(De.container_scale),De.scale_type,De.card_title,De.slogan_font,1,De.slogan_no_caps,De.slogan_letter_spacing,De.slogan_weight,De.slogan_size,De.slogan_activated,_e=De.slogan_alignment,De.main_text_path,main_text_path_2=De.main_text_path_2,De.company_name_length,De.bold_light,De.light_bold,De.slogan_text_path,De.symbol_text_path,De.hex,hex=De.hex,De.color_name,De.dark_bg,$e=De.layout,Te=De.symbol_alignment,parseFloat(De.size_multiplier),De.asset_fits_in,De.asset_src,De.asset_src,ke=De.industry_id,!_.isEmpty(xe)&&_.isEmpty(_e)&&(_e="text_with_symbol"==$e&&"left"==Te?"left":"center")}function q(t,e,n){$.ajax({type:"post",url:"/logos/"+t+"/save_svg",data:"svg_code="+encodeURIComponent(e)+"&drawing_type="+n+"&new_version=1",success:function(){console.log(t+" SVG saved")}}),"main"==n&&(Ye.png_processing_state=null,F())}function W(){var t=_.filter($(".new-logos .logo-container"),function(t){return!$(t).data("marked-visible")&&$(t).visible()}),e=_.map(t,function(t){return $(t).data("db-logo-id")});_.each(t,function(t){$(t).attr("data-marked-visible",!0)}),_.isEmpty(e)||$.ajax({type:"put",url:"/logo_options/visible",data:{ids:e}}),!$(".generator-button").visible()&&!X()||$(".generator-button").hasClass("hidden")||T()}function X(){return _.some($(".new-logos .logo-container:nth-last-child(6)"),function(t){return $(t).visible()})}function Y(t,e){$("#master-generator .inline-loader-generator").removeClass("active");var n=null;"generator"==t?n=$(".new-logos"):"specific"==t?n=$("#logos-not-visible-container"):"favorite"==t?n=$(".favorite-logos"):"variation"==t?n=$(".tab-content.primary.active .logo-container-slider"):"color-variation"==t?n=$(".tab-content.primary.active .logo-container-slider"):"edit"==t?(n=$(".tab-content.primary.active"),e=1):"white_bg"==t?n=$(".preview-box.business-card"):"dark_foreground"==t?n=$(".preview-box.building"):"inverse"==t&&(n=$("#logos-not-visible-container")),De.temp_logo_id=Oe,De.db_id=ze;var i=new Logo(De),o=new LogoView({model:i,el:n});if(o.render(t),$('[data-local-logo-id="'+Oe+'"]').data("svg_code",o.getSvgCode()),Se&&$('.favorite-logos [data-local-logo-id="'+Oe+'"]').addClass("purchased").append('<span class="purchased-tag">'+I18n.t("js.purchased_tag")+"</span>"),e&&ze){var a=t;"edit"==t?a="main":"white_bg"==t&&(a="transparent_bg"),q(ze,o.getSvgCode(),a)}"generator"==t&&setTimeout(function(){V()},1500)}function V(){fe=0,++Ee<1&&$("#master-generator").hasClass("active")?k():0==fe&&I()}function G(t,e){e||(e={}),ve=t,$logo=$("[data-local-logo-id="+ve+"]"),ye=$logo.attr("data-db-logo-id"),Ye=Ie[ve],$("body").addClass("editor in-logo"),1040<(Ge=se-40)&&(Ge=1040),ga("send","event","App","View Logo"),$logo.hasClass("favorite")?(at(),it(),$('[href="#preview-tab"]').trigger("click"),e.skip_navigation||(e.url="/logos/"+ye,goPage("#logo-presentation","up",e))):($('#preview-tab, [href="#preview-tab"]').addClass("active"),rt(ve),fe=0),$(".button.favorite").addClass("active"),$logo.removeAttr("style"),Ve=$logo.offset();$logo.find(".atv-card-layers").attr("data-background-color");$logo.after('<div class="logo-container-placeholder swiper-slide"></div>'),$logo.appendTo("body").addClass("fixed focus").removeClass("atv-card atv-card-container hover"),je=$(".logo-container-placeholder").offset(),$logo.css({left:Ve.left-15,top:Ve.top-15,transform:"none",margin:0}),j(),F(),Ue=$(".preview-box-container-half").offset(),$logo.addClass("large"),$logo.css({left:Ue.left,top:"0"}),se<600?$logo.css({width:se+10,"margin-left":"0px","margin-top":"100px"}):$logo.css({width:Ge,"margin-left":"20px","margin-top":"120px"}),$logo.removeClass("fixed"),$("#preview-logo-wrapper").html($logo),$logo.css({transform:"scale(1) !important"}),$(".previews").addClass("active"),K()}function U(){window.history.back()}function Q(){return window.navigation[window.navigation.length-1]}function K(){jQuery.browser.mobile&&setTimeout(function(){if(0<$(".sub-top:visible,.options-panel:visible").length&&"#logo-presentation"==Q()){$("#mobile_layout_gradient").show();var t=e($(".sub-top:visible,.options-panel:visible"));$("#mobile_layout_gradient").css("height",t)}else $("#mobile_layout_gradient").hide()},200)}function Z(){$(".main-wrapper#company-info #company_name").val()&&""!=$(".main-wrapper#company-info #company_name").val()?(15<$(".main-wrapper#company-info #company_name").val().length?($('.main-wrapper#company-info [name="company_name"]').parent().find(".warning").remove(),$('.main-wrapper#company-info [name="company_name"]').after('<span class="warning">'+I18n.t("js.generator.company_name.shorter_name_advice")+"</span>")):$('.main-wrapper#company-info [name="company_name"]').parent().find(".warning").remove(),20<$(".main-wrapper#company-info #slogan").val().length?($('.main-wrapper#company-info [name="slogan"]').parent().find(".warning").remove(),$('.main-wrapper#company-info [name="slogan"]').after('<span class="warning">'+I18n.t("js.generator.company_name.shorter_slogan_advice")+"</span>")):$('.main-wrapper#company-info [name="slogan"]').parent().find(".warning").remove(),$(".main-wrapper#company-info .continue").removeClass("disabled")):$(".main-wrapper#company-info .continue").addClass("disabled")}function J(t){c(),$(".symbol-finder-results img").remove(),ga("send","event","Wizard","Icon Search",t),a(0),r(t,0)}function tt(t){var e=0!=t;$.ajax({type:"get",url:"/icons/suggested",data:{industry_id:ke,page:t},success:function(t){g(t,{keep_previous:e})}})}function et(t,e){return-2/e*t+1}function nt(t,e){return-2/e*t+1}function it(){"text_with_symbol"==Ye.layout||"text_with_text_as_symbol"==Ye.layout||"text_with_text_in_symbol"==Ye.layout?($('[href="#symbol-tab"]').parent().removeClass("invisible"),$(".visible-when-icon").show()):($('[href="#symbol-tab"]').parent().addClass("invisible"),$(".visible-when-icon").hide()),"text_with_filled_container"==Ye.layout||"text_with_outline_container"==Ye.layout?($('[href="#container-tab"]').parent().removeClass("invisible"),$(".visible-when-container").show()):($('[href="#container-tab"]').parent().addClass("invisible"),$(".visible-when-container").hide()),Ye.business_package_available?$('[href="#business-package-tab"]').parent().removeClass("invisible"):$('[href="#business-package-tab"]').parent().addClass("invisible"),te(),ee()}function ot(){var t=$("#preview-logo-notifications");0<t.find(".logo-notification:not(.display-none)").length?t.show():t.hide()}function at(){$('input[name="main_font_size"]').val(Math.round(100*Ye.main_size)/100),$('input[name="symbol_scale"]').val(Ye.symbol_scale),$('input[name="container_scale"]').val(Ye.container_scale),$('input[name="main_letter_spacing"]').val(Math.round(100*Ye.main_letter_spacing)/100),$('input[name="new_company_name"]').val(Ye.company_name),$('input[name="slogan_size"]').val(Ye.slogan_size),$('input[name="new_slogan"]').val(Ye.slogan),$('input[name="slogan_size"]').val(Math.round(100*Ye.slogan_size)/100),$('input[name="slogan_letter_spacing"]').val(Math.round(100*Ye.slogan_letter_spacing)/100),Ye.slogan_activated?$('input[name="slogan_activated"]').attr("checked",!0):$('input[name="slogan_activated"]').attr("checked",!1),_.isEmpty(Ye.business_data)||$.each(Ye.business_data,function(t,e){$('[name="business_data['+t+']"]').text(e)})}function rt(n,t){Qe=Ie[n],$(".favorite.button").addClass("active"),$('[data-local-logo-id="'+n+'"]').addClass("favorite");var i=$('[data-local-logo-id="'+n+'"]').data("svg_code");t?(Ae=new Date,Me=Ae.getTime(),n=Me+Math.floor(1e5*Math.random()+1),$.ajax({type:"post",url:"/logos/"+ye+"/duplicate",data:{logo_ingredients:JSON.stringify(Qe)},success:function(t){var e=t.db_id;q(e,i,"main"),Qe=t,D(e),ye=e,Ye=t,Ie[n]=t,O(e,Qe),ga("send","event","App","Duplicate"),$(".logo-container.focus").clone(!0).off().insertAfter(".favorite-logos .logo-container-placeholder").removeClass("focus favorite large").addClass("atv-card atv-card-container favorite").attr({style:"","data-db-logo-id":ye,"data-local-logo-id":n}).find(".purchased-tag").remove(),$(".logo-container.focus").find(".purchased-tag").remove(),$(".logo-container.focus").find(".logo-option").prepend('<div class="logo-watermark"></div>'),o(I18n.t("js.snackbar.logo_duplicated")),L(),goPage("#logo-presentation","up",{url:"/logos/"+ye})},complete:u})):$.ajax({type:"post",url:"/logos/favorite",data:{logo_ingredients:JSON.stringify(Qe),favorite_logo_id:ye},success:function(t){q(t,i,"main"),D(Qe.db_id=t),O(t,Qe),ye=t,Ye=Qe,L(),ga("send","event","App","Favorited generated"),$('[data-local-logo-id="'+n+'"]').attr("data-db-logo-id",ye),$('[href="#preview-tab"]').trigger("click"),goPage("#logo-presentation","up",{url:"/logos/"+ye})},complete:u})}function st(t){$(".favorite.button").removeClass("active"),$('[data-local-logo-id="'+t+'"]').removeClass("favorite"),t=(Qe=Ie[t]).db_id,ga("send","event","App","Unfavorite Logo"),$.ajax({type:"post",url:"/logos/"+t+"/unfavorite",data:"logo_action=unFavoriteLogo&favoriteLogoID="+t,success:function(){z()}})}function lt(i){$(".white-bg-preview").remove(),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"preview_color_variation=white_bg",success:function(t){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("white_bg",i);$(".preview-box.business-card .white-bg-preview").clone().appendTo(".preview-box.letterhead"),$(".preview-box.business-card .white-bg-preview").clone().appendTo(".preview-box.envelope"),$(".preview-box.business-card .white-bg-preview").clone().appendTo(".preview-box.iphone"),$(".preview-box.business-card .white-bg-preview").clone().appendTo(".preview-box.box")}})}function ct(i){$(".dark-preview").remove(),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"preview_color_variation=dark",success:function(t){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("dark_foreground",i);re||$(".preview-box.building .dark-preview").first().clone().appendTo(".preview-box.building").addClass("shadow"),$(".preview-box.building .dark-preview").first().clone().appendTo(".preview-box.box2")}})}function ut(){$(".option-scroller").each(function(){var t=_.reduce($(this).find(".input-wrapper, .option"),function(t,e){return t+$(e).outerWidth(!0)},0);console.log($(this).parents(".tab-content").attr("id")," : ",t),$(this).width(t).addClass("relative")})}function dt(){me.update(!0)}function pt(){$(".swiper1 .logo-container").remove(),$(".logo-container:visible").remove(),me.slideTo(0,1),en=10,$(".swiper1").appendTo(".swiper-outer-wrapper:visible")}function ht(){var t=me.activeIndex;en<t&&0==ln&&$('.color-type.option[data-color-type="'+rn+'"]').hasClass("active")&&(_t($("[data-color-target]:visible").data("color-target")),en+=20);en<t&&0==hn&&$('#symbol-tab [href="#monogram"]').hasClass("active")&&(Pt(),en+=20),en<t&&0==Cn&&$('#container-tab [href="#outline-container"]').hasClass("active")&&(Nt(),en+=20),en<t&&0==wn&&$('#container-tab [href="#filled-container"]').hasClass("active")&&(jt(),en+=20),en<t&&0==on&&$('.font-type.option[data-font-tag="'+nn+'"]').hasClass("active")&&(mt(),en+=20),en<t&&0==an&&$('#slogan-tab [href="#change-slogan-font"]').hasClass("active")&&(gt(),en+=20),en<t&&0==un&&$('[href="#symbol-icon"]').hasClass("active")&&(Tt(dn=$('.options-panel form input[name="icon-search"]').val()),en+=20),en<t&&0==gn&&$('[href="#standard-icons"]').hasClass("active")&&(zt(),en+=20),en<t&&0==vn&&$('[href="#recently-used-icon"]').hasClass("active")&&(Dt("icon"),en+=20)}function ft(){var t=$(this).parent().data("color-target");rn=$(this).attr("data-color-type"),$(this).parent().find(".option").removeClass("active"),$(this).addClass("active"),ga("send","event","App",t+" Color Variations",rn),sn=0,pt(),_t(t)}function mt(){on=1,d(I18n.t("js.inline_loader.generating")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"font_variations="+nn+"&offset="+font_variations_offset,success:function(t){if(font_variations_offset+=20,$('.font-type.option[data-font-tag="'+nn+'"]').hasClass("active")){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");dt(),on=0}},complete:function(){p()}})}function gt(){an=1,d(I18n.t("js.inline_loader.slogan_variants")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:{slogan_variations:1,offset:slogan_variations_offset},success:function(t){if(slogan_variations_offset+=20,$('[href="#change-slogan-font"]').hasClass("active")){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");dt()}},complete:function(){p(),an=0}})}function vt(t,e){c(),Je=$("#preview-tab .logo-container").attr("data-local-logo-id"),Qe=Ie[tn=t],De=Ye=Qe,B();var n=$('[data-local-logo-id="'+tn+'"]:last').data("svg_code");$.ajax({type:"put",url:"/logos/"+ye,data:Qe,success:function(){q(ye,n,"main"),O(ye,Qe),it(),at(),$(e).clone(!0).off().insertAfter('#preview-tab .logo-container[data-local-logo-id="'+Je+'"]').addClass("focus favorite large").removeClass("atv-card atv-card-container hover").attr("data-db-logo-id",ye).find(".title").remove(),$('#preview-tab .logo-container[data-local-logo-id="'+Je+'"]').remove(),o(I18n.t("js.snackbar.logo_updated"))},complete:u})}function yt(){$('[rel="edit-tabs"]').removeClass("active"),K()}function bt(t,n,i){t.spectrum({color:"#"+(Ye[n]||Ye.hex),preferredFormat:"hex",showInput:!0,cancelText:I18n.t("js.color_picker.cancel"),chooseText:I18n.t("js.color_picker.choose"),change:function(t){var e=t.toHexString();wt(e=e.substring(1),n,i)}})}function wt(t,e,n){t="#"+t,$.ajax({type:"put",url:"/logos/"+ye,data:e+"="+t,success:function(t){$('[href="'+n+'"]').hasClass("active")&&($(n+" .logo-container").remove(),Ye=De=t,B(),Y("edit"),Lt())}})}function xt(){$("#custom-color").spectrum({color:"#"+(Ye.background_color||Ye.hex),preferredFormat:"hex",showInput:!0,cancelText:I18n.t("js.color_picker.cancel"),chooseText:I18n.t("js.color_picker.choose"),change:function(t){var e=t.toHexString();Ct(e=e.substring(1))}})}function Ct(e){ga("send","event","App","Set Custom Color"),e="#"+e,$.ajax({type:"put",url:"/logos/"+ye,data:{hex:e,background_color:e},success:function(t){$('[href="#color-tab"]').hasClass("active")&&($("#color-tab .logo-container").remove(),Ye=De=t,e,B(),Y("edit"),Lt())}})}function St(){var e=0;0==Ye.dark_bg&&(e=1),$.ajax({type:"put",url:"/logos/"+ye,data:"dark_bg="+e,success:function(t){$('[href="#color-tab"]').hasClass("active")&&($("#color-tab .logo-container").remove(),(De=t).db_id=ye,De.dark_bg=e,Ye.dark_bg=e,e,B(),Y("edit"),Lt())}})}function _t(t){ln=1,d(I18n.t("js.inline_loader.color_variants")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:{color_class_variations:rn,offset:sn,color_target:t},success:function(t){if($('.color-type.option[data-color-type="'+rn+'"]').hasClass("active")){sn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("color-variation");dt(),ln=0}},complete:function(){p()}})}function $t(){d(I18n.t("js.inline_loader.generating")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"layout_variations=1",success:function(t){if($('[href="#layout-tab"]').hasClass("active")){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");dt()}},complete:function(){p()}})}function Tt(i){un=1,c(),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"symbol_variations="+encodeURIComponent(i)+"&offset="+cn,success:function(t){if($('.options-panel form input[name="icon-search"]').val()==i&&($("#symbol-icon .logo-container").each(function(){$(this).attr("data-search-term")!=i&&($(this).remove(),$("#symbol-icon").scrollLeft(0))}),$('[href="#symbol-icon"]').hasClass("active"))){cn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");$("#symbol-icon .logo-container").attr("data-search-term",i),un=0,dt()}},complete:u})}function kt(){c();var t=$('input[name="monogram_text"]').val();$.ajax({type:"post",url:"process.php",data:"action=editMonogramText&logo_id="+ye+"&monogram_text="+encodeURIComponent(t),success:function(t){$('[href="#edit-symbol"]'
).hasClass("active")&&($("#edit-symbol .logo-container").remove(),(De=$.parseJSON(t)).db_id=ye,B(),Y("edit"),Lt(),u())}})}function It(){c();var t=$('input[name="symbol_scale"]').val();$.ajax({type:"PUT",url:"/logos/"+ye,data:{symbol_scale:t},success:function(t){$('[href="#edit-symbol"]').hasClass("active")&&($("#edit-symbol .logo-container").remove(),De=t,B(),Y("edit"),Lt(),u())}})}function Et(){c();var t=$("input[name=container_scale]").val();$.ajax({type:"PUT",url:"/logos/"+ye,data:{container_scale:t},success:function(t){$('[href="#edit-container"]').hasClass("active")&&($("#edit-container .logo-container").remove(),De=t,B(),Y("edit"),Lt())},complete:u})}function Pt(){hn=1,d(I18n.t("js.inline_loader.monogram_variants")),$.ajax({type:"post",url:"/logos",data:"logo_action=getTextAsSymbolVariations&logo_id="+ye+"&offset="+pn,success:function(t){if($('#symbol-tab [href="#monogram"]').hasClass("active")){pn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");hn=0,dt()}},complete:function(){p()}})}function At(){1,d(I18n.t("js.inline_loader.loading")),$.ajax({type:"post",url:"/logos",data:"logo_action=getTextInSymbolVariations&logo_id="+ye+"&offset="+fn,success:function(t){if($('[href="#symbol-tab"]').hasClass("active")){fn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");0,dt()}},complete:function(){p()}})}function Mt(){d(I18n.t("js.inline_loader.generating")),$.ajax({type:"post",url:"/logos",data:"logo_action=getTextInSymbolContainerVariations&logo_id="+ye,success:function(t){if($('#symbol-tab [href="#symbol-container"]').hasClass("active")){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");dt()}},complete:function(){p()}})}function Ot(){d(I18n.t("js.inline_loader.loading")),$.ajax({type:"post",url:"/logos",data:"logo_action=getTextInSymbolNoContainer&logo_id="+ye,success:function(t){if($('#symbol-tab [href="#symbol-container"]').hasClass("active")){var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation")}},complete:function(){p()}})}function zt(){gn=1,d(I18n.t("js.inline_loader.generating")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"standard_icons=1&offset="+mn,success:function(t){if($('[href="#standard-icons"]').hasClass("active")){mn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");gn=0,dt()}},complete:p})}function Dt(i){vn=1,d(I18n.t("js.inline_loader.generating")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"recently_used="+i+"&offset="+yn,success:function(t){if($('[href="#recently-used-'+i+'"]').hasClass("active")){yn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");vn=0,dt()}},complete:p})}function jt(){wn=1,d(I18n.t("js.inline_loader.generating")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"filled_container_variations=1&offset="+bn,success:function(t){if($('[href="#filled-container"]').hasClass("active")){bn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");wn=0,dt()}},complete:function(){p()}})}function Nt(){Cn=1,d(I18n.t("js.inline_loader.generating")),$.ajax({type:"get",url:"/logos/"+ye+"/variations",data:"outline_container_variations=1&offset="+xn,success:function(t){if($('[href="#outline-container"]').hasClass("active")){xn+=20;var e,n=t;for(e=0;e<n.length;++e)De=n[e],B(),Y("variation");Cn=0,dt()}},complete:function(){p()}})}function Lt(){var t=$(".tab-content.primary.active .logo-container").clone(!0).off();t.addClass("focus favorite large").removeClass("atv-card atv-card-container hover"),$("#preview-logo-wrapper").html(t)}function Ft(){ga("send","event","App","Edit Company Name");var t=$('input[name="new_company_name"]').val();$.ajax({type:"put",url:"/logos/"+ye,data:"logo_action=editCompanyName&company_name="+encodeURIComponent(t),success:function(t){$('[href="#edit-font"]').hasClass("active")&&($("#edit-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function Ht(){ga("send","event","App","Edit Symbol Alignment");var t=$(this).data("symbol-alignment");$.ajax({type:"put",url:"/logos/"+ye,data:{symbol_alignment:t},success:function(t){$('[href="#edit-symbol"]').hasClass("active")&&($("#edit-symbol .logo-container").remove(),De=t,B(),Y("edit"),Lt(),Bt())}})}function Rt(){ga("send","event","App","Edit Slogan Alignment");var t=$(this).data("slogan-alignment");$.ajax({type:"put",url:"/logos/"+ye,data:{slogan_alignment:t},success:function(t){$('[href="#edit-slogan-font"]').hasClass("active")&&($("#edit-slogan-font .logo-container").remove(),De=t,B(),Y("edit"),Lt(),qt())}})}function Bt(){$("[data-symbol-alignment]").removeClass("active"),$("[data-symbol-alignment="+Te+"]").addClass("active")}function qt(){$("[data-slogan-alignment]").removeClass("active"),$("[data-slogan-alignment="+_e+"]").addClass("active")}function Wt(){ga("send","event","App","Set All Caps");var t=(t=$('input[name="new_company_name"]').val()).toUpperCase();$('input[name="new_company_name"]').val(t),Ft()}function Xt(){ga("send","event","App","Set No Caps");var t=(t=$('input[name="new_company_name"]').val()).toLowerCase();$('input[name="new_company_name"]').val(t),Ft()}function Yt(){ga("send","event","App","Edit Main Font Size");var t=parseFloat($('input[name="main_font_size"]').val());$.ajax({type:"put",url:"/logos/"+ye,data:"main_size="+encodeURIComponent(t),success:function(t){$('[href="#edit-font"]').hasClass("active")&&($("#edit-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function Vt(){ga("send","event","App","Edit Main Letter Spacing");var t=parseFloat($('input[name="main_letter_spacing"]').val());$.ajax({type:"put",url:"/logos/"+ye,data:"logo_action=editMainLetterSpacing&main_letter_spacing="+encodeURIComponent(t),success:function(t){$('[href="#edit-font"]').hasClass("active")&&($("#edit-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function Gt(){ga("send","event","App","Edit Slogan");var t=$('input[name="new_slogan"]').val();$.ajax({type:"put",url:"/logos/"+ye,data:"logo_action=editSlogan&slogan="+encodeURIComponent(t),success:function(t){$('[href="#edit-slogan-font"]').hasClass("active")&&($("#edit-slogan-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function Ut(){var t=(t=$('input[name="new_slogan"]').val()).toUpperCase();$('input[name="new_slogan"]').val(t),Gt()}function Qt(){var t=(t=$('input[name="new_slogan"]').val()).toLowerCase();$('input[name="new_slogan"]').val(t),Gt()}function Kt(){if($('input[name="slogan_activated"]').is(":checked"))var t=1;else t=0;$.ajax({type:"post",url:"/logos",data:"logo_action=editSloganActivated&logo_id="+ye+"&new_slogan_activated="+t,success:function(t){$('[href="#edit-slogan-font"]').hasClass("active")&&($("#edit-slogan-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function Zt(){ga("send","event","App","Edit Slogan Size");var t=parseFloat($('input[name="slogan_size"]').val());$.ajax({type:"put",url:"/logos/"+ye,data:"logo_action=editSloganSize&slogan_size="+encodeURIComponent(t),success:function(t){$('[href="#edit-slogan-font"]').hasClass("active")&&($("#edit-slogan-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function Jt(){var t=parseFloat($('input[name="slogan_letter_spacing"]').val());$.ajax({type:"put",url:"/logos/"+ye,data:"logo_action=editSloganLetterSpacing&slogan_letter_spacing="+encodeURIComponent(t),success:function(t){$('[href="#edit-slogan-font"]').hasClass("active")&&($("#edit-slogan-font .logo-container").remove(),(De=t).db_id=ye,B(),Y("edit"),Lt())}})}function te(){Ye.business_package_available?(Ye.business_package_filled?($("#business-package-form textarea").attr("disabled","disabled").addClass("disabled"),$(".business-package-need-to-fill").addClass("display-none"),Ye.business_package_in_progress?$(".business-package-in-progress").removeClass("display-none"):$(".business-package-in-progress").addClass("display-none")):($("#business-package-form textarea").removeAttr("disabled").removeClass("disabled"),$(".business-package-need-to-fill").removeClass("display-none").show()),_.isEmpty(Ye.business_package_url)?$(".download-business-package-btn").addClass("display-none").attr("href","javascript:void(0)"):$(".download-business-package-btn").removeClass("display-none").attr("href",Ye.business_package_url)):$(".business-package-need-to-fill").addClass("display-none"),ot()}function ee(){if(Ye.purchased){$(".logo-notification-purchased").removeClass("display-none");var t=I18n.t("js.packages."+Ye["package"]),e=_.template(I18n.t("js.logos.purchased_notification"))({"package":t});$(".logo-notification-purchased").html(e)}else $(".logo-notification-purchased").addClass("display-none");ot()}window.wizard_mode&&window.addEventListener("popstate",function(t){if(window.stripeHandler&&window.stripeHandler.close(),console.log("popstate fired!",t.state),null!=t.state)if(_.contains(he,t.state.page)){console.log("Change back"),f();var e=he.splice(-1,1)[0],n=$(e).attr("data-prev-direction");window.changePage(t.state.page,n)}else console.log("Change forward"),he.push(t.state.page),"#logo-presentation"==t.state.page?G(ve,{skip_pushstate:!0}):window.changePage(t.state.page,t.state.direction);else console.log("Do nothing")});var ne,ie=0,oe=!1;window.onbeforeunload=function(){if(ie)return I18n.t("js.unsaved_changes_confirm")},ne=navigator.userAgent||navigator.vendor||window.opera,(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(ne)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ne.substr(0,4));var ae=jQuery.browser.mobile,re="undefined"!=typeof InstallTrigger,se=$(window).width(),le=($(window).height(),window.user_id||0),ce=window.user_email||"",ue="",de={};window.favorites_logos&&(de=window.favorites_logos);var pe="",he=[];window.navigation=he;var fe=0;if($(".swiper1").length){var me=new Swiper(".swiper1",{slidesPerView:"auto",centeredSlides:!0,mousewheelControl:!0,keyboardControl:!0,nextButton:".arrow-key-1.right",prevButton:".arrow-key-1.left"});me.on("onSlideChangeEnd",function(){ht()})}!ae&&600<se&&($(".tip, .tip-hold-below").each(function(){var t=$(this).attr("title");$(this).attr("data-title",t).attr("title","")}),$(".tip").mouseenter(function(){var t=$(this).attr("data-title");$("#tooltip").text(t);var e=$(this).width()/2,n=$(this).height()/2,i=parseFloat($(window).width()-210),o=$("#tooltip").height()/2,a=$(this).offset().left-75+e,r=parseFloat($(this).offset().top-(2*o-10)-$(window).scrollTop());if($("#tooltip").removeClass("above below left right"),r<9){r=$(this).offset().top+$(this).height()+5-$(window).scrollTop();$("#tooltip").addClass("below")}if(i<a){a=$(this).offset().left-210,r=parseFloat($(this).offset().top+n-o-5-$(window).scrollTop());$("#tooltip").addClass("left")}if(a<210){a=$(this).offset().left+2*e+5,r=parseFloat($(this).offset().top+n-o-5-$(window).scrollTop());$("#tooltip").addClass("right")}$("#tooltip").addClass("active").css({top:r+"px",left:a+"px"})})),!ae&&600<se&&($(".tip-hold-below").mouseenter(function(){var t=$(this).attr("data-title");$("#tooltip.hold-below").text(t);var e=$(this).outerWidth(),n=$(this).outerHeight(),i=(parseFloat($(window).width()-210),$("#tooltip.hold-below").height(),$(this).offset().left+e/2-150);$("#tooltip.hold-below").removeClass("above below left right");var o=parseFloat($(this).offset().top+n+15);$("#tooltip.hold-below").addClass("below big"),$("#tooltip.hold-below").addClass("active").css({top:o+"px",left:i+"px"})}),$(".tip, .tip-hold-below").mouseleave(function(){$("#tooltip, .tooltip.hold-below").removeClass("active")}));var ge=function(){$(".favorite-logos .logo-container").remove(),$(".favorite-logos .logo-container-placeholder").remove(),setTimeout(function(){A()},200)};$(document).on("click",".snackbar .accept",function(){s()}),$("#confirm_business_package").on("change",function(){var t,e=$(this).closest("form").find("input[type=submit]");$(this).is(":checked")?(e.removeClass("disabled").removeAttr("disabled"),t=e.data("title-submit")):(e.addClass("disabled").attr("disabled","disabled"),t=e.data("title-original")),e.val(t),e.data("disable-with",t)}),$(document).on("click",'a[rel="main-menu"]',function(t){t.preventDefault(),$(".main-menu").addClass("active"),$(".main-menu-close").addClass("active"),$(".main-menu-overlay").fadeIn(300),setTimeout(function(){$(".main-menu").addClass("slide")},100),$("body").addClass("noscroll")}),$('.main-menu-overlay, [rel="close-main-menu"], .main-menu a').on("click",function(){l()}),$(document).on("click",'[rel="modal"]',function(t){t.preventDefault(),h($(this).attr("href"))}),$(document).on("click touchstart",'.modal-overlay, [rel="close-modal"]',function(){$(".modal.active").hasClass("required")||($(".modal.active").hasClass("important")?w(I18n.t("js.close_modal.title"),I18n.t("js.close_modal.button"),"close-modal-persistent"):f())}),$(document).on("click",'[rel="close-modal-persistent"]',function(){f()}),$(document).keyup(function(t){27==t.keyCode&&($(".alert").hasClass("active")?x():$(".mini-menu-overlay").hasClass("active")?C():$(".modal").hasClass("active")?$(".modal.active").hasClass("required")||($(".modal.active").hasClass("important")?w("Are you sure you want to close this?","Close","close-modal-persistent"):f()):$(".slider-slide").hasClass("active")&&closeSlider())}),$(document).on("click","[data-alert-message]",function(){var t=$(this).attr("data-alert-message"),e=$(this).attr("data-primary-option"),n=$(this).attr("data-callback"),i=$(this).attr("data-callback-info");w(t,message2,e,n,i)}),$(document).on("click",'[rel="mini-menu"]',function(t){t.stopPropagation(),$(".mini-menu-overlay").addClass("active");var e=$(this).attr("href"),n=t.pageX,i=t.pageY-$(window).scrollTop(),o=parseFloat($(window).width()-210);o<n?$(e).addClass("active").css({top:i+"px",left:o+"px"}):$(e).addClass("active").css({top:i+"px",left:n+"px"})}),$(document).on("click touchstart",".mini-menu-overlay",function(){C()}),$(document).on("click",".generator-button",function(t){t.preventDefault(),T()}),$(document).on("click",".selection-box",function(){$(this).hasClass("selected")?$(this).removeClass("selected"):$(this).addClass("selected")}),$(document).on("click",".navigate",function(t){if(t.preventDefault(),!$(this).hasClass("disabled")){pe=$(this).data("page")||$(this).attr("href");var e=$(this).attr("data-nav-direction");goPage(pe,e,{url:$(this).attr("href")})}}),$(document).on("click",".prev",function(t){t.preventDefault(),$("#master-generator").hasClass("active")?w(I18n.t("js.master_generator.alert_title"),I18n.t("js.master_generator.alert_text"),I18n.t("js.master_generator.alert_yes"),"back-to-company-info"):U()}),$(document).on("click",'[rel="back-to-company-info"]',function(){$("#master-generator .logo-container").not(".favorite").remove(),U()}),$(document).on("click",".inspiration .continue",function(t){if(t.preventDefault(),!$(this).hasClass("loading")&&!$(this).hasClass("disabled")){ga("send","pageview","/event-color-inspiration-page"),ie=1,$(this).addClass("loading");var e=[];$(".inspiration .selected").each(function(){var t=$(this).attr("data-inspiration-id");e.push(t)}),$.ajax({type:"post",url:"/logos",data:"inspiration="+JSON.stringify(e),success:function(t){ga("send","event","Wizard","Inspiration Logo Choosed"),Ce=t,setTimeout(function(){$(".inspiration .continue").removeClass("loading")},500)}})}}),$(document).on("click",".colors .continue",function(t){if(t.preventDefault(),!$(this).hasClass("loading")&&!$(this).hasClass("disabled")){$(this).addClass("loading");var e={};$(".colors .selected").each(function(){var t=$(this).attr("data-colors-id");e[t]=1}),$.ajax({type:"PUT",url:"/logos/"+Ce,data:"colors="+encodeURIComponent(JSON.stringify(e)),success:function(t){ga("send","event","Wizard","Color Inspiration Choosed"),v(t.related_words),$(".symbol-finder-suggest-item.suggested").addClass("active"),g(t.suggested_icons),setTimeout(function(){$(".colors .continue").removeClass("loading")},500),m()}})}}),$(".symbol-finder-results").on("scroll",function(){$(this).scrollTop()+$(this).innerHeight()>=$(this)[0].scrollHeight&&t()}),window.showMasterLoader=c,window.hideMasterLoader=u,$('.alert-overlay, [rel="close-alert"], .alert a').click(function(){x()}),$("form#login-form").submit(function(t){$("form#login-form .button[type=submit]").addClass("loading"),t.preventDefault();var e=$(this).serialize();$.ajax({type:"post",url:"/api/users/sign_in",data:e,success:function(t){var e=t;"success"==e.status?($("form#login-form #error").removeClass("active"),location.reload()):($("form#login-form .button").removeClass("loading"),$("form#login-form #error").addClass("active").text(e.message))}})}),$(document).on("click",".google-login",function(){window.showMasterLoader();var t=$(this).closest("form"),e=gapi.auth2.getAuthInstance();e.isSignedIn.listen(function(){S(t)}),e.isSignedIn.get()?S(t):e.signIn({scope:"email"}),setTimeout(window.hideMasterLoader,1e3)}),$(document).on("click",".facebook-login",function(){window.showMasterLoader();var e=$(this).closest("form");FB.login(function(t){t.authResponse&&(e.find("input[name=facebook_access_token]").val(t.authResponse.accessToken),e.submit(),e.find("input[name=facebook_access_token]").val(""))},{scope:"email"}),setTimeout(window.hideMasterLoader,1e3)}),$("form#login-form-required").submit(function(t){$("form#login-form-required .button[type=submit]").addClass("loading"),t.preventDefault();var e=$(this).serialize();$.ajax({type:"post",url:"/api/users/sign_in",data:e,success:function(t){var e=t;"success"==e.status?(M(e.favorited_logos),le=e.user_id,R(ce=e.user_email,le),$("form#login-form-required #error").removeClass("active"),f(),$('input[name="user_email"]').val(ce),$(".for-signed-up").removeClass("hidden"),$(".for-not-signed-up").addClass("hidden"),$('.top-bar [href="#login"]').remove()):($("form#login-form-required .button").removeClass("loading"),$("form#login-form-required #error").addClass("active").text(e.message))}})}),$("#password_restore form").on("ajax:complete",function(t,e){var n=e.responseJSON;"success"==n.status?($(this).find(".notifications").addClass("active").text(n.message),$(this).find(".errors").removeClass("active").text("")):($(this).find(".notifications").removeClass("active").text(""),$(this).find(".errors").addClass("active").text(n.message))}),$("form#signup-form").submit(function(t){$("form#signup-form .button[type=submit]").addClass("loading"),t.preventDefault();var e=$(this).serialize();$.ajax({type:"post",url:"/api/users",data:e,success:function(t){var e=t;"success"==e.status?(ga("send","event","Account","Sign Up"),ga("send","pageview","/event-signed-up"),reachYandexGoal("SIGN_UP"),fbq("track","CompleteRegistration"),location.reload()):($("form#signup-form .button").removeClass("loading"),$("form#signup-form #error").addClass("active").text(e.message))}})}),$("form#signup-form-required").submit(function(t){$("form#signup-form-required .button[type=submit]").addClass("loading"),t.preventDefault();var e=$(this).serialize();$.ajax({type:"post",url:"/api/users",data:e,success:function(t){var e=t;"success"==e.status?(M(t.favorited_logos),ga("send","event","Account","Sign Up"),ga("send","pageview","/event-signed-up"),reachYandexGoal("SIGN_UP"),fbq("track","CompleteRegistration"),le=e.user_id,R(ce=e.user_email,le),ue=e.user_name,$("form#signup-form-required #error").removeClass("active"),f(),$('input[name="user_email"]').val(ce),$('.top-bar [href="#login"]').remove(),$(".for-signed-up").removeClass("hidden"),$(".for-not-signed-up").addClass("hidden"),$(".main-menu .header span").text(ue)):($("form#signup-form-required .button").removeClass("loading"),$("form#signup-form-required #error").addClass("active").text(e.message))}})});var ve=0,ye=0;atvImg();var be=$.urlParam("company_name")||"";$("#company_name").val(be);var we,xe="",Ce=2,Se=0,_e="",$e="",Te="",ke="",Ie=[],Ee=0,Pe=0,Ae="",Me="",Oe="",ze="",De="";xe.length,be.length,$(".new-logos").length&&$(".main-wrapper").scroll(W);var je="";window.goPage=function $n(t,e,n){n||(n={}),console.log("trigger pushstate",t,e),n.skip_pushstate||(window.history.pushState({page:t,direction:e},null,n.url||t),he.push(t)),changePage(t,e)},window.changePage=function Tn(t,e){console.log("changePage ",t,e),$(".top-bar .page-specific").removeClass("visible"),setTimeout(function(){$(".top-bar .page-specific").removeClass("active")},5);var n=$(t).attr("data-prev-direction");typeof n!=typeof undefined&&!1!==n&&1<he.length?$(".top-bar .back-arrow").addClass("visible"):$(".top-bar .back-arrow").removeClass("visible"),$(t).is($(".main-wrapper.active"))||("right"==e?($(".main-wrapper.active").addClass("left"),$(t).addClass("active right"),setTimeout(function(){$(t).removeClass("right")},20),setTimeout(function(){$(".main-wrapper.left").removeClass("active left")},650)):"left"==e?($(".main-wrapper.active").addClass("right"),$(t).addClass("active left"),setTimeout(function(){$(t).removeClass("left")},20),setTimeout(function(){$(".main-wrapper.right").removeClass("active right")},650)):"up"==e?($(".main-wrapper.active").addClass("down"),$(t).addClass("active up"),setTimeout(function(){$(t).removeClass("up")},20),setTimeout(function(){$(".main-wrapper.down").removeClass("active down")},650)):"down"==e&&($(".main-wrapper.active").addClass("up"),$(t).addClass("active down"),setTimeout(function(){$(t).removeClass("down")},20),setTimeout(function(){$(".main-wrapper.up").removeClass("active up")},650)));var i=$(t).attr("data-top-bar");if(setTimeout(function(){$(".top-bar").find(i).addClass("active"),setTimeout(function(){$(".top-bar").find(i).addClass("visible")},20)},20),"#master-generator"==t?le||setTimeout(function(){ga("send","pageview","/event-show-sign-up-form"),h("#signup-important")},500):"#favorites"==t&&ge(),0<$(".logo-container.large").length&&"down"==e&&"#master-generator"==t){var o=$(".logo-container.large"),a=$(o).offset();yt(),$(".previews").removeClass("active"),$(o).appendTo("body").addClass("fixed"),$(o).css({left:a.left,top:120,width:Ge,margin:0}),setTimeout(function(){$(o).removeClass("large"),$(o).css({left:je.left,top:je.top}),se<600?$(o).css({width:280}):$(o).css({width:470})},10),setTimeout(function(){$(o).insertAfter(".logo-container-placeholder").removeClass("fixed large focus").addClass("atv-card atv-card-container"),$(o).css({left:0,top:0}),"down"==e&&"#favorites"==t?se<600?$(o).css({margin:"15px 15px 0"}):$(o).css({margin:"15px"}):"down"==e&&"#master-generator"==t&&$(o).css({margin:"15px"}),$(".logo-container-placeholder").remove()},500)}K()};var Ne=1,Le=250/Ne;$(".main-wrapper#inspiration .selection-box").click(function(){ga("send","event","Wizard","Click on Inspired Logo");var t=$(".main-wrapper#inspiration .selection-box.selected").length;$(this).hasClass("selected")?t-=1:t+=1,$(".main-wrapper#inspiration .progress-inner").width(Le*t),setTimeout(function(){Ne<=t?($(".main-wrapper#inspiration .progress-outer").addClass("hidden"),$(".main-wrapper#inspiration .continue").removeClass("hidden")):($(".main-wrapper#inspiration .progress-outer").removeClass("hidden"),$(".main-wrapper#inspiration .continue").addClass("hidden"))},200)}),$(".main-wrapper#colors .selection-box").click(function(){ga("send","event","Wizard","Click Color Inspiration Item");var t=$(".main-wrapper#colors .selection-box.selected").length;$(this).hasClass("selected")?t-=1:t+=1,1<=t?$(".main-wrapper#colors .continue").removeClass("light").text(I18n.t("js.generator.color.continue")):$(".main-wrapper#colors .continue").addClass("light").text(I18n.t("js.generator.color.skip"))}),Z(),$(".main-wrapper#company-info #company_name, .main-wrapper#company-info #slogan").keydown(function(){setTimeout(function(){Z()},10)}),$("#company-info form").keypress(function(t){13==t.which&&$(".company-info .continue").trigger("click")}),$(".js-industry-select").selectize({sortField:"text"}),$(document).on("click",".company-info .continue",function(t){if(t.preventDefault(),!$(this).hasClass("loading")&&!$(this).hasClass("disabled")){$(this).addClass("loading");var e=$(".company-info input#company_name").val(),n=$(".company-info input#slogan").val();ke=$(".company-info [name=industry_id]").val(),$.ajax({type:"POST",url:"/logos",data:{company_name:e,slogan:n,industry_id:ke},success:function(t){Ce=t,ga("send","event","Wizard","Company Details Recorded"),reachYandexGoal("NAME_AND_SLOGAN"),y()},complete:function(){setTimeout(function(){$(".company-info .continue").removeClass("loading")},500)}})}}),$(document).on("focus",'[name="symbol_search"]',function(){$(".icon-search-helper.helper-onboarding").removeClass("hidden")}),$(document).on("blur",'[name="symbol_search"]',function(){$(".icon-search-helper.helper-onboarding").addClass("hidden")}),$(document).on("submit",".symbol-finder form",function(t){t.preventDefault();var e=n();b(e),J(e)});var Fe=0;$(document).on("click",".symbol-finder-results img",function(){if(ga("send","event","Wizard","Choose Icon"),Fe<5){$(this).addClass("favorite-symbol-img-chosen"),Fe+=1;var t=$(this).offset(),e=$(".favorite-symbol.open").first(),n=$(".favorite-symbol.open").first().offset(),i=$(e).attr("data-symbol-placeholder-number");$(this).attr("data-symbol-number",i);var o=$(this);$(this).appendTo("body").addClass("fixed"),$(this).css({left:t.left,top:t.top}),setTimeout(function(){$(o).css({left:n.left+2,top:n.top+2})},100),setTimeout(function(){$(".favorite-symbol.open").first().addClass("filled").removeClass("open"),$(o).appendTo(e).removeClass("fixed").removeAttr("style")},300),1<=Fe?$(".main-wrapper#symbol-selection .continue").removeClass("light").text(I18n.t("js.generator.icons.see_logos_btn")):$(".main-wrapper#symbol-selection .continue").addClass("light").text(I18n.t("js.generator.icons.skip_btn"))}else w(I18n.t("js.generator.icons.delete_icon_alert"),"","Ok","close-alert")}),$(document).on("click",".favorite-symbol-img-chosen",function(){var t=$(this).attr("data-symbol-number");$('.favorite-symbol.filled[data-symbol-placeholder-number="'+t+'"]').removeClass("filled").addClass("open"),$(this).remove(),1<=(Fe-=1)?$(".main-wrapper#symbol-selection .continue").removeClass("light").text(I18n.t("js.generator.icons.see_logos_btn")):$(".main-wrapper#symbol-selection .continue").addClass("light").text(I18n.t("js.generator.icons.skip_btn"))}),$(document).on("click",".symbol-selection .continue",function(t){if(t.preventDefault(),!$(this).hasClass("loading")&&!$(this).hasClass("disabled")){$(this).addClass("loading"),$(".symbol-selection .continue").addClass("loading");var e=[];$(".favorite-symbol-img-chosen").each(function(){var t=$(this).attr("data-symbol-url");e.push(t)}),$.ajax({type:"PUT",url:"/logos/"+Ce,data:"logo_action=recordSymbols&symbols="+encodeURIComponent(JSON.stringify(e)),success:function(){ga("send","event","Wizard","Icons Choosed"),setTimeout(function(){$(".symbol-selection .continue").removeClass("loading")},500),$("#master-generator .logo-container").remove(),Pe=0,T(),goPage("#master-generator","right")},always:function(){$(".symbol-selection .continue").removeClass("loading")}})}}),$(document).on("click",".symbol-finder-suggest-item",function(){if(!$(this).hasClass("active"))if($(".symbol-finder-suggest-item").removeClass("active"),$(this).addClass("active"),$(this).hasClass("suggested"))tt(0),$('.symbol-finder input[name="symbol_search"]').val("");else{var t=$(this).text();$('.symbol-finder input[name="symbol_search"]').val(t),J(t)}}),$(".main-wrapper").scroll(function(){50<$(".main-wrapper.active").scrollTop()?$(".top-bar").addClass("scrolled"):$(".top-bar").removeClass("scrolled")});var He="",Re="",Be="",qe=4,We=2,Xe=1600;$(document).on("mouseenter",".atv-card",function(){$(this).addClass("hover"),He=$(this).offset(),Re=$(this).width(),Be=$(this).height()}),$(document).on("mouseleave",".atv-card",function(){$(this).removeClass("hover"),$(this).css({transform:"none"})}),$(document).on("mousemove",".atv-card",function(t){var e={x:t.pageX-He.left,y:t.pageY-He.top},n=-1*et(e.y,Be),i=et(e.x,Re),o=-1*nt(e.x,Re),a=-1*nt(e.y,Be),r="perspective("+Xe+"px) rotateX("+n*qe+"deg) rotateY("+i*qe+"deg)",s=" translate3d("+o*We+"px,"+a*We+"px, 0px)";$(this).css({transform:"scale(1.05) "+r+s}),$(this).find(".atv-card-shine").css({background:"linear-gradient("+t.pageX/2+"deg, rgba(255,255,255,.25) 0%,rgba(255,255,255,0) 80%)"})}),$(document).on("click",".payment-button-el",function(){if(!le)return ga("send","pageview","/event-show-sign-up-form"),h("#signup-important"),!1;var t=$(this).closest("form").data("package");ga("send","event","App","Go To Payment",t),ga("send","pageview","/event-go-to-payment"),reachYandexGoal("GO_TO_PAYMENT"),fbq("track","AddToCart"),trackLogoEvent(ye,{event:"go_to_payment","package":t})}),$(document).on("click","[data-payment-form] .payment-button-el",function(){var t,e=$(this).closest("form"),n=e.find("input[name=logo_id]").val(),i=e.find("input[name=payment_id]").val(),o=parseFloat(e.find("input[name=amount]").val()),a=parseFloat(e.find("input[name=rub_currency_rate]").val()),r=ce,s=e.data("package"),l=e.find("input[name=currency]").val();t=n?n+"_"+s:"p_"+i;var c=e.find("input[name=description]").val();window.app.StripeInline.initiatePaymentOptions({amount:o,email:r,logo_id:n,payment_id:i,currency:l,description:c,"package":s,conversionRate:a,invoice_id:t})}),$(document).on("click",'[href="#get-logo"]',function(){ga("send","event","App","Buy Logo Dialog Clicked"),ga("send","pageview","/event-buy-logo-dialog-show"),reachYandexGoal("BUY_DIALOG_SHOWN"),trackLogoEvent(ye,{event:"buy_logo_clicked"}),ie=0,oe||_.isUndefined(window.jivo_api)||setTimeout(function(){},5e3)});var Ye,Ve="",Ge=se-40,Ue=$(".previews").offset();$(document).on("click","#master-generator .logo-container",function(){ga("send","pageview","/event-constructor-show")}),$(document).on("click","#master-generator .logo-container, #favorites .logo-container",function(){G($(this).attr("data-local-logo-id"))}),$(document).on("click",".favorite.button",function(){$(this).hasClass("active")?($(this).addClass(""),st(tn=$(".logo-container.focus").attr("data-local-logo-id")),U()):rt(tn=$(".logo-container.focus").attr("data-local-logo-id"))});var Qe="";$(document).on("click",".button.duplicate",function(){c(),rt(tn=$(".logo-container.focus").attr("data-local-logo-id"),1)}),$(document).on("click",".button.share",function(){var t=window.location.origin+"/logos/"+ye;$('input[name="logo_url"]').val(t);var e=$(".social-share-buttons");e.find(".social-icon-vk").attr("href","https://vk.com/share.php?url="+encodeURIComponent(t)),e.find(".social-icon-twitter").attr("href","https://twitter.com/intent/tweet?text="+encodeURIComponent(I18n.t("js.share.twitter_text")+" "+t+" #turbologo #logo #design")),e.find(".social-icon-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t))}),$(document).on("click",".share-link",function(t){t.preventDefault(),$('input[name="logo_url"]').select(),document.execCommand("copy")}),$(".tab-bar").each(function(){
var t=100/$(this).find("li").length;$(this).find("li").css("width",t+"%")}),$(".tab-bar a").click(function(t){if(t.preventDefault(),$(this).hasClass("disabled"))return!1;var e=$(this).attr("rel"),n=$(this).attr("href");$('.tab-bar a[rel="'+e+'"], .tab-content[rel="'+e+'"], .tab-content.primary, .tab-content .option, #logo-presentation .tab-content .tab-bar a.active').removeClass("active"),$(this).addClass("active"),$(n).addClass("active"),$(this).hasClass("reset")&&($(n).find(".logo-container").remove(),$(n).find(".option").removeClass("active")),K()}),$(document).on("click",".tab-link",function(t){t.preventDefault();var e=$(this).data("target-tab");$('.tab-bar a[href="'+e+'"]').click()}),$('[href="#preview-tab"]').on("click",function(){ct(),lt()}),ut();var Ke,Ze,Je,tn,en=10,nn="none",on=0,an=0;$(document).on("click",'[href="#font-tab"]',function(){ga("send","event","App","Font Tab Clicked"),$('[href="#edit-font"]').trigger("click")}),$(document).on("click",'[href="#slogan-tab"]',function(){ga("send","event","App","Slogan Tab Clicked"),$('[href="#edit-slogan-font"]').trigger("click")}),$(document).on("click",'[href="#change-font"]',function(){ga("send","event","App","Name Font Type Change Tab Clicked"),$("#change-font .logo-container").remove()}),$(document).on("click","#change-font .option",function(){$("#font-tab .option").removeClass("active"),$(this).addClass("active"),nn=$(this).attr("data-font-tag"),ga("send","event","App","Font Tag Clicked",nn),font_variations_offset=0,pt("#change-font"),mt()}),$(document).on("click",'[href="#edit-font-color"]',function(){}),$(document).on("click","#color-tab .option",ft),$(document).on("click",'[href="#change-slogan-font"]',function(){ga("send","event","App","Change Slogan Font Tab Clicked"),pt("#change-slogan-font"),slogan_variations_offset=0,gt()}),$(document).on("click",".logo-container-slider .logo-container",function(){$(this).hasClass("disabled")||$(this).hasClass("favorite")||(Ze=$(this).attr("data-local-logo-id"),Ke=$(this),vt(Ze,Ke))});var rn="none",sn=0,ln=0;$(document).on("click",'[href="#color-tab"]',function(){ga("send","event","App","Color Tab Clicked"),$('[href="#color-variations"]').trigger("click")}),$(document).on("click",'[href="#edit-color"]',function(){ga("send","event","App","Edit Color Tab Clicked"),$("#preview-tab .logo-container.focus").clone(!0).off().appendTo("#edit-color").removeClass("focus favorite large atv-card atv-card-container hover").addClass("font-option-preview disabled").attr("style",""),xt(),bt($("#slogan-custom-color"),"slogan_text_color","#edit-color"),bt($("#company-name-custom-color"),"main_text_color","#edit-color"),bt($("#icon-color"),"icon_color","#edit-color"),bt($("#container-color"),"container_color","#edit-color")}),$(document).on("click",".switch-dark-bg",function(t){t.preventDefault(),St()});$(document).on("click",'[href="#layout-tab"]',function(){ga("send","event","App","Layout Tab Clicked"),pt("#layout-tab"),$t()}),$(document).on("click",'[href="#symbol-tab"]',function(){$('[href="#edit-symbol"]').trigger("click")});var cn=0,un=0,dn="";$("#symbol-icon .options-panel form").submit(function(t){t.preventDefault(),dn=$('.options-panel form input[name="icon-search"]').val(),pt("#symbol-icon"),cn=0,Tt(dn)}),$(document).on("click",'[href="#symbol-icon"]',function(){$("#symbol-icon .logo-container").remove(),$("#preview-tab .logo-container.focus").clone(!0).off().prependTo("#symbol-icon .logo-container-slider").removeClass("focus favorite large atv-card atv-card-container hover").addClass("symbol-icon-preview disabled").attr("style",""),$(".logo-container-slider").attr("style",""),cn=0}),$(document).on("click",'[href="#edit-symbol"]',function(){$("#edit-symbol .logo-container").remove(),$("#preview-tab .logo-container.focus").clone(!0).off().appendTo("#edit-symbol").removeClass("focus favorite large atv-card atv-card-container hover").addClass("font-option-preview disabled").attr("style",""),Bt()}),$(document).on("click",'[href="#edit-container"]',function(){$("#edit-container .logo-container").remove(),$("#preview-tab .logo-container.focus").clone(!0).off().appendTo("#edit-container").removeClass("focus favorite large atv-card atv-card-container hover").addClass("font-option-preview disabled").attr("style","")}),$(document).on("change",'input[name="monogram_text"]',function(){kt()}),$(document).on("change",'input[name="symbol_scale"]',function(){It()}),$(document).on("change",'input[name="container_scale"]',Et);var pn=0,hn=0;$(document).on("click",'#symbol-tab [href="#monogram"]',function(){pn=0,pt("#monogram"),Pt()});$(document).on("click","#symbol-tab .option.text-in-symbol",function(){$("#symbol-tab .option").removeClass("active"),$(this).addClass("active"),$("#symbol-tab .logo-container").remove(),$("#symbol-tab .options-panel").css("margin-left",-100),setTimeout(function(){$("#symbol-tab .sub-options-panel").addClass("active")},200)});var fn=0;$(document).on("click",'#symbol-tab .option[data-symbol-type="text_in_symbol"]',function(){$("#symbol-tab .option").removeClass("active"),$(this).addClass("active"),fn=0,pt("#monogram"),At()});$(document).on("click",'#symbol-tab [href="#symbol-container"]',function(){pt("#symbol-container"),Ot(),Mt()});var mn=0,gn=0;$(document).on("click",'[href="#standard-icons"]',function(){mn=0,pt("#standard-icons"),zt()});var vn=0,yn=0;$(document).on("click",'[href="#recently-used-icon"]',function(){yn=0,pt("#recently-used-icon"),Dt("icon")});var bn=0,wn=0;$('[href="#container-tab"]').click(function(){$('[href="#edit-container"]').trigger("click")});$(document).on("click",'[href="#filled-container"]',function(){bn=0,pt("#filled-container"),jt()});var xn=0,Cn=0;$(document).on("click",'[href="#outline-container"]',function(){xn=0,pt("#outline-container"),Nt()}),$(document).on("click",'[href="#edit-slogan-font"]',function(){ga("send","event","App","Slogan Option Tab Clicked"),$("#preview-tab .logo-container.focus").clone(!0).off().appendTo("#edit-slogan-font").removeClass("focus favorite large atv-card atv-card-container hover").addClass("font-option-preview disabled").attr("style",""),qt()}),$(document).on("click",'[href="#edit-font"]',function(){$("#preview-tab .logo-container.focus").clone(!0).off().appendTo("#edit-font").removeClass("focus favorite large atv-card atv-card-container hover").addClass("font-option-preview disabled").attr("style","")}),$("input.numerical").keydown(function(t){switch(t.which){case 38:if(t.preventDefault(),$(this).hasClass("precise"))var e=Math.round(100*(parseFloat($(this).val())+.05+1e-5))/100;else e=Math.round(100*(parseFloat($(this).val())+5+1e-5))/100;$(this).val(e);break;case 40:if(t.preventDefault(),$(this).hasClass("precise"))e=Math.round(100*(parseFloat($(this).val())-.05+1e-5))/100;else e=Math.round(100*(parseFloat($(this).val())-5+1e-5))/100;$(this).val(e);break;default:return}}),$(document).on("click",".input-size-picker a",function(t){t.preventDefault();var e,n=$(this).parent().find("input"),i=$(this).hasClass("minus")?"minus":"plus",o=parseFloat(n.val());e=n.hasClass("precise")?"minus"==i?Math.round(100*(o-.05+1e-5))/100:Math.round(100*(o+.05+1e-5))/100:n.hasClass("unary")?"minus"==i?o-1:o+1:"minus"==i?Math.round(100*(o-5+1e-5))/100:Math.round(100*(o+5+1e-5))/100,n.val(e),$(this).parents(".input-size-picker").hasClass("font-size-picker")&&Yt(),$(this).parents(".input-size-picker").hasClass("letter-spacing-picker")&&Vt(),$(this).parents(".input-size-picker").hasClass("slogan-size-picker")&&Zt(),$(this).parents(".input-size-picker").hasClass("slogan-letter-spacing-picker")&&Jt(),$(this).parents(".input-size-picker").hasClass("symbol-scale-picker")&&It(),$(this).parents(".input-size-picker").hasClass("container-scale-picker")&&Et()}),$(document).on("keyup",'input[name="main_font_size"]',function(){Yt()}),$(document).on("keyup",'input[name="main_letter_spacing"]',function(){Vt()}),$(document).on("change",'input[name="new_company_name"]',function(){Ft()}),$(document).on("change",'input[name="main_all_caps"]',function(){Wt()}),$(document).on("change",'input[name="main_no_caps"]',function(){Xt()}),$(document).on("change",'input[name="new_slogan"]',function(){Gt()}),$(document).on("change",'input[name="slogan_all_caps"]',function(){Ut()}),$(document).on("change",'input[name="slogan_no_caps"]',function(){Qt()}),$(document).on("keyup",'input[name="slogan_size"]',function(){Zt()}),$(document).on("change",'input[name="slogan_activated"]',function(){Kt()}),$(document).on("keyup",'input[name="slogan_letter_spacing"]',function(){Jt()}),$(document).on("click","button[data-symbol-alignment]",Ht),$(document).on("click","button[data-slogan-alignment]",Rt);var Sn="";if($(document).on("submit","#coupon-form",function(t){$("#coupon-form .button").addClass("loading"),t.preventDefault(),Sn=$('#coupon-form input[name="coupon_code"]').val(),$.ajax({type:"post",url:"/coupons",data:"user_id="+le+"&coupon_name="+Sn,success:function(t){if($("#coupon-form .button").removeClass("loading"),"failed"==t.error)$("#coupon-form #error").addClass("active").text(I18n.t("js.coupon.not_found"));else{$('[href="#coupon"]').remove();var e=t.description,n=t.percent_off;h("#coupon-found"),$("#coupon-found h3 span").text(e),n&&N(n),$(".package-option .crossed-out").remove(),$(".package-option .green").text(I18n.t("js.coupon.with_coupon"))}}})}),$(document).on("keyup","#business-package-form textarea",function(){var t={};t[$(this).attr("name")]=$(this).val(),$.ajax({type:"put",url:"/logos/"+ye+"/save_business_data",data:t})}),$(document).on("submit","#business-package-form",function(t){t.preventDefault();var e=$(this).serialize();$.ajax({type:"put",url:"/logos/"+ye+"/confirm_business_data",data:e,success:function(t){Ye=t,te(),j()}})}),$(document).on("stripe.inited",function(){$("form[data-payment-form] button[type=submit]").attr("disabled",!1)}),wizard_mode){"/logos/favorites"==location.pathname?setTimeout(function(){A()},200):(ga("send","pageview","/event-company-info-page"),setTimeout(function(){$("#company-info #company_name").focus()},100));var _n="#"+$(".main-wrapper.active").attr("id");window.history.replaceState({page:_n},null,_n),he.push(_n)}window.specific_logo_id&&(ze=ye=ve=window.specific_logo_id,De=window.specific_logo,B(),Y("specific",0),G(De.temp_id,{skip_navigation:!0}),window.wizard_mode?$("#specific-logo-options").addClass("active visible"):(ct(),lt()))}),jQuery(function(n){"use strict";n(document).on("click.nav",".navbar-collapse.in",function(t){n(t.target).is("a")&&n(this).removeClass("in").addClass("collapse")}),n(window).on("load",function(){setTimeout(function(){n("#loading").fadeOut("slow",function(){})},300)}),n(".popup").magnificPopup({disableOn:0,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),n(".reviews").owlCarousel({slideSpeed:200,items:1,singleItem:!0,autoPlay:!0,pagination:!1}),n(".clients").owlCarousel({slideSpeed:200,items:5,singleItem:!1,autoPlay:!0,pagination:!1}),n(window).on("scroll",function(){1e3<n(this).scrollTop()?n("#back-top").fadeIn():n("#back-top").fadeOut()}),n("#back-top").on("click",function(){return n("#back-top").tooltip("hide"),n("body,html").animate({scrollTop:0},1500),!1}),n(function(){n("a.page-scroll").on("click",function(t){var e=n(this);n("html, body").stop().animate({scrollTop:n(e.attr("href")).offset().top},1500,"easeInOutExpo"),t.preventDefault()})})}),window.app.StripeInline={_inited:!1,card:null,$form:null,$submitBtn:null,stripe:null,elements:null,paymentRequest:null,paymentOptions:null,style:{base:{iconColor:"#666ee8",color:"#31325f",fontWeight:400,fontFamily:'"Helvetica Neue", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"},":-webkit-autofill":{color:"#666ee8"}}},elementClasses:{focus:"stripe-focus",empty:"stripe-empty",invalid:"stripe-invalid"},init:function(){if(this._inited)return!1;this._inited=!0,this.$form=$("#stripe-payment-form"),this.$submitBtn=$("#stripe_checkout button.checkout"),this.$paypalBtn=$("#stripe_checkout .button-paypal"),this.$yandexForms=this.$form.find(".payment-info form.yandex-form"),window.stripe_public_key&&(this.stripe=Stripe(window.stripe_public_key),this.elements=this.stripe.elements(),$("#card-element").length?(this.card=this.elements.create("card",{style:this.style}),this.card.mount("#card-element"),this.card.on("change",this.onCardChange)):(this.cardNumber=this.elements.create("cardNumber",{style:this.style,classes:this.elementClasses}),this.cardNumber.mount("#stripe-card-number"),this.cardNumber.on("change",this.onCardChange),this.cardExpiry=this.elements.create("cardExpiry",{style:this.style,classes:this.elementClasses}),this.cardExpiry.mount("#stripe-card-expiry"),this.cardCvc=this.elements.create("cardCvc",{style:this.style,classes:this.elementClasses}),this.cardCvc.mount("#stripe-card-cvc"),this.$zip=$("#stripe-card-zip"),this.$cardholder=$("#stripe-cardholder")),this.initPaymentRequest()),this.$form.on("click","button.checkout",this.onFormSubmit),this.$form.on("change","input[name=payment]",this.onPaymentTypeChange),this.$paypalBtn.on("click",this.onPaypalSubmit),this.onPaymentTypeChange(),this.$yandexForms.on("submit",function(){window.app.StripeInline.trackPayEvent("yandex")})},initPaymentRequest:function(){this.paymentRequest=this.stripe.paymentRequest({country:"US",currency:"usd",total:{label:"Total",amount:1900}}),this.paymentRequest.on("source",function(t){window.showMasterLoader();try{window.app.StripeInline.charge(t.source),t.complete("success"),ga("send","event","App","Fast Pay Success Charge")}catch(e){t.complete("fail"),ga("send","event","App","Fast Pay Fail Charge")}});var e=this.elements.create("paymentRequestButton",{paymentRequest:this.paymentRequest});this.paymentRequest.canMakePayment().then(function(t){console.log("Payment request support result: ",t),t?(ga("send","event","App","Fast Pay Button Available"),e.mount("#payment-request-button"),$("#payment-request").addClass("visible")):(ga("send","event","App","Fast Pay Button Unavailable"),console.log("Payment request is not available"))})},initiatePaymentOptions:function(t){t.currency=t.currency.toLowerCase(),this.paymentOptions=t,window.stripe_public_key&&this.paymentRequest.update({currency:t.currency.toLowerCase(),total:{label:t.description,amount:100*t.amount}}),this.updateSubmitLabel(),ga("send","event","App","Inline Payment Form Visible")},onPaymentTypeChange:function(){var t=window.app.StripeInline,e=t.$form.find("input[name=payment]:checked").val();t.$form.find(".payment-info").removeClass("visible"),t.$form.find(".payment-info."+e).addClass("visible"),"cloudpayments"==e||"stripe_card"==e?t.$submitBtn.show():t.$submitBtn.hide(),"yandex_money"!=e&&"yandex_webmoney"!=e||t.setYandexFields()},onFormSubmit:function(t){t.preventDefault(),window.showMasterLoader();var e=window.app.StripeInline,n=e.$form.find("input[name=payment]:checked").val();if(console.log("Form submit",n),"stripe_card"===n)if(e.trackPayEvent("stripe"),e.card){var i={owner:{email:e.paymentOptions.email}};e.stripe.createSource(e.card,i).then(e.handleStripeOrder)}else{var o=e.$zip.val(),a=e.$cardholder.val();if(_.isEmpty(a))e.onPaymentFail(I18n.t("js.stripe.error.cardholder_empty"));else{i={owner:{name:a,email:e.paymentOptions.email,address:{postal_code:o}}};e.stripe.createSource(e.cardNumber,i).then(e.handleStripeOrder)}}else"cloudpayments"==n&&(e.trackPayEvent("cloudpayments"),e.initiateCloudpayment())},currencyUnit:function(t){switch(t){case"rub":return"\u20bd";case"usd":return"$";case"eur":return"\u20ac";case"uah":return"\u0433\u0440\u043d.";default:return""}},updateSubmitLabel:function(){var t,e=this.currencyUnit(this.paymentOptions.currency);t="rub"==this.paymentOptions.currency||"uah"==this.paymentOptions.currency?this.paymentOptions.amount+" "+e:e+this.paymentOptions.amount,this.$submitBtn.text(I18n.t("js.checkout.pay")+" "+t)},onCardChange:function(t){window.app.StripeInline;console.log("on card change error",t);var e=$("#card-errors");t.error?(e.text(t.error.message),e.addClass("visible")):e.removeClass("visible")},charge:function(t){var e=window.app.StripeInline,n=_.clone(e.paymentOptions);n.stripeToken=t.id,n.stripe_source=t,$.ajax({type:"POST",url:"/stripe/charge",data:n,timeout:3e4,success:function(t){e.paymentOptions.logo_id&&trackLogoEvent(e.paymentOptions.logo_id,{event:"charge_result",result:t}),"ok"==t.status?t.redirect_url&&window.location.replace(t.redirect_url):e.onPaymentFail(t.message)},error:function(){e.onPaymentFail()}})},handleStripeOrder:function(t){var e=window.app.StripeInline;if(console.log("handleStripeOrder ",t),e.paymentOptions.logo_id&&trackLogoEvent(e.paymentOptions.logo_id,{event:"handleStripeCharge",source:t}),t.error)e.onPaymentFail(t.error.message);else{var n=t.source;switch(n.status){case"chargeable":e.charge(n);break;case"pending":break;case"redirect":window.location.replace(n.redirect.url)}}},pollPaymentStatus:function(e){var n=window.app.StripeInline;$.ajax({type:"get",url:"/payments/"+e+"/status",timeout:1e4,success:function(t){"pending"==t.state||"awaiting"==t.state?setTimeout(n.pollPaymentStatus,1e3,e):"paid"==t.state?window.location.reload():"failed"==t.state&&n.onPaymentFail()},error:function(){n.onPaymentFail()}})},onPaymentFail:function(t){var e=window.app.StripeInline;e.paymentOptions.logo_id&&trackLogoEvent(e.paymentOptions.logo_id,{event:"payment_fail",message:t}),_.isEmpty(t)&&(t=I18n.t("js.stripe.error.text")),$.fancybox.open('<div class="stripe-error-message"><h3>'+I18n.t("js.stripe.error.header")+"</h3><p>"+t+"</p></div>"),window.hideMasterLoader()},onPaypalFail:function(){$.fancybox.open('<div class="stripe-error-message"><h3>'+I18n.t("js.paypal.error.header")+"</h3><p>"+I18n.t("js.paypal.error.text")+"</p></div>"),window.hideMasterLoader()},onPaypalSubmit:function(t){t.preventDefault();var e=window.app.StripeInline;e.trackPayEvent("paypal"),window.showMasterLoader(),$.ajax({type:"post",url:"/logos/pay_paypal",data:e.paymentOptions,timeout:3e4,success:function(t){"ok"==t.status?window.location.replace(t.redirect_url):e.onPaypalFail()},error:function(){e.onPaypalFail()}})},initiateCloudpayment:function(e){var t,n=window.app.StripeInline,i=(e=n.paymentOptions,new cp.CloudPayments({language:I18n.t("js.cloudpayments.language"),startWithButton:!1})),o=e.conversionRate||1,a=e.amount,r=parseFloat((a*o).toFixed(2)),s=n.currencyUnit(e.currency);if(e.logo_id){var l=1==o?"js.cloudpayments.logo_template_rub":"js.cloudpayments.logo_template";template=_.template(I18n.t(l)),t=template({logo_id:e.logo_id,amount:a,rub_amount:r,conversion_rate:o,currency:s})}else{l=1==o?"js.cloudpayments.payment_template_rub":"js.cloudpayments.payment_template";template=_.template(I18n.t(l)),t=template({payment_id:e.payment_id,amount:a,rub_amount:r,conversion_rate:o,currency:s})}window.hideMasterLoader(),i.charge({publicId:I18n.t("js.cloudpayments.pk_id"),description:t,amount:r,currency:"RUB",invoiceId:e.invoice_id,accountId:e.email},function(t){console.log("success",t),e.logo_id?window.location="/logos/"+e.logo_id:window.location="/payments/"+e.payment_id,window.location.reload()},function(t,e){console.log("fail",t,e)})},setYandexFields:function(){var t=window.app.StripeInline,e=t.paymentOptions,n=t.$yandexForms;if(!_.isEmpty(e)){var i='{"customerContact": "'+e.email+'", "taxSystem": 2, "items": [{"quantity":1, "price": {"amount": '+e.amount+'}, "tax": 1, "text": "\u041e\u043f\u043b\u0430\u0442\u0430 \u0443\u0441\u043b\u0443\u0433 \u043f\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430" }] }';n.find("input[name=cps_email]").val(e.email),n.find("input[name=customerNumber]").val(e.email),n.find("input[name=sum]").val(e.amount),n.find("input[name=ym_merchant_receipt]").val(i),n.find("input[name=orderNumber]").val(e.invoice_id),n.find("input[name=shopDefaultUrl]").val(encodeURI(window.location.href))}},trackPayEvent:function(t){var e=window.app.StripeInline.paymentOptions;e.logo_id&&(trackLogoEvent(e.logo_id,{event:"charge",payment_method:t,options:e}),ga("send","event","App","Charge",t,e.amount)),fbq("track","InitiateCheckout")}},$.urlParam("wait_payment")){var paymentId=$.urlParam("p_id");window.app.StripeInline.pollPaymentStatus(paymentId),window.history.replaceState({},document.title,window.location.pathname),$(document).ready(function(){window.showMasterLoader()})}window.init_cloudpayments&&addScript({src:"https://widget.cloudpayments.ru/bundles/cloudpayments",async:1,callback:function(){window.app.StripeInline.init()}}),window.init_stripe&&("inline"==window.init_stripe?addScript({src:"https://js.stripe.com/v3/",async:1,callback:function(){window.app.StripeInline.init()}}):addScript({src:"https://checkout.stripe.com/checkout.js",async:1,callback:function(){window.stripeHandler=StripeCheckout.configure({key:window.stripe_public_key,image:"https://turbologo.com/turbologo-img.png",locale:"auto"}),$(document).trigger("stripe.inited")}})),addScript({src:"https://turbologo.postaffiliatepro.com/scripts/dj3lw2",id:"pap_x2s6df8d",async:1,callback:initPostAffiliate});